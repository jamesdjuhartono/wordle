var kf=Object.defineProperty;var Ef=(s,e,t)=>e in s?kf(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var oe=(s,e,t)=>(Ef(s,typeof e!="symbol"?e+"":e,t),t),Ml=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var Os=(s,e,t)=>(Ml(s,e,"read from private field"),t?t.call(s):e.get(s)),Jn=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)},ps=(s,e,t,n)=>(Ml(s,e,"write to private field"),n?n.call(s,t):e.set(s,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function re(){}const Si=s=>s;function Tf(s,e){for(const t in e)s[t]=e[t];return s}function If(s){return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"}function Qc(s){return s()}function Ol(){return Object.create(null)}function xe(s){s.forEach(Qc)}function xt(s){return typeof s=="function"}function Ie(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}let Fr;function xl(s,e){return Fr||(Fr=document.createElement("a")),Fr.href=e,s===Fr.href}function Af(s){return Object.keys(s).length===0}function Sf(s,...e){if(s==null)return re;const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Tt(s,e,t){s.$$.on_destroy.push(Sf(e,t))}function ss(s,e,t,n){if(s){const r=Xc(s,e,t,n);return s[0](r)}}function Xc(s,e,t,n){return s[1]&&n?Tf(t.ctx.slice(),s[1](n(e))):t.ctx}function ns(s,e,t,n){if(s[2]&&n){const r=s[2](n(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const i=[],o=Math.max(e.dirty.length,r.length);for(let u=0;u<o;u+=1)i[u]=e.dirty[u]|r[u];return i}return e.dirty|r}return e.dirty}function rs(s,e,t,n,r,i){if(r){const o=Xc(e,t,n,i);s.p(o,r)}}function is(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ao(s){let e=!1;return function(...t){e||(e=!0,s.call(this,...t))}}function jl(s){return s??""}function qt(s,e,t){return s.set(t),e}const Yc=typeof window<"u";let Qo=Yc?()=>window.performance.now():()=>Date.now(),Xo=Yc?s=>requestAnimationFrame(s):re;const cn=new Set;function Jc(s){cn.forEach(e=>{e.c(s)||(cn.delete(e),e.f())}),cn.size!==0&&Xo(Jc)}function Yo(s){let e;return cn.size===0&&Xo(Jc),{promise:new Promise(t=>{cn.add(e={c:s,f:t})}),abort(){cn.delete(e)}}}function T(s,e){s.appendChild(e)}function Zc(s){if(!s)return document;const e=s.getRootNode?s.getRootNode():s.ownerDocument;return e&&e.host?e:s.ownerDocument}function Rf(s){const e=z("style");return Cf(Zc(s),e),e.sheet}function Cf(s,e){return T(s.head||s,e),e.sheet}function L(s,e,t){s.insertBefore(e,t||null)}function j(s){s.parentNode&&s.parentNode.removeChild(s)}function Ot(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function z(s){return document.createElement(s)}function dt(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function H(s){return document.createTextNode(s)}function $(){return H(" ")}function Us(){return H("")}function ae(s,e,t,n){return s.addEventListener(e,t,n),()=>s.removeEventListener(e,t,n)}function ei(s){return function(e){return e.preventDefault(),s.call(this,e)}}function ti(s){return function(e){e.target===this&&s.call(this,e)}}function V(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function eh(s){return s===""?null:+s}function Pf(s){return Array.from(s.childNodes)}function ue(s,e){e=""+e,s.data!==e&&(s.data=e)}function bn(s,e){s.value=e??""}function Ct(s,e,t,n){t==null?s.style.removeProperty(e):s.style.setProperty(e,t,n?"important":"")}function si(s,e,t){for(let n=0;n<s.options.length;n+=1){const r=s.options[n];if(r.__value===e){r.selected=!0;return}}(!t||e!==void 0)&&(s.selectedIndex=-1)}function th(s){const e=s.querySelector(":checked");return e&&e.__value}function Se(s,e,t){s.classList[t?"add":"remove"](e)}function Jo(s,e,{bubbles:t=!1,cancelable:n=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(s,t,n,e),r}function Ll(s,e){return new s(e)}const ni=new Map;let ri=0;function Vf(s){let e=5381,t=s.length;for(;t--;)e=(e<<5)-e^s.charCodeAt(t);return e>>>0}function Df(s,e){const t={stylesheet:Rf(e),rules:{}};return ni.set(s,t),t}function ii(s,e,t,n,r,i,o,u=0){const l=16.666/n;let c=`{
`;for(let A=0;A<=1;A+=l){const R=e+(t-e)*i(A);c+=A*100+`%{${o(R,1-R)}}
`}const h=c+`100% {${o(t,1-t)}}
}`,f=`__svelte_${Vf(h)}_${u}`,m=Zc(s),{stylesheet:g,rules:_}=ni.get(m)||Df(m,s);_[f]||(_[f]=!0,g.insertRule(`@keyframes ${f} ${h}`,g.cssRules.length));const E=s.style.animation||"";return s.style.animation=`${E?`${E}, `:""}${f} ${n}ms linear ${r}ms 1 both`,ri+=1,f}function oi(s,e){const t=(s.style.animation||"").split(", "),n=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),r=t.length-n.length;r&&(s.style.animation=n.join(", "),ri-=r,ri||Nf())}function Nf(){Xo(()=>{ri||(ni.forEach(s=>{const{ownerNode:e}=s.stylesheet;e&&j(e)}),ni.clear())})}let hr;function Zt(s){hr=s}function Cn(){if(!hr)throw new Error("Function called outside component initialization");return hr}function Er(s){Cn().$$.on_mount.push(s)}function Ri(s){Cn().$$.on_destroy.push(s)}function jt(){const s=Cn();return(e,t,{cancelable:n=!1}={})=>{const r=s.$$.callbacks[e];if(r){const i=Jo(e,t,{cancelable:n});return r.slice().forEach(o=>{o.call(s,i)}),!i.defaultPrevented}return!0}}function Zo(s,e){return Cn().$$.context.set(s,e),e}function Pn(s){return Cn().$$.context.get(s)}function zf(s,e){const t=s.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const rn=[],Ae=[];let hn=[];const vo=[],Mf=Promise.resolve();let ko=!1;function Of(){ko||(ko=!0,Mf.then(ea))}function Pt(s){hn.push(s)}function Qe(s){vo.push(s)}const lo=new Set;let tn=0;function ea(){if(tn!==0)return;const s=hr;do{try{for(;tn<rn.length;){const e=rn[tn];tn++,Zt(e),xf(e.$$)}}catch(e){throw rn.length=0,tn=0,e}for(Zt(null),rn.length=0,tn=0;Ae.length;)Ae.pop()();for(let e=0;e<hn.length;e+=1){const t=hn[e];lo.has(t)||(lo.add(t),t())}hn.length=0}while(rn.length);for(;vo.length;)vo.pop()();ko=!1,lo.clear(),Zt(s)}function xf(s){if(s.fragment!==null){s.update(),xe(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Pt)}}function jf(s){const e=[],t=[];hn.forEach(n=>s.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),hn=e}let Zn;function ta(){return Zn||(Zn=Promise.resolve(),Zn.then(()=>{Zn=null})),Zn}function Ls(s,e,t){s.dispatchEvent(Jo(`${e?"intro":"outro"}${t}`))}const Gr=new Set;let Ht;function Xe(){Ht={r:0,c:[],p:Ht}}function Ye(){Ht.r||xe(Ht.c),Ht=Ht.p}function U(s,e){s&&s.i&&(Gr.delete(s),s.i(e))}function q(s,e,t,n){if(s&&s.o){if(Gr.has(s))return;Gr.add(s),Ht.c.push(()=>{Gr.delete(s),n&&(t&&s.d(1),n())}),s.o(e)}else n&&n()}const sa={duration:0};function Lf(s,e,t){const n={direction:"in"};let r=e(s,t,n),i=!1,o,u,l=0;function c(){o&&oi(s,o)}function h(){const{delay:m=0,duration:g=300,easing:_=Si,tick:E=re,css:A}=r||sa;A&&(o=ii(s,0,1,g,m,_,A,l++)),E(0,1);const R=Qo()+m,P=R+g;u&&u.abort(),i=!0,Pt(()=>Ls(s,!0,"start")),u=Yo(D=>{if(i){if(D>=P)return E(1,0),Ls(s,!0,"end"),c(),i=!1;if(D>=R){const N=_((D-R)/g);E(N,1-N)}}return i})}let f=!1;return{start(){f||(f=!0,oi(s),xt(r)?(r=r(n),ta().then(h)):h())},invalidate(){f=!1},end(){i&&(c(),i=!1)}}}function Ff(s,e,t){const n={direction:"out"};let r=e(s,t,n),i=!0,o;const u=Ht;u.r+=1;function l(){const{delay:c=0,duration:h=300,easing:f=Si,tick:m=re,css:g}=r||sa;g&&(o=ii(s,1,0,h,c,f,g));const _=Qo()+c,E=_+h;Pt(()=>Ls(s,!1,"start")),Yo(A=>{if(i){if(A>=E)return m(0,1),Ls(s,!1,"end"),--u.r||xe(u.c),!1;if(A>=_){const R=f((A-_)/h);m(1-R,R)}}return i})}return xt(r)?ta().then(()=>{r=r(n),l()}):l(),{end(c){c&&r.tick&&r.tick(1,0),i&&(o&&oi(s,o),i=!1)}}}function Ts(s,e,t,n){const r={direction:"both"};let i=e(s,t,r),o=n?0:1,u=null,l=null,c=null;function h(){c&&oi(s,c)}function f(g,_){const E=g.b-o;return _*=Math.abs(E),{a:o,b:g.b,d:E,duration:_,start:g.start,end:g.start+_,group:g.group}}function m(g){const{delay:_=0,duration:E=300,easing:A=Si,tick:R=re,css:P}=i||sa,D={start:Qo()+_,b:g};g||(D.group=Ht,Ht.r+=1),u||l?l=D:(P&&(h(),c=ii(s,o,g,E,_,A,P)),g&&R(0,1),u=f(D,E),Pt(()=>Ls(s,g,"start")),Yo(N=>{if(l&&N>l.start&&(u=f(l,E),l=null,Ls(s,u.b,"start"),P&&(h(),c=ii(s,o,u.b,u.duration,0,A,i.css))),u){if(N>=u.end)R(o=u.b,1-o),Ls(s,u.b,"end"),l||(u.b?h():--u.group.r||xe(u.group.c)),u=null;else if(N>=u.start){const O=N-u.start;o=u.a+u.d*A(O/u.duration),R(o,1-o)}}return!!(u||l)}))}return{run(g){xt(i)?ta().then(()=>{i=i(r),m(g)}):m(g)},end(){h(),u=l=null}}}function Fl(s,e){const t=e.token={};function n(r,i,o,u){if(e.token!==t)return;e.resolved=u;let l=e.ctx;o!==void 0&&(l=l.slice(),l[o]=u);const c=r&&(e.current=r)(l);let h=!1;e.block&&(e.blocks?e.blocks.forEach((f,m)=>{m!==i&&f&&(Xe(),q(f,1,1,()=>{e.blocks[m]===f&&(e.blocks[m]=null)}),Ye())}):e.block.d(1),c.c(),U(c,1),c.m(e.mount(),e.anchor),h=!0),e.block=c,e.blocks&&(e.blocks[i]=c),h&&ea()}if(If(s)){const r=Cn();if(s.then(i=>{Zt(r),n(e.then,1,e.value,i),Zt(null)},i=>{if(Zt(r),n(e.catch,2,e.error,i),Zt(null),!e.hasCatch)throw i}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,s),!0;e.resolved=s}}function $f(s,e,t){const n=e.slice(),{resolved:r}=s;s.current===s.then&&(n[s.value]=r),s.current===s.catch&&(n[s.error]=r),s.block.p(n,t)}function Uf(s,e){s.d(1),e.delete(s.key)}function qf(s,e,t,n,r,i,o,u,l,c,h,f){let m=s.length,g=i.length,_=m;const E={};for(;_--;)E[s[_].key]=_;const A=[],R=new Map,P=new Map,D=[];for(_=g;_--;){const v=f(r,i,_),y=t(v);let b=o.get(y);b?n&&D.push(()=>b.p(v,e)):(b=c(y,v),b.c()),R.set(y,A[_]=b),y in E&&P.set(y,Math.abs(_-E[y]))}const N=new Set,O=new Set;function F(v){U(v,1),v.m(u,h),o.set(v.key,v),h=v.first,g--}for(;m&&g;){const v=A[g-1],y=s[m-1],b=v.key,S=y.key;v===y?(h=v.first,m--,g--):R.has(S)?!o.has(b)||N.has(b)?F(v):O.has(S)?m--:P.get(b)>P.get(S)?(O.add(b),F(v)):(N.add(S),m--):(l(y,o),m--)}for(;m--;){const v=s[m];R.has(v.key)||l(v,o)}for(;g;)F(A[g-1]);return xe(D),A}function We(s,e,t){const n=s.$$.props[e];n!==void 0&&(s.$$.bound[n]=t,t(s.$$.ctx[n]))}function se(s){s&&s.c()}function Z(s,e,t,n){const{fragment:r,after_update:i}=s.$$;r&&r.m(e,t),n||Pt(()=>{const o=s.$$.on_mount.map(Qc).filter(xt);s.$$.on_destroy?s.$$.on_destroy.push(...o):xe(o),s.$$.on_mount=[]}),i.forEach(Pt)}function ee(s,e){const t=s.$$;t.fragment!==null&&(jf(t.after_update),xe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Bf(s,e){s.$$.dirty[0]===-1&&(rn.push(s),Of(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function Re(s,e,t,n,r,i,o,u=[-1]){const l=hr;Zt(s);const c=s.$$={fragment:null,ctx:[],props:i,update:re,not_equal:r,bound:Ol(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Ol(),dirty:u,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let h=!1;if(c.ctx=t?t(s,e.props||{},(f,m,...g)=>{const _=g.length?g[0]:m;return c.ctx&&r(c.ctx[f],c.ctx[f]=_)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](_),h&&Bf(s,f)),m}):[],c.update(),h=!0,xe(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const f=Pf(e.target);c.fragment&&c.fragment.l(f),f.forEach(j)}else c.fragment&&c.fragment.c();e.intro&&U(s.$$.fragment),Z(s,e.target,e.anchor,e.customElement),ea()}Zt(l)}class Ce{$destroy(){ee(this,1),this.$destroy=re}$on(e,t){if(!xt(t))return re;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!Af(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Hf=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=function(s){const e=[];let t=0;for(let n=0;n<s.length;n++){let r=s.charCodeAt(n);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&n+1<s.length&&(s.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(s.charCodeAt(++n)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Wf=function(s){const e=[];let t=0,n=0;for(;t<s.length;){const r=s[t++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const i=s[t++];e[n++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=s[t++],o=s[t++],u=s[t++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=s[t++],o=s[t++];e[n++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},nh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<s.length;r+=3){const i=s[r],o=r+1<s.length,u=o?s[r+1]:0,l=r+2<s.length,c=l?s[r+2]:0,h=i>>2,f=(i&3)<<4|u>>4;let m=(u&15)<<2|c>>6,g=c&63;l||(g=64,o||(m=64)),n.push(t[h],t[f],t[m],t[g])}return n.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(sh(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Wf(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<s.length;){const i=t[s.charAt(r++)],u=r<s.length?t[s.charAt(r)]:0;++r;const c=r<s.length?t[s.charAt(r)]:64;++r;const f=r<s.length?t[s.charAt(r)]:64;if(++r,i==null||u==null||c==null||f==null)throw new Gf;const m=i<<2|u>>4;if(n.push(m),c!==64){const g=u<<4&240|c>>2;if(n.push(g),f!==64){const _=c<<6&192|f;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Gf extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kf=function(s){const e=sh(s);return nh.encodeByteArray(e,!0)},ai=function(s){return Kf(s).replace(/\./g,"")},Qf=function(s){try{return nh.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=()=>Xf().__FIREBASE_DEFAULTS__,Jf=()=>{if(typeof process>"u"||typeof process.env>"u")return;const s={}.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Zf=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Qf(s[1]);return e&&JSON.parse(e)},na=()=>{try{return Hf()||Yf()||Jf()||Zf()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},em=s=>{var e,t;return(t=(e=na())==null?void 0:e.emulatorHosts)==null?void 0:t[s]},tm=s=>{const e=em(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},rh=()=>{var s;return(s=na())==null?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nm(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",r=s.iat||0,i=s.sub||s.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...s},u="";return[ai(JSON.stringify(t)),ai(JSON.stringify(o)),u].join(".")}const ir={};function im(){const s={prod:[],emulator:[]};for(const e of Object.keys(ir))ir[e]?s.emulator.push(e):s.prod.push(e);return s}function om(s){let e=document.getElementById(s),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),t=!0),{created:t,element:e}}let $l=!1;function am(s,e){if(typeof window>"u"||typeof document>"u"||!ra(window.location.host)||ir[s]===e||ir[s]||$l)return;ir[s]=e;function t(m){return`__firebase__banner__${m}`}const n="__firebase__banner",i=im().prod.length>0;function o(){const m=document.getElementById(n);m&&m.remove()}function u(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{$l=!0,o()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=om(n),g=t("text"),_=document.getElementById(g)||document.createElement("span"),E=t("learnmore"),A=document.getElementById(E)||document.createElement("a"),R=t("preprendIcon"),P=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const D=m.element;u(D),h(A,E);const N=c();l(P,R),D.append(P,_,A,N),document.body.appendChild(D)}i?(_.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function um(){var e;const s=(e=na())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cm(){return!um()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hm(){try{return typeof indexedDB=="object"}catch{return!1}}function dm(){return new Promise((s,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(n),s(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var i;e(((i=r.error)==null?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="FirebaseError";class Vn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=fm,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ih.prototype.create)}}class ih{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?mm(i,n):"Error",u=`${this.serviceName}: ${o} (${r}).`;return new Vn(r,u,n)}}function mm(s,e){return s.replace(pm,(t,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const pm=/\{\$([^}]+)}/g;function li(s,e){if(s===e)return!0;const t=Object.keys(s),n=Object.keys(e);for(const r of t){if(!n.includes(r))return!1;const i=s[r],o=e[r];if(Ul(i)&&Ul(o)){if(!li(i,o))return!1}else if(i!==o)return!1}for(const r of n)if(!t.includes(r))return!1;return!0}function Ul(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(s){return s&&s._delegate?s._delegate:s}class dr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new sm;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(n)return null;throw r}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_m(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:r});n.resolve(i)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);n===u&&o.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:ym(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ym(s){return s===xs?void 0:s}function _m(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new gm(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ee||(Ee={}));const wm={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},vm=Ee.INFO,km={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},Em=(s,e,...t)=>{if(e<s.logLevel)return;const n=new Date().toISOString(),r=km[e];if(r)console[r](`[${n}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oh{constructor(e){this.name=e,this._logLevel=vm,this._logHandler=Em,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wm[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const Tm=(s,e)=>e.some(t=>s instanceof t);let ql,Bl;function Im(){return ql||(ql=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Am(){return Bl||(Bl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ah=new WeakMap,Eo=new WeakMap,lh=new WeakMap,uo=new WeakMap,ia=new WeakMap;function Sm(s){const e=new Promise((t,n)=>{const r=()=>{s.removeEventListener("success",i),s.removeEventListener("error",o)},i=()=>{t(ws(s.result)),r()},o=()=>{n(s.error),r()};s.addEventListener("success",i),s.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&ah.set(t,s)}).catch(()=>{}),ia.set(e,s),e}function Rm(s){if(Eo.has(s))return;const e=new Promise((t,n)=>{const r=()=>{s.removeEventListener("complete",i),s.removeEventListener("error",o),s.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(s.error||new DOMException("AbortError","AbortError")),r()};s.addEventListener("complete",i),s.addEventListener("error",o),s.addEventListener("abort",o)});Eo.set(s,e)}let To={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Eo.get(s);if(e==="objectStoreNames")return s.objectStoreNames||lh.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ws(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Cm(s){To=s(To)}function Pm(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=s.call(co(this),e,...t);return lh.set(n,e.sort?e.sort():[e]),ws(n)}:Am().includes(s)?function(...e){return s.apply(co(this),e),ws(ah.get(this))}:function(...e){return ws(s.apply(co(this),e))}}function Vm(s){return typeof s=="function"?Pm(s):(s instanceof IDBTransaction&&Rm(s),Tm(s,Im())?new Proxy(s,To):s)}function ws(s){if(s instanceof IDBRequest)return Sm(s);if(uo.has(s))return uo.get(s);const e=Vm(s);return e!==s&&(uo.set(s,e),ia.set(e,s)),e}const co=s=>ia.get(s);function Dm(s,e,{blocked:t,upgrade:n,blocking:r,terminated:i}={}){const o=indexedDB.open(s,e),u=ws(o);return n&&o.addEventListener("upgradeneeded",l=>{n(ws(o.result),l.oldVersion,l.newVersion,ws(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),u.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),u}const Nm=["get","getKey","getAll","getAllKeys","count"],zm=["put","add","delete","clear"],ho=new Map;function Hl(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(ho.get(e))return ho.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,r=zm.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(r||Nm.includes(t)))return;const i=async function(o,...u){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(u.shift())),(await Promise.all([c[t](...u),r&&l.done]))[0]};return ho.set(e,i),i}Cm(s=>({...s,get:(e,t,n)=>Hl(e,t)||s.get(e,t,n),has:(e,t)=>!!Hl(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Om(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function Om(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Io="@firebase/app",Wl="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new oh("@firebase/app"),xm="@firebase/app-compat",jm="@firebase/analytics-compat",Lm="@firebase/analytics",Fm="@firebase/app-check-compat",$m="@firebase/app-check",Um="@firebase/auth",qm="@firebase/auth-compat",Bm="@firebase/database",Hm="@firebase/data-connect",Wm="@firebase/database-compat",Gm="@firebase/functions",Km="@firebase/functions-compat",Qm="@firebase/installations",Xm="@firebase/installations-compat",Ym="@firebase/messaging",Jm="@firebase/messaging-compat",Zm="@firebase/performance",ep="@firebase/performance-compat",tp="@firebase/remote-config",sp="@firebase/remote-config-compat",np="@firebase/storage",rp="@firebase/storage-compat",ip="@firebase/firestore",op="@firebase/ai",ap="@firebase/firestore-compat",lp="firebase",up="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="[DEFAULT]",cp={[Io]:"fire-core",[xm]:"fire-core-compat",[Lm]:"fire-analytics",[jm]:"fire-analytics-compat",[$m]:"fire-app-check",[Fm]:"fire-app-check-compat",[Um]:"fire-auth",[qm]:"fire-auth-compat",[Bm]:"fire-rtdb",[Hm]:"fire-data-connect",[Wm]:"fire-rtdb-compat",[Gm]:"fire-fn",[Km]:"fire-fn-compat",[Qm]:"fire-iid",[Xm]:"fire-iid-compat",[Ym]:"fire-fcm",[Jm]:"fire-fcm-compat",[Zm]:"fire-perf",[ep]:"fire-perf-compat",[tp]:"fire-rc",[sp]:"fire-rc-compat",[np]:"fire-gcs",[rp]:"fire-gcs-compat",[ip]:"fire-fst",[ap]:"fire-fst-compat",[op]:"fire-vertex","fire-js":"fire-js",[lp]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new Map,hp=new Map,So=new Map;function Gl(s,e){try{s.container.addComponent(e)}catch(t){os.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function ci(s){const e=s.name;if(So.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;So.set(e,s);for(const t of ui.values())Gl(t,s);for(const t of hp.values())Gl(t,s);return!0}function dp(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function fp(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vs=new ih("app","Firebase",mp);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp=up;function oa(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const n={name:Ao,automaticDataCollectionEnabled:!0,...e},r=n.name;if(typeof r!="string"||!r)throw vs.create("bad-app-name",{appName:String(r)});if(t||(t=rh()),!t)throw vs.create("no-options");const i=ui.get(r);if(i){if(li(t,i.options)&&li(n,i.config))return i;throw vs.create("duplicate-app",{appName:r})}const o=new bm(r);for(const l of So.values())o.addComponent(l);const u=new pp(t,n,o);return ui.set(r,u),u}function yp(s=Ao){const e=ui.get(s);if(!e&&s===Ao&&rh())return oa();if(!e)throw vs.create("no-app",{appName:s});return e}function dn(s,e,t){let n=cp[s]??s;t&&(n+=`-${t}`);const r=n.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const o=[`Unable to register library "${n}" with version "${e}":`];r&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),r&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(o.join(" "));return}ci(new dr(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="firebase-heartbeat-database",bp=1,fr="firebase-heartbeat-store";let fo=null;function uh(){return fo||(fo=Dm(_p,bp,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(fr)}catch(t){console.warn(t)}}}}).catch(s=>{throw vs.create("idb-open",{originalErrorMessage:s.message})})),fo}async function wp(s){try{const t=(await uh()).transaction(fr),n=await t.objectStore(fr).get(ch(s));return await t.done,n}catch(e){if(e instanceof Vn)os.warn(e.message);else{const t=vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});os.warn(t.message)}}}async function Kl(s,e){try{const n=(await uh()).transaction(fr,"readwrite");await n.objectStore(fr).put(e,ch(s)),await n.done}catch(t){if(t instanceof Vn)os.warn(t.message);else{const n=vs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});os.warn(n.message)}}}function ch(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=1024,kp=30;class Ep{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ip(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ql();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>kp){const o=Ap(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){os.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ql(),{heartbeatsToSend:n,unsentEntries:r}=Tp(this._heartbeatsCache.heartbeats),i=ai(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return os.warn(t),""}}}function Ql(){return new Date().toISOString().substring(0,10)}function Tp(s,e=vp){const t=[];let n=s.slice();for(const r of s){const i=t.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Xl(t)>e){i.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Xl(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class Ip{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hm()?dm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await wp(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Kl(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Kl(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Xl(s){return ai(JSON.stringify({version:2,heartbeats:s})).length}function Ap(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let n=1;n<s.length;n++)s[n].date<t&&(t=s[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(s){ci(new dr("platform-logger",e=>new Mm(e),"PRIVATE")),ci(new dr("heartbeat",e=>new Ep(e),"PRIVATE")),dn(Io,Wl,s),dn(Io,Wl,"esm2020"),dn("fire-js","")}Sp("");var Yl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,hh;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,y){function b(){}b.prototype=y.prototype,v.F=y.prototype,v.prototype=new b,v.prototype.constructor=v,v.D=function(S,k,C){for(var I=Array(arguments.length-2),te=2;te<arguments.length;te++)I[te-2]=arguments[te];return y.prototype[k].apply(S,I)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(v,y,b){b||(b=0);const S=Array(16);if(typeof y=="string")for(var k=0;k<16;++k)S[k]=y.charCodeAt(b++)|y.charCodeAt(b++)<<8|y.charCodeAt(b++)<<16|y.charCodeAt(b++)<<24;else for(k=0;k<16;++k)S[k]=y[b++]|y[b++]<<8|y[b++]<<16|y[b++]<<24;y=v.g[0],b=v.g[1],k=v.g[2];let C=v.g[3],I;I=y+(C^b&(k^C))+S[0]+3614090360&4294967295,y=b+(I<<7&4294967295|I>>>25),I=C+(k^y&(b^k))+S[1]+3905402710&4294967295,C=y+(I<<12&4294967295|I>>>20),I=k+(b^C&(y^b))+S[2]+606105819&4294967295,k=C+(I<<17&4294967295|I>>>15),I=b+(y^k&(C^y))+S[3]+3250441966&4294967295,b=k+(I<<22&4294967295|I>>>10),I=y+(C^b&(k^C))+S[4]+4118548399&4294967295,y=b+(I<<7&4294967295|I>>>25),I=C+(k^y&(b^k))+S[5]+1200080426&4294967295,C=y+(I<<12&4294967295|I>>>20),I=k+(b^C&(y^b))+S[6]+2821735955&4294967295,k=C+(I<<17&4294967295|I>>>15),I=b+(y^k&(C^y))+S[7]+4249261313&4294967295,b=k+(I<<22&4294967295|I>>>10),I=y+(C^b&(k^C))+S[8]+1770035416&4294967295,y=b+(I<<7&4294967295|I>>>25),I=C+(k^y&(b^k))+S[9]+2336552879&4294967295,C=y+(I<<12&4294967295|I>>>20),I=k+(b^C&(y^b))+S[10]+4294925233&4294967295,k=C+(I<<17&4294967295|I>>>15),I=b+(y^k&(C^y))+S[11]+2304563134&4294967295,b=k+(I<<22&4294967295|I>>>10),I=y+(C^b&(k^C))+S[12]+1804603682&4294967295,y=b+(I<<7&4294967295|I>>>25),I=C+(k^y&(b^k))+S[13]+4254626195&4294967295,C=y+(I<<12&4294967295|I>>>20),I=k+(b^C&(y^b))+S[14]+2792965006&4294967295,k=C+(I<<17&4294967295|I>>>15),I=b+(y^k&(C^y))+S[15]+1236535329&4294967295,b=k+(I<<22&4294967295|I>>>10),I=y+(k^C&(b^k))+S[1]+4129170786&4294967295,y=b+(I<<5&4294967295|I>>>27),I=C+(b^k&(y^b))+S[6]+3225465664&4294967295,C=y+(I<<9&4294967295|I>>>23),I=k+(y^b&(C^y))+S[11]+643717713&4294967295,k=C+(I<<14&4294967295|I>>>18),I=b+(C^y&(k^C))+S[0]+3921069994&4294967295,b=k+(I<<20&4294967295|I>>>12),I=y+(k^C&(b^k))+S[5]+3593408605&4294967295,y=b+(I<<5&4294967295|I>>>27),I=C+(b^k&(y^b))+S[10]+38016083&4294967295,C=y+(I<<9&4294967295|I>>>23),I=k+(y^b&(C^y))+S[15]+3634488961&4294967295,k=C+(I<<14&4294967295|I>>>18),I=b+(C^y&(k^C))+S[4]+3889429448&4294967295,b=k+(I<<20&4294967295|I>>>12),I=y+(k^C&(b^k))+S[9]+568446438&4294967295,y=b+(I<<5&4294967295|I>>>27),I=C+(b^k&(y^b))+S[14]+3275163606&4294967295,C=y+(I<<9&4294967295|I>>>23),I=k+(y^b&(C^y))+S[3]+4107603335&4294967295,k=C+(I<<14&4294967295|I>>>18),I=b+(C^y&(k^C))+S[8]+1163531501&4294967295,b=k+(I<<20&4294967295|I>>>12),I=y+(k^C&(b^k))+S[13]+2850285829&4294967295,y=b+(I<<5&4294967295|I>>>27),I=C+(b^k&(y^b))+S[2]+4243563512&4294967295,C=y+(I<<9&4294967295|I>>>23),I=k+(y^b&(C^y))+S[7]+1735328473&4294967295,k=C+(I<<14&4294967295|I>>>18),I=b+(C^y&(k^C))+S[12]+2368359562&4294967295,b=k+(I<<20&4294967295|I>>>12),I=y+(b^k^C)+S[5]+4294588738&4294967295,y=b+(I<<4&4294967295|I>>>28),I=C+(y^b^k)+S[8]+2272392833&4294967295,C=y+(I<<11&4294967295|I>>>21),I=k+(C^y^b)+S[11]+1839030562&4294967295,k=C+(I<<16&4294967295|I>>>16),I=b+(k^C^y)+S[14]+4259657740&4294967295,b=k+(I<<23&4294967295|I>>>9),I=y+(b^k^C)+S[1]+2763975236&4294967295,y=b+(I<<4&4294967295|I>>>28),I=C+(y^b^k)+S[4]+1272893353&4294967295,C=y+(I<<11&4294967295|I>>>21),I=k+(C^y^b)+S[7]+4139469664&4294967295,k=C+(I<<16&4294967295|I>>>16),I=b+(k^C^y)+S[10]+3200236656&4294967295,b=k+(I<<23&4294967295|I>>>9),I=y+(b^k^C)+S[13]+681279174&4294967295,y=b+(I<<4&4294967295|I>>>28),I=C+(y^b^k)+S[0]+3936430074&4294967295,C=y+(I<<11&4294967295|I>>>21),I=k+(C^y^b)+S[3]+3572445317&4294967295,k=C+(I<<16&4294967295|I>>>16),I=b+(k^C^y)+S[6]+76029189&4294967295,b=k+(I<<23&4294967295|I>>>9),I=y+(b^k^C)+S[9]+3654602809&4294967295,y=b+(I<<4&4294967295|I>>>28),I=C+(y^b^k)+S[12]+3873151461&4294967295,C=y+(I<<11&4294967295|I>>>21),I=k+(C^y^b)+S[15]+530742520&4294967295,k=C+(I<<16&4294967295|I>>>16),I=b+(k^C^y)+S[2]+3299628645&4294967295,b=k+(I<<23&4294967295|I>>>9),I=y+(k^(b|~C))+S[0]+4096336452&4294967295,y=b+(I<<6&4294967295|I>>>26),I=C+(b^(y|~k))+S[7]+1126891415&4294967295,C=y+(I<<10&4294967295|I>>>22),I=k+(y^(C|~b))+S[14]+2878612391&4294967295,k=C+(I<<15&4294967295|I>>>17),I=b+(C^(k|~y))+S[5]+4237533241&4294967295,b=k+(I<<21&4294967295|I>>>11),I=y+(k^(b|~C))+S[12]+1700485571&4294967295,y=b+(I<<6&4294967295|I>>>26),I=C+(b^(y|~k))+S[3]+2399980690&4294967295,C=y+(I<<10&4294967295|I>>>22),I=k+(y^(C|~b))+S[10]+4293915773&4294967295,k=C+(I<<15&4294967295|I>>>17),I=b+(C^(k|~y))+S[1]+2240044497&4294967295,b=k+(I<<21&4294967295|I>>>11),I=y+(k^(b|~C))+S[8]+1873313359&4294967295,y=b+(I<<6&4294967295|I>>>26),I=C+(b^(y|~k))+S[15]+4264355552&4294967295,C=y+(I<<10&4294967295|I>>>22),I=k+(y^(C|~b))+S[6]+2734768916&4294967295,k=C+(I<<15&4294967295|I>>>17),I=b+(C^(k|~y))+S[13]+1309151649&4294967295,b=k+(I<<21&4294967295|I>>>11),I=y+(k^(b|~C))+S[4]+4149444226&4294967295,y=b+(I<<6&4294967295|I>>>26),I=C+(b^(y|~k))+S[11]+3174756917&4294967295,C=y+(I<<10&4294967295|I>>>22),I=k+(y^(C|~b))+S[2]+718787259&4294967295,k=C+(I<<15&4294967295|I>>>17),I=b+(C^(k|~y))+S[9]+3951481745&4294967295,v.g[0]=v.g[0]+y&4294967295,v.g[1]=v.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,v.g[2]=v.g[2]+k&4294967295,v.g[3]=v.g[3]+C&4294967295}n.prototype.v=function(v,y){y===void 0&&(y=v.length);const b=y-this.blockSize,S=this.C;let k=this.h,C=0;for(;C<y;){if(k==0)for(;C<=b;)r(this,v,C),C+=this.blockSize;if(typeof v=="string"){for(;C<y;)if(S[k++]=v.charCodeAt(C++),k==this.blockSize){r(this,S),k=0;break}}else for(;C<y;)if(S[k++]=v[C++],k==this.blockSize){r(this,S),k=0;break}}this.h=k,this.o+=y},n.prototype.A=function(){var v=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);v[0]=128;for(var y=1;y<v.length-8;++y)v[y]=0;y=this.o*8;for(var b=v.length-8;b<v.length;++b)v[b]=y&255,y/=256;for(this.v(v),v=Array(16),y=0,b=0;b<4;++b)for(let S=0;S<32;S+=8)v[y++]=this.g[b]>>>S&255;return v};function i(v,y){var b=u;return Object.prototype.hasOwnProperty.call(b,v)?b[v]:b[v]=y(v)}function o(v,y){this.h=y;const b=[];let S=!0;for(let k=v.length-1;k>=0;k--){const C=v[k]|0;S&&C==y||(b[k]=C,S=!1)}this.g=b}var u={};function l(v){return-128<=v&&v<128?i(v,function(y){return new o([y|0],y<0?-1:0)}):new o([v|0],v<0?-1:0)}function c(v){if(isNaN(v)||!isFinite(v))return f;if(v<0)return A(c(-v));const y=[];let b=1;for(let S=0;v>=b;S++)y[S]=v/b|0,b*=4294967296;return new o(y,0)}function h(v,y){if(v.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(v.charAt(0)=="-")return A(h(v.substring(1),y));if(v.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=c(Math.pow(y,8));let S=f;for(let C=0;C<v.length;C+=8){var k=Math.min(8,v.length-C);const I=parseInt(v.substring(C,C+k),y);k<8?(k=c(Math.pow(y,k)),S=S.j(k).add(c(I))):(S=S.j(b),S=S.add(c(I)))}return S}var f=l(0),m=l(1),g=l(16777216);s=o.prototype,s.m=function(){if(E(this))return-A(this).m();let v=0,y=1;for(let b=0;b<this.g.length;b++){const S=this.i(b);v+=(S>=0?S:4294967296+S)*y,y*=4294967296}return v},s.toString=function(v){if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(_(this))return"0";if(E(this))return"-"+A(this).toString(v);const y=c(Math.pow(v,6));var b=this;let S="";for(;;){const k=N(b,y).g;b=R(b,k.j(y));let C=((b.g.length>0?b.g[0]:b.h)>>>0).toString(v);if(b=k,_(b))return C+S;for(;C.length<6;)C="0"+C;S=C+S}},s.i=function(v){return v<0?0:v<this.g.length?this.g[v]:this.h};function _(v){if(v.h!=0)return!1;for(let y=0;y<v.g.length;y++)if(v.g[y]!=0)return!1;return!0}function E(v){return v.h==-1}s.l=function(v){return v=R(this,v),E(v)?-1:_(v)?0:1};function A(v){const y=v.g.length,b=[];for(let S=0;S<y;S++)b[S]=~v.g[S];return new o(b,~v.h).add(m)}s.abs=function(){return E(this)?A(this):this},s.add=function(v){const y=Math.max(this.g.length,v.g.length),b=[];let S=0;for(let k=0;k<=y;k++){let C=S+(this.i(k)&65535)+(v.i(k)&65535),I=(C>>>16)+(this.i(k)>>>16)+(v.i(k)>>>16);S=I>>>16,C&=65535,I&=65535,b[k]=I<<16|C}return new o(b,b[b.length-1]&-2147483648?-1:0)};function R(v,y){return v.add(A(y))}s.j=function(v){if(_(this)||_(v))return f;if(E(this))return E(v)?A(this).j(A(v)):A(A(this).j(v));if(E(v))return A(this.j(A(v)));if(this.l(g)<0&&v.l(g)<0)return c(this.m()*v.m());const y=this.g.length+v.g.length,b=[];for(var S=0;S<2*y;S++)b[S]=0;for(S=0;S<this.g.length;S++)for(let k=0;k<v.g.length;k++){const C=this.i(S)>>>16,I=this.i(S)&65535,te=v.i(k)>>>16,fe=v.i(k)&65535;b[2*S+2*k]+=I*fe,P(b,2*S+2*k),b[2*S+2*k+1]+=C*fe,P(b,2*S+2*k+1),b[2*S+2*k+1]+=I*te,P(b,2*S+2*k+1),b[2*S+2*k+2]+=C*te,P(b,2*S+2*k+2)}for(v=0;v<y;v++)b[v]=b[2*v+1]<<16|b[2*v];for(v=y;v<2*y;v++)b[v]=0;return new o(b,0)};function P(v,y){for(;(v[y]&65535)!=v[y];)v[y+1]+=v[y]>>>16,v[y]&=65535,y++}function D(v,y){this.g=v,this.h=y}function N(v,y){if(_(y))throw Error("division by zero");if(_(v))return new D(f,f);if(E(v))return y=N(A(v),y),new D(A(y.g),A(y.h));if(E(y))return y=N(v,A(y)),new D(A(y.g),y.h);if(v.g.length>30){if(E(v)||E(y))throw Error("slowDivide_ only works with positive integers.");for(var b=m,S=y;S.l(v)<=0;)b=O(b),S=O(S);var k=F(b,1),C=F(S,1);for(S=F(S,2),b=F(b,2);!_(S);){var I=C.add(S);I.l(v)<=0&&(k=k.add(b),C=I),S=F(S,1),b=F(b,1)}return y=R(v,k.j(y)),new D(k,y)}for(k=f;v.l(y)>=0;){for(b=Math.max(1,Math.floor(v.m()/y.m())),S=Math.ceil(Math.log(b)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),C=c(b),I=C.j(y);E(I)||I.l(v)>0;)b-=S,C=c(b),I=C.j(y);_(C)&&(C=m),k=k.add(C),v=R(v,I)}return new D(k,v)}s.B=function(v){return N(this,v).h},s.and=function(v){const y=Math.max(this.g.length,v.g.length),b=[];for(let S=0;S<y;S++)b[S]=this.i(S)&v.i(S);return new o(b,this.h&v.h)},s.or=function(v){const y=Math.max(this.g.length,v.g.length),b=[];for(let S=0;S<y;S++)b[S]=this.i(S)|v.i(S);return new o(b,this.h|v.h)},s.xor=function(v){const y=Math.max(this.g.length,v.g.length),b=[];for(let S=0;S<y;S++)b[S]=this.i(S)^v.i(S);return new o(b,this.h^v.h)};function O(v){const y=v.g.length+1,b=[];for(let S=0;S<y;S++)b[S]=v.i(S)<<1|v.i(S-1)>>>31;return new o(b,v.h)}function F(v,y){const b=y>>5;y%=32;const S=v.g.length-b,k=[];for(let C=0;C<S;C++)k[C]=y>0?v.i(C+b)>>>y|v.i(C+b+1)<<32-y:v.i(C+b);return new o(k,v.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,hh=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,ks=o}).apply(typeof Yl<"u"?Yl:typeof self<"u"?self:typeof window<"u"?window:{});var $r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dh,tr,fh,Kr,Ro,mh,ph,gh;(function(){var s,e=Object.defineProperty;function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof $r=="object"&&$r];for(var d=0;d<a.length;++d){var p=a[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var n=t(this);function r(a,d){if(d)e:{var p=n;a=a.split(".");for(var w=0;w<a.length-1;w++){var M=a[w];if(!(M in p))break e;p=p[M]}a=a[a.length-1],w=p[a],d=d(w),d!=w&&d!=null&&e(p,a,{configurable:!0,writable:!0,value:d})}}r("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(a){return a||function(d){var p=[],w;for(w in d)Object.prototype.hasOwnProperty.call(d,w)&&p.push([w,d[w]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function u(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function l(a,d,p){return a.call.apply(a.bind,arguments)}function c(a,d,p){return c=l,c.apply(null,arguments)}function h(a,d){var p=Array.prototype.slice.call(arguments,1);return function(){var w=p.slice();return w.push.apply(w,arguments),a.apply(this,w)}}function f(a,d){function p(){}p.prototype=d.prototype,a.Z=d.prototype,a.prototype=new p,a.prototype.constructor=a,a.Ob=function(w,M,x){for(var K=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)K[ye-2]=arguments[ye];return d.prototype[M].apply(w,K)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function g(a){const d=a.length;if(d>0){const p=Array(d);for(let w=0;w<d;w++)p[w]=a[w];return p}return[]}function _(a,d){for(let w=1;w<arguments.length;w++){const M=arguments[w];var p=typeof M;if(p=p!="object"?p:M?Array.isArray(M)?"array":p:"null",p=="array"||p=="object"&&typeof M.length=="number"){p=a.length||0;const x=M.length||0;a.length=p+x;for(let K=0;K<x;K++)a[p+K]=M[K]}else a.push(M)}}class E{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function A(a){o.setTimeout(()=>{throw a},0)}function R(){var a=v;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class P{constructor(){this.h=this.g=null}add(d,p){const w=D.get();w.set(d,p),this.h?this.h.next=w:this.g=w,this.h=w}}var D=new E(()=>new N,a=>a.reset());class N{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let O,F=!1,v=new P,y=()=>{const a=Promise.resolve(void 0);O=()=>{a.then(b)}};function b(){for(var a;a=R();){try{a.h.call(a.g)}catch(p){A(p)}var d=D;d.j(a),d.h<100&&(d.h++,a.next=d.g,d.g=a)}F=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};o.addEventListener("test",p,d),o.removeEventListener("test",p,d)}catch{}return a}();function I(a){return/^[\s\xa0]*$/.test(a)}function te(a,d){k.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,d)}f(te,k),te.prototype.init=function(a,d){const p=this.type=a.type,w=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget,d||(p=="mouseover"?d=a.fromElement:p=="mouseout"&&(d=a.toElement)),this.relatedTarget=d,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),be=0;function Te(a,d,p,w,M){this.listener=a,this.proxy=null,this.src=d,this.type=p,this.capture=!!w,this.ha=M,this.key=++be,this.da=this.fa=!1}function Y(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function W(a,d,p){for(const w in a)d.call(p,a[w],w,a)}function he(a,d){for(const p in a)d.call(void 0,a[p],p,a)}function Pe(a){const d={};for(const p in a)d[p]=a[p];return d}const Me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qe(a,d){let p,w;for(let M=1;M<arguments.length;M++){w=arguments[M];for(p in w)a[p]=w[p];for(let x=0;x<Me.length;x++)p=Me[x],Object.prototype.hasOwnProperty.call(w,p)&&(a[p]=w[p])}}function Q(a){this.src=a,this.g={},this.h=0}Q.prototype.add=function(a,d,p,w,M){const x=a.toString();a=this.g[x],a||(a=this.g[x]=[],this.h++);const K=bt(a,d,w,M);return K>-1?(d=a[K],p||(d.fa=!1)):(d=new Te(d,this.src,x,!!w,M),d.fa=p,a.push(d)),d};function X(a,d){const p=d.type;if(p in a.g){var w=a.g[p],M=Array.prototype.indexOf.call(w,d,void 0),x;(x=M>=0)&&Array.prototype.splice.call(w,M,1),x&&(Y(d),a.g[p].length==0&&(delete a.g[p],a.h--))}}function bt(a,d,p,w){for(let M=0;M<a.length;++M){const x=a[M];if(!x.da&&x.listener==d&&x.capture==!!p&&x.ha==w)return M}return-1}var De="closure_lm_"+(Math.random()*1e6|0),it={};function wt(a,d,p,w,M){if(w&&w.once)return mt(a,d,p,w,M);if(Array.isArray(d)){for(let x=0;x<d.length;x++)wt(a,d[x],p,w,M);return null}return p=Ft(p),a&&a[fe]?a.J(d,p,u(w)?!!w.capture:!!w,M):ot(a,d,p,!1,w,M)}function ot(a,d,p,w,M,x){if(!d)throw Error("Invalid event type");const K=u(M)?!!M.capture:!!M;let ye=Jt(a);if(ye||(a[De]=ye=new Q(a)),p=ye.add(d,p,w,K,x),p.proxy)return p;if(w=ie(),p.proxy=w,w.src=a,w.listener=p,a.addEventListener)C||(M=K),M===void 0&&(M=!1),a.addEventListener(d.toString(),w,M);else if(a.attachEvent)a.attachEvent(Lt(d.toString()),w);else if(a.addListener&&a.removeListener)a.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ie(){function a(p){return d.call(a.src,a.listener,p)}const d=It;return a}function mt(a,d,p,w,M){if(Array.isArray(d)){for(let x=0;x<d.length;x++)mt(a,d[x],p,w,M);return null}return p=Ft(p),a&&a[fe]?a.K(d,p,u(w)?!!w.capture:!!w,M):ot(a,d,p,!0,w,M)}function _e(a,d,p,w,M){if(Array.isArray(d))for(var x=0;x<d.length;x++)_e(a,d[x],p,w,M);else w=u(w)?!!w.capture:!!w,p=Ft(p),a&&a[fe]?(a=a.i,x=String(d).toString(),x in a.g&&(d=a.g[x],p=bt(d,p,w,M),p>-1&&(Y(d[p]),Array.prototype.splice.call(d,p,1),d.length==0&&(delete a.g[x],a.h--)))):a&&(a=Jt(a))&&(d=a.g[d.toString()],a=-1,d&&(a=bt(d,p,w,M)),(p=a>-1?d[a]:null)&&Ne(p))}function Ne(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[fe])X(d.i,a);else{var p=a.type,w=a.proxy;d.removeEventListener?d.removeEventListener(p,w,a.capture):d.detachEvent?d.detachEvent(Lt(p),w):d.addListener&&d.removeListener&&d.removeListener(w),(p=Jt(d))?(X(p,a),p.h==0&&(p.src=null,d[De]=null)):Y(a)}}}function Lt(a){return a in it?it[a]:it[a]="on"+a}function It(a,d){if(a.da)a=!0;else{d=new te(d,this);const p=a.listener,w=a.ha||a.src;a.fa&&Ne(a),a=p.call(w,d)}return a}function Jt(a){return a=a[De],a instanceof Q?a:null}var Nt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ft(a){return typeof a=="function"?a:(a[Nt]||(a[Nt]=function(d){return a.handleEvent(d)}),a[Nt])}function Be(){S.call(this),this.i=new Q(this),this.M=this,this.G=null}f(Be,S),Be.prototype[fe]=!0,Be.prototype.removeEventListener=function(a,d,p,w){_e(this,a,d,p,w)};function Ge(a,d){var p,w=a.G;if(w)for(p=[];w;w=w.G)p.push(w);if(a=a.M,w=d.type||d,typeof d=="string")d=new k(d,a);else if(d instanceof k)d.target=d.target||a;else{var M=d;d=new k(w,a),qe(d,M)}M=!0;let x,K;if(p)for(K=p.length-1;K>=0;K--)x=d.g=p[K],M=ne(x,w,!0,d)&&M;if(x=d.g=a,M=ne(x,w,!0,d)&&M,M=ne(x,w,!1,d)&&M,p)for(K=0;K<p.length;K++)x=d.g=p[K],M=ne(x,w,!1,d)&&M}Be.prototype.N=function(){if(Be.Z.N.call(this),this.i){var a=this.i;for(const d in a.g){const p=a.g[d];for(let w=0;w<p.length;w++)Y(p[w]);delete a.g[d],a.h--}}this.G=null},Be.prototype.J=function(a,d,p,w){return this.i.add(String(a),d,!1,p,w)},Be.prototype.K=function(a,d,p,w){return this.i.add(String(a),d,!0,p,w)};function ne(a,d,p,w){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();let M=!0;for(let x=0;x<d.length;++x){const K=d[x];if(K&&!K.da&&K.capture==p){const ye=K.listener,tt=K.ha||K.src;K.fa&&X(a.i,K),M=ye.call(tt,w)!==!1&&M}}return M&&!w.defaultPrevented}function vt(a,d){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=c(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:o.setTimeout(a,d||0)}function $a(a){a.g=vt(()=>{a.g=null,a.i&&(a.i=!1,$a(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class Xd extends S{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:$a(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(a){S.call(this),this.h=a,this.g={}}f(On,S);var Ua=[];function qa(a){W(a.g,function(d,p){this.g.hasOwnProperty(p)&&Ne(d)},a),a.g={}}On.prototype.N=function(){On.Z.N.call(this),qa(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bi=o.JSON.stringify,Yd=o.JSON.parse,Jd=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function Ba(){}function Ha(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Hi(){k.call(this,"d")}f(Hi,k);function Wi(){k.call(this,"c")}f(Wi,k);var Vs={},Wa=null;function Cr(){return Wa=Wa||new Be}Vs.Ia="serverreachability";function Ga(a){k.call(this,Vs.Ia,a)}f(Ga,k);function jn(a){const d=Cr();Ge(d,new Ga(d))}Vs.STAT_EVENT="statevent";function Ka(a,d){k.call(this,Vs.STAT_EVENT,a),this.stat=d}f(Ka,k);function kt(a){const d=Cr();Ge(d,new Ka(d,a))}Vs.Ja="timingevent";function Qa(a,d){k.call(this,Vs.Ja,a),this.size=d}f(Qa,k);function Ln(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},d)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Zd(a,d,p,w,M,x){a.info(function(){if(a.g)if(x){var K="",ye=x.split("&");for(let ze=0;ze<ye.length;ze++){var tt=ye[ze].split("=");if(tt.length>1){const at=tt[0];tt=tt[1];const Ut=at.split("_");K=Ut.length>=2&&Ut[1]=="type"?K+(at+"="+tt+"&"):K+(at+"=redacted&")}}}else K=null;else K=x;return"XMLHTTP REQ ("+w+") [attempt "+M+"]: "+d+`
`+p+`
`+K})}function ef(a,d,p,w,M,x,K){a.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+M+"]: "+d+`
`+p+`
`+x+" "+K})}function Js(a,d,p,w){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+sf(a,p)+(w?" "+w:"")})}function tf(a,d){a.info(function(){return"TIMEOUT: "+d})}Fn.prototype.info=function(){};function sf(a,d){if(!a.g)return d;if(!d)return null;try{const x=JSON.parse(d);if(x){for(a=0;a<x.length;a++)if(Array.isArray(x[a])){var p=x[a];if(!(p.length<2)){var w=p[1];if(Array.isArray(w)&&!(w.length<1)){var M=w[0];if(M!="noop"&&M!="stop"&&M!="close")for(let K=1;K<w.length;K++)w[K]=""}}}}return Bi(x)}catch{return d}}var Pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ya;function Gi(){}f(Gi,Ba),Gi.prototype.g=function(){return new XMLHttpRequest},Ya=new Gi;function $n(a){return encodeURIComponent(String(a))}function nf(a){var d=1;a=a.split(":");const p=[];for(;d>0&&a.length;)p.push(a.shift()),d--;return a.length&&p.push(a.join(":")),p}function us(a,d,p,w){this.j=a,this.i=d,this.l=p,this.S=w||1,this.V=new On(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ja}function Ja(){this.i=null,this.g="",this.h=!1}var Za={},Ki={};function Qi(a,d,p){a.M=1,a.A=Dr($t(d)),a.u=p,a.R=!0,el(a,null)}function el(a,d){a.F=Date.now(),Vr(a),a.B=$t(a.A);var p=a.B,w=a.S;Array.isArray(w)||(w=[String(w)]),fl(p.i,"t",w),a.C=0,p=a.j.L,a.h=new Ja,a.g=Vl(a.j,p?d:null,!a.u),a.P>0&&(a.O=new Xd(c(a.Y,a,a.g),a.P)),d=a.V,p=a.g,w=a.ba;var M="readystatechange";Array.isArray(M)||(M&&(Ua[0]=M.toString()),M=Ua);for(let x=0;x<M.length;x++){const K=wt(p,M[x],w||d.handleEvent,!1,d.h||d);if(!K)break;d.g[K.key]=K}d=a.J?Pe(a.J):{},a.u?(a.v||(a.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,d)):(a.v="GET",a.g.ea(a.B,a.v,null,d)),jn(),Zd(a.i,a.v,a.B,a.l,a.S,a.u)}us.prototype.ba=function(a){a=a.target;const d=this.O;d&&ds(a)==3?d.j():this.Y(a)},us.prototype.Y=function(a){try{if(a==this.g)e:{const ye=ds(this.g),tt=this.g.ya(),ze=this.g.ca();if(!(ye<3)&&(ye!=3||this.g&&(this.h.h||this.g.la()||wl(this.g)))){this.K||ye!=4||tt==7||(tt==8||ze<=0?jn(3):jn(2)),Xi(this);var d=this.g.ca();this.X=d;var p=rf(this);if(this.o=d==200,ef(this.i,this.v,this.B,this.l,this.S,ye,d),this.o){if(this.U&&!this.L){t:{if(this.g){var w,M=this.g;if((w=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var x=w;break t}}x=null}if(a=x)Js(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yi(this,a);else{this.o=!1,this.m=3,kt(12),Ds(this),Un(this);break e}}if(this.R){a=!0;let at;for(;!this.K&&this.C<p.length;)if(at=of(this,p),at==Ki){ye==4&&(this.m=4,kt(14),a=!1),Js(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Za){this.m=4,kt(15),Js(this.i,this.l,p,"[Invalid Chunk]"),a=!1;break}else Js(this.i,this.l,at,null),Yi(this,at);if(tl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ye!=4||p.length!=0||this.h.h||(this.m=1,kt(16),a=!1),this.o=this.o&&a,!a)Js(this.i,this.l,p,"[Invalid Chunked Response]"),Ds(this),Un(this);else if(p.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),io(K),K.P=!0,kt(11))}}else Js(this.i,this.l,p,null),Yi(this,p);ye==4&&Ds(this),this.o&&!this.K&&(ye==4?Sl(this.j,this):(this.o=!1,Vr(this)))}else wf(this.g),d==400&&p.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),Ds(this),Un(this)}}}catch{}finally{}};function rf(a){if(!tl(a))return a.g.la();const d=wl(a.g);if(d==="")return"";let p="";const w=d.length,M=ds(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Ds(a),Un(a),"";a.h.i=new o.TextDecoder}for(let x=0;x<w;x++)a.h.h=!0,p+=a.h.i.decode(d[x],{stream:!(M&&x==w-1)});return d.length=0,a.h.g+=p,a.C=0,a.h.g}function tl(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function of(a,d){var p=a.C,w=d.indexOf(`
`,p);return w==-1?Ki:(p=Number(d.substring(p,w)),isNaN(p)?Za:(w+=1,w+p>d.length?Ki:(d=d.slice(w,w+p),a.C=w+p,d)))}us.prototype.cancel=function(){this.K=!0,Ds(this)};function Vr(a){a.T=Date.now()+a.H,sl(a,a.H)}function sl(a,d){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Ln(c(a.aa,a),d)}function Xi(a){a.D&&(o.clearTimeout(a.D),a.D=null)}us.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(tf(this.i,this.B),this.M!=2&&(jn(),kt(17)),Ds(this),this.m=2,Un(this)):sl(this,this.T-a)};function Un(a){a.j.I==0||a.K||Sl(a.j,a)}function Ds(a){Xi(a);var d=a.O;d&&typeof d.dispose=="function"&&d.dispose(),a.O=null,qa(a.V),a.g&&(d=a.g,a.g=null,d.abort(),d.dispose())}function Yi(a,d){try{var p=a.j;if(p.I!=0&&(p.g==a||Ji(p.h,a))){if(!a.L&&Ji(p.h,a)&&p.I==3){try{var w=p.Ba.g.parse(d)}catch{w=null}if(Array.isArray(w)&&w.length==3){var M=w;if(M[0]==0){e:if(!p.v){if(p.g)if(p.g.F+3e3<a.F)xr(p),Mr(p);else break e;ro(p),kt(18)}}else p.xa=M[1],0<p.xa-p.K&&M[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Ln(c(p.Va,p),6e3));il(p.h)<=1&&p.ta&&(p.ta=void 0)}else zs(p,11)}else if((a.L||p.g==a)&&xr(p),!I(d))for(M=p.Ba.g.parse(d),d=0;d<M.length;d++){let ze=M[d];const at=ze[0];if(!(at<=p.K))if(p.K=at,ze=ze[1],p.I==2)if(ze[0]=="c"){p.M=ze[1],p.ba=ze[2];const Ut=ze[3];Ut!=null&&(p.ka=Ut,p.j.info("VER="+p.ka));const Ms=ze[4];Ms!=null&&(p.za=Ms,p.j.info("SVER="+p.za));const fs=ze[5];fs!=null&&typeof fs=="number"&&fs>0&&(w=1.5*fs,p.O=w,p.j.info("backChannelRequestTimeoutMs_="+w)),w=p;const ms=a.g;if(ms){const Lr=ms.g?ms.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lr){var x=w.h;x.g||Lr.indexOf("spdy")==-1&&Lr.indexOf("quic")==-1&&Lr.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(Zi(x,x.h),x.h=null))}if(w.G){const oo=ms.g?ms.g.getResponseHeader("X-HTTP-Session-Id"):null;oo&&(w.wa=oo,je(w.J,w.G,oo))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-a.F,p.j.info("Handshake RTT: "+p.T+"ms")),w=p;var K=a;if(w.na=Pl(w,w.L?w.ba:null,w.W),K.L){ol(w.h,K);var ye=K,tt=w.O;tt&&(ye.H=tt),ye.D&&(Xi(ye),Vr(ye)),w.g=K}else Il(w);p.i.length>0&&Or(p)}else ze[0]!="stop"&&ze[0]!="close"||zs(p,7);else p.I==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?zs(p,7):no(p):ze[0]!="noop"&&p.l&&p.l.qa(ze),p.A=0)}}jn(4)}catch{}}var af=class{constructor(a,d){this.g=a,this.map=d}};function nl(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rl(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function il(a){return a.h?1:a.g?a.g.size:0}function Ji(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Zi(a,d){a.g?a.g.add(d):a.h=d}function ol(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}nl.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function al(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const p of a.g.values())d=d.concat(p.G);return d}return g(a.i)}var ll=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lf(a,d){if(a){a=a.split("&");for(let p=0;p<a.length;p++){const w=a[p].indexOf("=");let M,x=null;w>=0?(M=a[p].substring(0,w),x=a[p].substring(w+1)):M=a[p],d(M,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function cs(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;a instanceof cs?(this.l=a.l,qn(this,a.j),this.o=a.o,this.g=a.g,Bn(this,a.u),this.h=a.h,eo(this,ml(a.i)),this.m=a.m):a&&(d=String(a).match(ll))?(this.l=!1,qn(this,d[1]||"",!0),this.o=Hn(d[2]||""),this.g=Hn(d[3]||"",!0),Bn(this,d[4]),this.h=Hn(d[5]||"",!0),eo(this,d[6]||"",!0),this.m=Hn(d[7]||"")):(this.l=!1,this.i=new Gn(null,this.l))}cs.prototype.toString=function(){const a=[];var d=this.j;d&&a.push(Wn(d,ul,!0),":");var p=this.g;return(p||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Wn(d,ul,!0),"@"),a.push($n(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&a.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Wn(p,p.charAt(0)=="/"?hf:cf,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Wn(p,ff)),a.join("")},cs.prototype.resolve=function(a){const d=$t(this);let p=!!a.j;p?qn(d,a.j):p=!!a.o,p?d.o=a.o:p=!!a.g,p?d.g=a.g:p=a.u!=null;var w=a.h;if(p)Bn(d,a.u);else if(p=!!a.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var M=d.h.lastIndexOf("/");M!=-1&&(w=d.h.slice(0,M+1)+w)}if(M=w,M==".."||M==".")w="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){w=M.lastIndexOf("/",0)==0,M=M.split("/");const x=[];for(let K=0;K<M.length;){const ye=M[K++];ye=="."?w&&K==M.length&&x.push(""):ye==".."?((x.length>1||x.length==1&&x[0]!="")&&x.pop(),w&&K==M.length&&x.push("")):(x.push(ye),w=!0)}w=x.join("/")}else w=M}return p?d.h=w:p=a.i.toString()!=="",p?eo(d,ml(a.i)):p=!!a.m,p&&(d.m=a.m),d};function $t(a){return new cs(a)}function qn(a,d,p){a.j=p?Hn(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Bn(a,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);a.u=d}else a.u=null}function eo(a,d,p){d instanceof Gn?(a.i=d,mf(a.i,a.l)):(p||(d=Wn(d,df)),a.i=new Gn(d,a.l))}function je(a,d,p){a.i.set(d,p)}function Dr(a){return je(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Hn(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Wn(a,d,p){return typeof a=="string"?(a=encodeURI(a).replace(d,uf),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function uf(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ul=/[#\/\?@]/g,cf=/[#\?:]/g,hf=/[#\?]/g,df=/[#\?@]/g,ff=/#/g;function Gn(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Ns(a){a.g||(a.g=new Map,a.h=0,a.i&&lf(a.i,function(d,p){a.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}s=Gn.prototype,s.add=function(a,d){Ns(this),this.i=null,a=Zs(this,a);let p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(d),this.h+=1,this};function cl(a,d){Ns(a),d=Zs(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function hl(a,d){return Ns(a),d=Zs(a,d),a.g.has(d)}s.forEach=function(a,d){Ns(this),this.g.forEach(function(p,w){p.forEach(function(M){a.call(d,M,w,this)},this)},this)};function dl(a,d){Ns(a);let p=[];if(typeof d=="string")hl(a,d)&&(p=p.concat(a.g.get(Zs(a,d))));else for(a=Array.from(a.g.values()),d=0;d<a.length;d++)p=p.concat(a[d]);return p}s.set=function(a,d){return Ns(this),this.i=null,a=Zs(this,a),hl(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},s.get=function(a,d){return a?(a=dl(this,a),a.length>0?String(a[0]):d):d};function fl(a,d,p){cl(a,d),p.length>0&&(a.i=null,a.g.set(Zs(a,d),g(p)),a.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(let w=0;w<d.length;w++){var p=d[w];const M=$n(p);p=dl(this,p);for(let x=0;x<p.length;x++){let K=M;p[x]!==""&&(K+="="+$n(p[x])),a.push(K)}}return this.i=a.join("&")};function ml(a){const d=new Gn;return d.i=a.i,a.g&&(d.g=new Map(a.g),d.h=a.h),d}function Zs(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function mf(a,d){d&&!a.j&&(Ns(a),a.i=null,a.g.forEach(function(p,w){const M=w.toLowerCase();w!=M&&(cl(this,w),fl(this,M,p))},a)),a.j=d}function pf(a,d){const p=new Fn;if(o.Image){const w=new Image;w.onload=h(hs,p,"TestLoadImage: loaded",!0,d,w),w.onerror=h(hs,p,"TestLoadImage: error",!1,d,w),w.onabort=h(hs,p,"TestLoadImage: abort",!1,d,w),w.ontimeout=h(hs,p,"TestLoadImage: timeout",!1,d,w),o.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=a}else d(!1)}function gf(a,d){const p=new Fn,w=new AbortController,M=setTimeout(()=>{w.abort(),hs(p,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:w.signal}).then(x=>{clearTimeout(M),x.ok?hs(p,"TestPingServer: ok",!0,d):hs(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),hs(p,"TestPingServer: error",!1,d)})}function hs(a,d,p,w,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),w(p)}catch{}}function yf(){this.g=new Jd}function to(a){this.i=a.Sb||null,this.h=a.ab||!1}f(to,Ba),to.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(a,d){Be.call(this),this.H=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Nr,Be),s=Nr.prototype,s.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=d,this.readyState=1,Qn(this)},s.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(d.body=a),(this.H||o).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Kn(this)),this.readyState=0},s.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pl(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function pl(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}s.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Kn(this):Qn(this),this.readyState==3&&pl(this)}},s.Oa=function(a){this.g&&(this.response=this.responseText=a,Kn(this))},s.Na=function(a){this.g&&(this.response=a,Kn(this))},s.ga=function(){this.g&&Kn(this)};function Kn(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Qn(a)}s.setRequestHeader=function(a,d){this.A.append(a,d)},s.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=d.next();return a.join(`\r
`)};function Qn(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function gl(a){let d="";return W(a,function(p,w){d+=w,d+=":",d+=p,d+=`\r
`}),d}function so(a,d,p){e:{for(w in p){var w=!1;break e}w=!0}w||(p=gl(p),typeof a=="string"?p!=null&&$n(p):je(a,d,p))}function He(a){Be.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(He,Be);var _f=/^https?$/i,bf=["POST","PUT"];s=He.prototype,s.Fa=function(a){this.H=a},s.ea=function(a,d,p,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ya.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(x){yl(this,x);return}if(a=p||"",p=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var M in w)p.set(M,w[M]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const x of w.keys())p.set(x,w.get(x));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(p.keys()).find(x=>x.toLowerCase()=="content-type"),M=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(bf,d,void 0)>=0)||w||M||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[x,K]of p)this.g.setRequestHeader(x,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(x){yl(this,x)}};function yl(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.o=5,_l(a),zr(a)}function _l(a){a.A||(a.A=!0,Ge(a,"complete"),Ge(a,"error"))}s.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,Ge(this,"complete"),Ge(this,"abort"),zr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zr(this,!0)),He.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?bl(this):this.Xa())},s.Xa=function(){bl(this)};function bl(a){if(a.h&&typeof i<"u"){if(a.v&&ds(a)==4)setTimeout(a.Ca.bind(a),0);else if(Ge(a,"readystatechange"),ds(a)==4){a.h=!1;try{const x=a.ca();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var w;if(w=x===0){let K=String(a.D).match(ll)[1]||null;!K&&o.self&&o.self.location&&(K=o.self.location.protocol.slice(0,-1)),w=!_f.test(K?K.toLowerCase():"")}p=w}if(p)Ge(a,"complete"),Ge(a,"success");else{a.o=6;try{var M=ds(a)>2?a.g.statusText:""}catch{M=""}a.l=M+" ["+a.ca()+"]",_l(a)}}finally{zr(a)}}}}function zr(a,d){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const p=a.g;a.g=null,d||Ge(a,"ready");try{p.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ds(a){return a.g?a.g.readyState:0}s.ca=function(){try{return ds(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Yd(d)}};function wl(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function wf(a){const d={};a=(a.g&&ds(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<a.length;w++){if(I(a[w]))continue;var p=nf(a[w]);const M=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const x=d[M]||[];d[M]=x,x.push(p)}he(d,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xn(a,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||d}function vl(a){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xn("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xn("baseRetryDelayMs",5e3,a),this.Za=Xn("retryDelaySeedMs",1e4,a),this.Ta=Xn("forwardChannelMaxRetries",2,a),this.va=Xn("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new nl(a&&a.concurrentRequestLimit),this.Ba=new yf,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=vl.prototype,s.ka=8,s.I=1,s.connect=function(a,d,p,w){kt(0),this.W=a,this.H=d||{},p&&w!==void 0&&(this.H.OSID=p,this.H.OAID=w),this.F=this.X,this.J=Pl(this,null,this.W),Or(this)};function no(a){if(kl(a),a.I==3){var d=a.V++,p=$t(a.J);if(je(p,"SID",a.M),je(p,"RID",d),je(p,"TYPE","terminate"),Yn(a,p),d=new us(a,a.j,d),d.M=2,d.A=Dr($t(p)),p=!1,o.navigator&&o.navigator.sendBeacon)try{p=o.navigator.sendBeacon(d.A.toString(),"")}catch{}!p&&o.Image&&(new Image().src=d.A,p=!0),p||(d.g=Vl(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Vr(d)}Cl(a)}function Mr(a){a.g&&(io(a),a.g.cancel(),a.g=null)}function kl(a){Mr(a),a.v&&(o.clearTimeout(a.v),a.v=null),xr(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function Or(a){if(!rl(a.h)&&!a.m){a.m=!0;var d=a.Ea;O||y(),F||(O(),F=!0),v.add(d,a),a.D=0}}function vf(a,d){return il(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=d.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Ln(c(a.Ea,a,d),Rl(a,a.D)),a.D++,!0)}s.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const M=new us(this,this.j,a);let x=this.o;if(this.U&&(x?(x=Pe(x),qe(x,this.U)):x=this.U),this.u!==null||this.R||(M.J=x,x=null),this.S)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var w=this.i[p];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(d+=w,d>4096){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=Tl(this,M,d),p=$t(this.J),je(p,"RID",a),je(p,"CVER",22),this.G&&je(p,"X-HTTP-Session-Id",this.G),Yn(this,p),x&&(this.R?d="headers="+$n(gl(x))+"&"+d:this.u&&so(p,this.u,x)),Zi(this.h,M),this.Ra&&je(p,"TYPE","init"),this.S?(je(p,"$req",d),je(p,"SID","null"),M.U=!0,Qi(M,p,null)):Qi(M,p,d),this.I=2}}else this.I==3&&(a?El(this,a):this.i.length==0||rl(this.h)||El(this))};function El(a,d){var p;d?p=d.l:p=a.V++;const w=$t(a.J);je(w,"SID",a.M),je(w,"RID",p),je(w,"AID",a.K),Yn(a,w),a.u&&a.o&&so(w,a.u,a.o),p=new us(a,a.j,p,a.D+1),a.u===null&&(p.J=a.o),d&&(a.i=d.G.concat(a.i)),d=Tl(a,p,1e3),p.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Zi(a.h,p),Qi(p,w,d)}function Yn(a,d){a.H&&W(a.H,function(p,w){je(d,w,p)}),a.l&&W({},function(p,w){je(d,w,p)})}function Tl(a,d,p){p=Math.min(a.i.length,p);const w=a.l?c(a.l.Ka,a.l,a):null;e:{var M=a.i;let ye=-1;for(;;){const tt=["count="+p];ye==-1?p>0?(ye=M[0].g,tt.push("ofs="+ye)):ye=0:tt.push("ofs="+ye);let ze=!0;for(let at=0;at<p;at++){var x=M[at].g;const Ut=M[at].map;if(x-=ye,x<0)ye=Math.max(0,M[at].g-100),ze=!1;else try{x="req"+x+"_"||"";try{var K=Ut instanceof Map?Ut:Object.entries(Ut);for(const[Ms,fs]of K){let ms=fs;u(fs)&&(ms=Bi(fs)),tt.push(x+Ms+"="+encodeURIComponent(ms))}}catch(Ms){throw tt.push(x+"type="+encodeURIComponent("_badmap")),Ms}}catch{w&&w(Ut)}}if(ze){K=tt.join("&");break e}}K=void 0}return a=a.i.splice(0,p),d.G=a,K}function Il(a){if(!a.g&&!a.v){a.Y=1;var d=a.Da;O||y(),F||(O(),F=!0),v.add(d,a),a.A=0}}function ro(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Ln(c(a.Da,a),Rl(a,a.A)),a.A++,!0)}s.Da=function(){if(this.v=null,Al(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Ln(c(this.Wa,this),a)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),Mr(this),Al(this))};function io(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function Al(a){a.g=new us(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var d=$t(a.na);je(d,"RID","rpc"),je(d,"SID",a.M),je(d,"AID",a.K),je(d,"CI",a.F?"0":"1"),!a.F&&a.ia&&je(d,"TO",a.ia),je(d,"TYPE","xmlhttp"),Yn(a,d),a.u&&a.o&&so(d,a.u,a.o),a.O&&(a.g.H=a.O);var p=a.g;a=a.ba,p.M=1,p.A=Dr($t(d)),p.u=null,p.R=!0,el(p,a)}s.Va=function(){this.C!=null&&(this.C=null,Mr(this),ro(this),kt(19))};function xr(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function Sl(a,d){var p=null;if(a.g==d){xr(a),io(a),a.g=null;var w=2}else if(Ji(a.h,d))p=d.G,ol(a.h,d),w=1;else return;if(a.I!=0){if(d.o)if(w==1){p=d.u?d.u.length:0,d=Date.now()-d.F;var M=a.D;w=Cr(),Ge(w,new Qa(w,p)),Or(a)}else Il(a);else if(M=d.m,M==3||M==0&&d.X>0||!(w==1&&vf(a,d)||w==2&&ro(a)))switch(p&&p.length>0&&(d=a.h,d.i=d.i.concat(p)),M){case 1:zs(a,5);break;case 4:zs(a,10);break;case 3:zs(a,6);break;default:zs(a,2)}}}function Rl(a,d){let p=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(p*=2),p*d}function zs(a,d){if(a.j.info("Error code "+d),d==2){var p=c(a.bb,a),w=a.Ua;const M=!w;w=new cs(w||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||qn(w,"https"),Dr(w),M?pf(w.toString(),p):gf(w.toString(),p)}else kt(2);a.I=0,a.l&&a.l.pa(d),Cl(a),kl(a)}s.bb=function(a){a?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Cl(a){if(a.I=0,a.ja=[],a.l){const d=al(a.h);(d.length!=0||a.i.length!=0)&&(_(a.ja,d),_(a.ja,a.i),a.h.i.length=0,g(a.i),a.i.length=0),a.l.oa()}}function Pl(a,d,p){var w=p instanceof cs?$t(p):new cs(p);if(w.g!="")d&&(w.g=d+"."+w.g),Bn(w,w.u);else{var M=o.location;w=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;const x=new cs(null);w&&qn(x,w),d&&(x.g=d),M&&Bn(x,M),p&&(x.h=p),w=x}return p=a.G,d=a.wa,p&&d&&je(w,p,d),je(w,"VER",a.ka),Yn(a,w),w}function Vl(a,d,p){if(d&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Aa&&!a.ma?new He(new to({ab:p})):new He(a.ma),d.Fa(a.L),d}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dl(){}s=Dl.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function jr(){}jr.prototype.g=function(a,d){return new At(a,d)};function At(a,d){Be.call(this),this.g=new vl(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(a?a["X-WebChannel-Client-Profile"]=d.sa:a={"X-WebChannel-Client-Profile":d.sa}),this.g.U=a,(a=d&&d.Qb)&&!I(a)&&(this.g.u=a),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!I(d)&&(this.g.G=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new en(this)}f(At,Be),At.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},At.prototype.close=function(){no(this.g)},At.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.v&&(p={},p.__data__=Bi(a),a=p);d.i.push(new af(d.Ya++,a)),d.I==3&&Or(d)},At.prototype.N=function(){this.g.l=null,delete this.j,no(this.g),delete this.g,At.Z.N.call(this)};function Nl(a){Hi.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const p in d){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}f(Nl,Hi);function zl(){Wi.call(this),this.status=1}f(zl,Wi);function en(a){this.g=a}f(en,Dl),en.prototype.ra=function(){Ge(this.g,"a")},en.prototype.qa=function(a){Ge(this.g,new Nl(a))},en.prototype.pa=function(a){Ge(this.g,new zl)},en.prototype.oa=function(){Ge(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,At.prototype.send=At.prototype.o,At.prototype.open=At.prototype.m,At.prototype.close=At.prototype.close,gh=function(){return new jr},ph=function(){return Cr()},mh=Vs,Ro={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,Kr=Pr,Xa.COMPLETE="complete",fh=Xa,Ha.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",Be.prototype.listen=Be.prototype.J,tr=Ha,He.prototype.listenOnce=He.prototype.K,He.prototype.getLastError=He.prototype.Ha,He.prototype.getLastErrorCode=He.prototype.ya,He.prototype.getStatus=He.prototype.ca,He.prototype.getResponseJson=He.prototype.La,He.prototype.getResponseText=He.prototype.la,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Fa,dh=He}).apply(typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{});const Jl="@firebase/firestore",Zl="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dn="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new oh("@firebase/firestore");function on(){return qs.logLevel}function J(s,...e){if(qs.logLevel<=Ee.DEBUG){const t=e.map(aa);qs.debug(`Firestore (${Dn}): ${s}`,...t)}}function as(s,...e){if(qs.logLevel<=Ee.ERROR){const t=e.map(aa);qs.error(`Firestore (${Dn}): ${s}`,...t)}}function vn(s,...e){if(qs.logLevel<=Ee.WARN){const t=e.map(aa);qs.warn(`Firestore (${Dn}): ${s}`,...t)}}function aa(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(s,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,yh(s,n,t)}function yh(s,e,t){let n=`FIRESTORE (${Dn}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw as(n),new Error(n)}function Ve(s,e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,s||yh(e,r,n)}function ge(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Vn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rp{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yt.UNAUTHENTICATED))}shutdown(){}}class Cp{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Pp{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ve(this.o===void 0,42304);let n=this.i;const r=l=>this.i!==n?(n=this.i,t(l)):Promise.resolve();let i=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fs,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},u=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fs)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ve(typeof n.accessToken=="string",31837,{l:n}),new _h(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new yt(e)}}class Vp{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Dp{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Vp(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Np{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fp(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ve(this.o===void 0,3512);const n=i=>{i.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const r=i=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new eu(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new eu(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<s;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const r=zp(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function we(s,e){return s<e?-1:s>e?1:0}function Co(s,e){const t=Math.min(s.length,e.length);for(let n=0;n<t;n++){const r=s.charAt(n),i=e.charAt(n);if(r!==i)return mo(r)===mo(i)?we(r,i):mo(r)?1:-1}return we(s.length,e.length)}const Mp=55296,Op=57343;function mo(s){const e=s.charCodeAt(0);return e>=Mp&&e<=Op}function kn(s,e,t){return s.length===e.length&&s.every((n,r)=>t(n,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu="__name__";class Bt{constructor(e,t,n){t===void 0?t=0:t>e.length&&de(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&de(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Bt.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bt?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=Bt.compareSegments(e.get(r),t.get(r));if(i!==0)return i}return we(e.length,t.length)}static compareSegments(e,t){const n=Bt.isNumericId(e),r=Bt.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Bt.extractNumericId(e).compare(Bt.extractNumericId(t)):Co(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class Le extends Bt{construct(e,t,n){return new Le(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new le(G.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(r=>r.length>0))}return new Le(t)}static emptyPath(){return new Le([])}}const xp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Bt{construct(e,t,n){return new ht(e,t,n)}static isValidIdentifier(e){return xp.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tu}static keyField(){return new ht([tu])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(n.length===0)throw new le(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new le(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,r+=2}else u==="`"?(o=!o,r++):u!=="."||o?(n+=u,r++):(i(),r++)}if(i(),o)throw new le(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(t)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Le.fromString(e))}static fromName(e){return new ce(Le.fromString(e).popFirst(5))}static empty(){return new ce(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Le.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Le(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(s,e,t){if(!t)throw new le(G.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function jp(s,e,t,n){if(e===!0&&n===!0)throw new le(G.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function su(s){if(!ce.isDocumentKey(s))throw new le(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function nu(s){if(ce.isDocumentKey(s))throw new le(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function wh(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ua(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":de(12329,{type:typeof s})}function fn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ua(s);throw new le(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(s,e){const t={typeString:s};return e&&(t.value=e),t}function Tr(s,e){if(!wh(s))throw new le(G.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const r=e[n].typeString,i="value"in e[n]?{value:e[n].value}:void 0;if(!(n in s)){t=`JSON missing required field: '${n}'`;break}const o=s[n];if(r&&typeof o!==r){t=`JSON field '${n}' must be a ${r}.`;break}if(i!==void 0&&o!==i.value){t=`Expected '${n}' field to equal '${i.value}'`;break}}if(t)throw new le(G.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-62135596800,iu=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*iu);return new Fe(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ru)throw new le(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iu}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tr(e,Fe._jsonSchema))return new Fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ru;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:et("string",Fe._jsonSchemaVersion),seconds:et("number"),nanoseconds:et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new Fe(0,0))}static max(){return new pe(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=-1;function Lp(s,e){const t=s.toTimestamp().seconds,n=s.toTimestamp().nanoseconds+1,r=pe.fromTimestamp(n===1e9?new Fe(t+1,0):new Fe(t,n));return new Is(r,ce.empty(),e)}function Fp(s){return new Is(s.readTime,s.key,mr)}class Is{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Is(pe.min(),ce.empty(),mr)}static max(){return new Is(pe.max(),ce.empty(),mr)}}function $p(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=ce.comparator(s.documentKey,e.documentKey),t!==0?t:we(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nn(s){if(s.code!==G.FAILED_PRECONDITION||s.message!==Up)throw s;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new B((n,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,r)},this.catchCallback=i=>{this.wrapFailure(t,i).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof B?t:B.resolve(t)}catch(t){return B.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):B.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):B.reject(t)}static resolve(e){return new B((t,n)=>{t(e)})}static reject(e){return new B((t,n)=>{n(e)})}static waitFor(e){return new B((t,n)=>{let r=0,i=0,o=!1;e.forEach(u=>{++r,u.next(()=>{++i,o&&i===r&&t()},l=>n(l))}),o=!0,i===r&&t()})}static or(e){let t=B.resolve(!1);for(const n of e)t=t.next(r=>r?B.resolve(r):n());return t}static forEach(e,t){const n=[];return e.forEach((r,i)=>{n.push(t.call(this,r,i))}),this.waitFor(n)}static mapArray(e,t){return new B((n,r)=>{const i=e.length,o=new Array(i);let u=0;for(let l=0;l<i;l++){const c=l;t(e[c]).next(h=>{o[c]=h,++u,u===i&&n(o)},h=>r(h))}})}static doWhile(e,t){return new B((n,r)=>{const i=()=>{e()===!0?t().next(()=>{i()},r):n()};i()})}}function Bp(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function zn(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ci.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=-1;function Pi(s){return s==null}function hi(s){return s===0&&1/s==-1/0}function Hp(s){return typeof s=="number"&&Number.isInteger(s)&&!hi(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="";function Wp(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=ou(e)),e=Gp(s.get(t),e);return ou(e)}function Gp(s,e){let t=e;const n=s.length;for(let r=0;r<n;r++){const i=s.charAt(r);switch(i){case"\0":t+="";break;case vh:t+="";break;default:t+=i}}return t}function ou(s){return s+vh+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function Ws(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function kh(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,t){this.comparator=e,this.root=t||ct.EMPTY}insert(e,t){return new Ue(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ur(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ur(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ur(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ur(this.root,e,this.comparator,!0)}}class Ur{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=n??ct.RED,this.left=r??ct.EMPTY,this.right=i??ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ct(e??this.key,t??this.value,n??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):i===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return ct.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1;ct.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new ct(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lu(this.data.getIterator())}getIteratorFrom(e){return new lu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,i=n.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rt(this.comparator);return t.data=e,t}}class lu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new Mt([])}unionWith(e){let t=new rt(ht.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Mt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return kn(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Eh("Invalid base64 string: "+i):i}}(e);return new ft(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const Kp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(s){if(Ve(!!s,39018),typeof s=="string"){let e=0;const t=Kp.exec(s);if(Ve(!!t,46558,{timestamp:s}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const n=new Date(s);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Ke(s.seconds),nanos:Ke(s.nanos)}}function Ke(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ss(s){return typeof s=="string"?ft.fromBase64String(s):ft.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="server_timestamp",Ih="__type__",Ah="__previous_value__",Sh="__local_write_time__";function ha(s){var t,n;return((n=(((t=s==null?void 0:s.mapValue)==null?void 0:t.fields)||{})[Ih])==null?void 0:n.stringValue)===Th}function Vi(s){const e=s.mapValue.fields[Ah];return ha(e)?Vi(e):e}function pr(s){const e=As(s.mapValue.fields[Sh].timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t,n,r,i,o,u,l,c,h){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const di="(default)";class gr{constructor(e,t){this.projectId=e,this.database=t||di}static empty(){return new gr("","")}get isDefaultDatabase(){return this.database===di}isEqual(e){return e instanceof gr&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh="__type__",Ch="__max__",qr={mapValue:{fields:{__type__:{stringValue:Ch}}}},Ph="__vector__",fi="value";function Rs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ha(s)?4:Yp(s)?9007199254740991:Xp(s)?10:11:de(28295,{value:s})}function Xt(s,e){if(s===e)return!0;const t=Rs(s);if(t!==Rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return pr(s).isEqual(pr(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=As(r.timestampValue),u=As(i.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(r,i){return Ss(r.bytesValue).isEqual(Ss(i.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(r,i){return Ke(r.geoPointValue.latitude)===Ke(i.geoPointValue.latitude)&&Ke(r.geoPointValue.longitude)===Ke(i.geoPointValue.longitude)}(s,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ke(r.integerValue)===Ke(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Ke(r.doubleValue),u=Ke(i.doubleValue);return o===u?hi(o)===hi(u):isNaN(o)&&isNaN(u)}return!1}(s,e);case 9:return kn(s.arrayValue.values||[],e.arrayValue.values||[],Xt);case 10:case 11:return function(r,i){const o=r.mapValue.fields||{},u=i.mapValue.fields||{};if(au(o)!==au(u))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(u[l]===void 0||!Xt(o[l],u[l])))return!1;return!0}(s,e);default:return de(52216,{left:s})}}function yr(s,e){return(s.values||[]).find(t=>Xt(t,e))!==void 0}function En(s,e){if(s===e)return 0;const t=Rs(s),n=Rs(e);if(t!==n)return we(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return we(s.booleanValue,e.booleanValue);case 2:return function(i,o){const u=Ke(i.integerValue||i.doubleValue),l=Ke(o.integerValue||o.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(s,e);case 3:return uu(s.timestampValue,e.timestampValue);case 4:return uu(pr(s),pr(e));case 5:return Co(s.stringValue,e.stringValue);case 6:return function(i,o){const u=Ss(i),l=Ss(o);return u.compareTo(l)}(s.bytesValue,e.bytesValue);case 7:return function(i,o){const u=i.split("/"),l=o.split("/");for(let c=0;c<u.length&&c<l.length;c++){const h=we(u[c],l[c]);if(h!==0)return h}return we(u.length,l.length)}(s.referenceValue,e.referenceValue);case 8:return function(i,o){const u=we(Ke(i.latitude),Ke(o.latitude));return u!==0?u:we(Ke(i.longitude),Ke(o.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return cu(s.arrayValue,e.arrayValue);case 10:return function(i,o){var m,g,_,E;const u=i.fields||{},l=o.fields||{},c=(m=u[fi])==null?void 0:m.arrayValue,h=(g=l[fi])==null?void 0:g.arrayValue,f=we(((_=c==null?void 0:c.values)==null?void 0:_.length)||0,((E=h==null?void 0:h.values)==null?void 0:E.length)||0);return f!==0?f:cu(c,h)}(s.mapValue,e.mapValue);case 11:return function(i,o){if(i===qr.mapValue&&o===qr.mapValue)return 0;if(i===qr.mapValue)return 1;if(o===qr.mapValue)return-1;const u=i.fields||{},l=Object.keys(u),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const m=Co(l[f],h[f]);if(m!==0)return m;const g=En(u[l[f]],c[h[f]]);if(g!==0)return g}return we(l.length,h.length)}(s.mapValue,e.mapValue);default:throw de(23264,{he:t})}}function uu(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return we(s,e);const t=As(s),n=As(e),r=we(t.seconds,n.seconds);return r!==0?r:we(t.nanos,n.nanos)}function cu(s,e){const t=s.values||[],n=e.values||[];for(let r=0;r<t.length&&r<n.length;++r){const i=En(t[r],n[r]);if(i)return i}return we(t.length,n.length)}function Tn(s){return Po(s)}function Po(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(t){const n=As(t);return`time(${n.seconds},${n.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(t){return Ss(t).toBase64()}(s.bytesValue):"referenceValue"in s?function(t){return ce.fromName(t).toString()}(s.referenceValue):"geoPointValue"in s?function(t){return`geo(${t.latitude},${t.longitude})`}(s.geoPointValue):"arrayValue"in s?function(t){let n="[",r=!0;for(const i of t.values||[])r?r=!1:n+=",",n+=Po(i);return n+"]"}(s.arrayValue):"mapValue"in s?function(t){const n=Object.keys(t.fields||{}).sort();let r="{",i=!0;for(const o of n)i?i=!1:r+=",",r+=`${o}:${Po(t.fields[o])}`;return r+"}"}(s.mapValue):de(61005,{value:s})}function Qr(s){switch(Rs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vi(s);return e?16+Qr(e):16;case 5:return 2*s.stringValue.length;case 6:return Ss(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((r,i)=>r+Qr(i),0)}(s.arrayValue);case 10:case 11:return function(n){let r=0;return Ws(n.fields,(i,o)=>{r+=i.length+Qr(o)}),r}(s.mapValue);default:throw de(13486,{value:s})}}function Vo(s){return!!s&&"integerValue"in s}function da(s){return!!s&&"arrayValue"in s}function hu(s){return!!s&&"nullValue"in s}function du(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Xr(s){return!!s&&"mapValue"in s}function Xp(s){var t,n;return((n=(((t=s==null?void 0:s.mapValue)==null?void 0:t.fields)||{})[Rh])==null?void 0:n.stringValue)===Ph}function or(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ws(s.mapValue.fields,(t,n)=>e.mapValue.fields[t]=or(n)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=or(s.arrayValue.values[t]);return e}return{...s}}function Yp(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Ch}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.value=e}static empty(){return new Vt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Xr(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=or(t)}setAll(e){let t=ht.emptyPath(),n={},r=[];e.forEach((o,u)=>{if(!t.isImmediateParentOf(u)){const l=this.getFieldsMap(t);this.applyChanges(l,n,r),n={},r=[],t=u.popLast()}o?n[u.lastSegment()]=or(o):r.push(u.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Xr(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Xr(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ws(t,(r,i)=>e[r]=i);for(const r of n)delete e[r]}clone(){return new Vt(or(this.value))}}function Vh(s){const e=[];return Ws(s.fields,(t,n)=>{const r=new ht([t]);if(Xr(n)){const i=Vh(n.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new Mt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t,n,r,i,o,u){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=u}static newInvalidDocument(e){return new _t(e,0,pe.min(),pe.min(),pe.min(),Vt.empty(),0)}static newFoundDocument(e,t,n,r){return new _t(e,1,t,pe.min(),n,r,0)}static newNoDocument(e,t){return new _t(e,2,t,pe.min(),pe.min(),Vt.empty(),0)}static newUnknownDocument(e,t){return new _t(e,3,t,pe.min(),pe.min(),Vt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t){this.position=e,this.inclusive=t}}function fu(s,e,t){let n=0;for(let r=0;r<s.position.length;r++){const i=e[r],o=s.position[r];if(i.field.isKeyField()?n=ce.comparator(ce.fromName(o.referenceValue),t.key):n=En(o,t.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function mu(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Xt(s.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,t="asc"){this.field=e,this.dir=t}}function Jp(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{}class st extends Dh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new eg(e,t,n):t==="array-contains"?new ng(e,n):t==="in"?new rg(e,n):t==="not-in"?new ig(e,n):t==="array-contains-any"?new og(e,n):new st(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new tg(e,n):new sg(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(En(t,this.value)):t!==null&&Rs(this.value)===Rs(t)&&this.matchesComparison(En(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yt extends Dh{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Yt(e,t)}matches(e){return Nh(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Nh(s){return s.op==="and"}function zh(s){return Zp(s)&&Nh(s)}function Zp(s){for(const e of s.filters)if(e instanceof Yt)return!1;return!0}function Do(s){if(s instanceof st)return s.field.canonicalString()+s.op.toString()+Tn(s.value);if(zh(s))return s.filters.map(e=>Do(e)).join(",");{const e=s.filters.map(t=>Do(t)).join(",");return`${s.op}(${e})`}}function Mh(s,e){return s instanceof st?function(n,r){return r instanceof st&&n.op===r.op&&n.field.isEqual(r.field)&&Xt(n.value,r.value)}(s,e):s instanceof Yt?function(n,r){return r instanceof Yt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,u)=>i&&Mh(o,r.filters[u]),!0):!1}(s,e):void de(19439)}function Oh(s){return s instanceof st?function(t){return`${t.field.canonicalString()} ${t.op} ${Tn(t.value)}`}(s):s instanceof Yt?function(t){return t.op.toString()+" {"+t.getFilters().map(Oh).join(" ,")+"}"}(s):"Filter"}class eg extends st{constructor(e,t,n){super(e,t,n),this.key=ce.fromName(n.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class tg extends st{constructor(e,t){super(e,"in",t),this.keys=xh("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sg extends st{constructor(e,t){super(e,"not-in",t),this.keys=xh("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xh(s,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(n=>ce.fromName(n.referenceValue))}class ng extends st{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return da(t)&&yr(t.arrayValue,this.value)}}class rg extends st{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yr(this.value.arrayValue,t)}}class ig extends st{constructor(e,t){super(e,"not-in",t)}matches(e){if(yr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yr(this.value.arrayValue,t)}}class og extends st{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!da(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>yr(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t=null,n=[],r=[],i=null,o=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=u,this.Te=null}}function pu(s,e=null,t=[],n=[],r=null,i=null,o=null){return new ag(s,e,t,n,r,i,o)}function fa(s){const e=ge(s);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Do(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Pi(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Tn(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Tn(n)).join(",")),e.Te=t}return e.Te}function ma(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!Jp(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!Mh(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!mu(s.startAt,e.startAt)&&mu(s.endAt,e.endAt)}function No(s){return ce.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,t=null,n=[],r=[],i=null,o="F",u=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lg(s,e,t,n,r,i,o,u){return new Di(s,e,t,n,r,i,o,u)}function pa(s){return new Di(s)}function gu(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ug(s){return s.collectionGroup!==null}function ar(s){const e=ge(s);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new rt(ht.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(u=u.add(c.field))})}),u})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new pi(i,n))}),t.has(ht.keyField().canonicalString())||e.Ie.push(new pi(ht.keyField(),n))}return e.Ie}function Wt(s){const e=ge(s);return e.Ee||(e.Ee=cg(e,ar(s))),e.Ee}function cg(s,e){if(s.limitType==="F")return pu(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new pi(r.field,i)});const t=s.endAt?new mi(s.endAt.position,s.endAt.inclusive):null,n=s.startAt?new mi(s.startAt.position,s.startAt.inclusive):null;return pu(s.path,s.collectionGroup,e,s.filters,s.limit,t,n)}}function zo(s,e,t){return new Di(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function Ni(s,e){return ma(Wt(s),Wt(e))&&s.limitType===e.limitType}function jh(s){return`${fa(Wt(s))}|lt:${s.limitType}`}function an(s){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>Oh(r)).join(", ")}]`),Pi(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Tn(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Tn(r)).join(",")),`Target(${n})`}(Wt(s))}; limitType=${s.limitType})`}function zi(s,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ce.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(s,e)&&function(n,r){for(const i of ar(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(s,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(s,e)&&function(n,r){return!(n.startAt&&!function(o,u,l){const c=fu(o,u,l);return o.inclusive?c<=0:c<0}(n.startAt,ar(n),r)||n.endAt&&!function(o,u,l){const c=fu(o,u,l);return o.inclusive?c>=0:c>0}(n.endAt,ar(n),r))}(s,e)}function hg(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Lh(s){return(e,t)=>{let n=!1;for(const r of ar(s)){const i=dg(r,e,t);if(i!==0)return i;n=n||r.field.isKeyField()}return 0}}function dg(s,e,t){const n=s.field.isKeyField()?ce.comparator(e.key,t.key):function(i,o,u){const l=o.data.field(i),c=u.data.field(i);return l!==null&&c!==null?En(l,c):de(42886)}(s.field,e,t);switch(s.dir){case"asc":return n;case"desc":return-1*n;default:return de(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[r,i]of n)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return kh(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=new Ue(ce.comparator);function ls(){return fg}const Fh=new Ue(ce.comparator);function sr(...s){let e=Fh;for(const t of s)e=e.insert(t.key,t);return e}function $h(s){let e=Fh;return s.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function js(){return lr()}function Uh(){return lr()}function lr(){return new Gs(s=>s.toString(),(s,e)=>s.isEqual(e))}const mg=new Ue(ce.comparator),pg=new rt(ce.comparator);function ve(...s){let e=pg;for(const t of s)e=e.add(t);return e}const gg=new rt(we);function yg(){return gg}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hi(e)?"-0":e}}function qh(s){return{integerValue:""+s}}function _g(s,e){return Hp(e)?qh(e):ga(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this._=void 0}}function bg(s,e,t){return s instanceof gi?function(r,i){const o={fields:{[Ih]:{stringValue:Th},[Sh]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&ha(i)&&(i=Vi(i)),i&&(o.fields[Ah]=i),{mapValue:o}}(t,e):s instanceof _r?Hh(s,e):s instanceof br?Wh(s,e):function(r,i){const o=Bh(r,i),u=yu(o)+yu(r.Ae);return Vo(o)&&Vo(r.Ae)?qh(u):ga(r.serializer,u)}(s,e)}function wg(s,e,t){return s instanceof _r?Hh(s,e):s instanceof br?Wh(s,e):t}function Bh(s,e){return s instanceof yi?function(n){return Vo(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class gi extends Mi{}class _r extends Mi{constructor(e){super(),this.elements=e}}function Hh(s,e){const t=Gh(e);for(const n of s.elements)t.some(r=>Xt(r,n))||t.push(n);return{arrayValue:{values:t}}}class br extends Mi{constructor(e){super(),this.elements=e}}function Wh(s,e){let t=Gh(e);for(const n of s.elements)t=t.filter(r=>!Xt(r,n));return{arrayValue:{values:t}}}class yi extends Mi{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function yu(s){return Ke(s.integerValue||s.doubleValue)}function Gh(s){return da(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function vg(s,e){return s.field.isEqual(e.field)&&function(n,r){return n instanceof _r&&r instanceof _r||n instanceof br&&r instanceof br?kn(n.elements,r.elements,Xt):n instanceof yi&&r instanceof yi?Xt(n.Ae,r.Ae):n instanceof gi&&r instanceof gi}(s.transform,e.transform)}class kg{constructor(e,t){this.version=e,this.transformResults=t}}class es{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yr(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Oi{}function Kh(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Xh(s.key,es.none()):new Ir(s.key,s.data,es.none());{const t=s.data,n=Vt.empty();let r=new rt(ht.comparator);for(let i of e.fields)if(!r.has(i)){let o=t.field(i);o===null&&i.length>1&&(i=i.popLast(),o=t.field(i)),o===null?n.delete(i):n.set(i,o),r=r.add(i)}return new Ks(s.key,n,new Mt(r.toArray()),es.none())}}function Eg(s,e,t){s instanceof Ir?function(r,i,o){const u=r.value.clone(),l=bu(r.fieldTransforms,i,o.transformResults);u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(s,e,t):s instanceof Ks?function(r,i,o){if(!Yr(r.precondition,i))return void i.convertToUnknownDocument(o.version);const u=bu(r.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Qh(r)),l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(s,e,t):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function ur(s,e,t,n){return s instanceof Ir?function(i,o,u,l){if(!Yr(i.precondition,o))return u;const c=i.value.clone(),h=wu(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(s,e,t,n):s instanceof Ks?function(i,o,u,l){if(!Yr(i.precondition,o))return u;const c=wu(i.fieldTransforms,l,o),h=o.data;return h.setAll(Qh(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(s,e,t,n):function(i,o,u){return Yr(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(s,e,t)}function Tg(s,e){let t=null;for(const n of s.fieldTransforms){const r=e.data.field(n.field),i=Bh(n.transform,r||null);i!=null&&(t===null&&(t=Vt.empty()),t.set(n.field,i))}return t||null}function _u(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&kn(n,r,(i,o)=>vg(i,o))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Ir extends Oi{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ks extends Oi{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Qh(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=s.data.field(t);e.set(t,n)}}),e}function bu(s,e,t){const n=new Map;Ve(s.length===t.length,32656,{Re:t.length,Ve:s.length});for(let r=0;r<t.length;r++){const i=s[r],o=i.transform,u=e.data.field(i.field);n.set(i.field,wg(o,u,t[r]))}return n}function wu(s,e,t){const n=new Map;for(const r of s){const i=r.transform,o=t.data.field(r.field);n.set(r.field,bg(i,o,e))}return n}class Xh extends Oi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ig extends Oi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&Eg(i,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ur(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ur(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Uh();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let u=this.applyToLocalView(o,i.mutatedFields);u=t.has(r.key)?null:u;const l=Kh(o,u);l!==null&&n.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(pe.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ve())}isEqual(e){return this.batchId===e.batchId&&kn(this.mutations,e.mutations,(t,n)=>_u(t,n))&&kn(this.baseMutations,e.baseMutations,(t,n)=>_u(t,n))}}class ya{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ve(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=function(){return mg}();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new ya(e,t,n,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,ke;function Cg(s){switch(s){case G.OK:return de(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return de(15467,{code:s})}}function Yh(s){if(s===void 0)return as("GRPC error has no .code"),G.UNKNOWN;switch(s){case Je.OK:return G.OK;case Je.CANCELLED:return G.CANCELLED;case Je.UNKNOWN:return G.UNKNOWN;case Je.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Je.INTERNAL:return G.INTERNAL;case Je.UNAVAILABLE:return G.UNAVAILABLE;case Je.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Je.NOT_FOUND:return G.NOT_FOUND;case Je.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Je.ABORTED:return G.ABORTED;case Je.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Je.DATA_LOSS:return G.DATA_LOSS;default:return de(39323,{code:s})}}(ke=Je||(Je={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=new ks([4294967295,4294967295],0);function vu(s){const e=Pg().encode(s),t=new hh;return t.update(e),new Uint8Array(t.digest())}function ku(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ks([t,n],0),new ks([r,i],0)]}class _a{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new nr(`Invalid padding: ${t}`);if(n<0)throw new nr(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new nr(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new nr(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ks.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(ks.fromNumber(n)));return r.compare(Vg)===1&&(r=new ks([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=vu(e),[n,r]=ku(t);for(let i=0;i<this.hashCount;i++){const o=this.ye(n,r,i);if(!this.we(o))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new _a(i,r,t);return n.forEach(u=>o.insert(u)),o}insert(e){if(this.ge===0)return;const t=vu(e),[n,r]=ku(t);for(let i=0;i<this.hashCount;i++){const o=this.ye(n,r,i);this.Se(o)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class nr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ar.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new xi(pe.min(),r,new Ue(we),ls(),ve())}}class Ar{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ar(n,t,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Jh{constructor(e,t){this.targetId=e,this.Ce=t}}class Zh{constructor(e,t,n=ft.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Eu{constructor(){this.ve=0,this.Fe=Tu(),this.Me=ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ve(),t=ve(),n=ve();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:de(38017,{changeType:i})}}),new Ar(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Tu()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Dg{constructor(e){this.Ge=e,this.ze=new Map,this.je=ls(),this.Je=Br(),this.He=Br(),this.Ye=new Ue(we)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((n,r)=>{this.rt(r)&&t(r)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(No(i))if(n===0){const o=new ce(i.path);this.et(t,o,_t.newNoDocument(o,pe.min()))}else Ve(n===1,20013,{expectedCount:n});else{const o=this._t(t);if(o!==n){const u=this.ut(e),l=u?this.ct(u,e,o):1;if(l!==0){this.it(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,c)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,u;try{o=Ss(n).toUint8Array()}catch(l){if(l instanceof Eh)return vn("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{u=new _a(o,r,i)}catch(l){return vn(l instanceof nr?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return u.ge===0?null:u}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(i=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(t,i,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((i,o)=>{const u=this.ot(o);if(u){if(i.current&&No(u.target)){const l=new ce(u.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,_t.newNoDocument(l,e))}i.Be&&(t.set(o,i.ke()),i.qe())}});let n=ve();this.He.forEach((i,o)=>{let u=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const r=new xi(e,t,this.Ye,this.je,n);return this.je=ls(),this.Je=Br(),this.He=Br(),this.Ye=new Ue(we),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Eu,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new rt(we),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new rt(we),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||J("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Eu),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Br(){return new Ue(ce.comparator)}function Tu(){return new Ue(ce.comparator)}const Ng=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),zg=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Mg=(()=>({and:"AND",or:"OR"}))();class Og{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mo(s,e){return s.useProto3Json||Pi(e)?e:{value:e}}function _i(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ed(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function xg(s,e){return _i(s,e.toTimestamp())}function Gt(s){return Ve(!!s,49232),pe.fromTimestamp(function(t){const n=As(t);return new Fe(n.seconds,n.nanos)}(s))}function ba(s,e){return Oo(s,e).canonicalString()}function Oo(s,e){const t=function(r){return new Le(["projects",r.projectId,"databases",r.database])}(s).child("documents");return e===void 0?t:t.child(e)}function td(s){const e=Le.fromString(s);return Ve(od(e),10190,{key:e.toString()}),e}function xo(s,e){return ba(s.databaseId,e.path)}function po(s,e){const t=td(e);if(t.get(1)!==s.databaseId.projectId)throw new le(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new le(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new ce(nd(t))}function sd(s,e){return ba(s.databaseId,e)}function jg(s){const e=td(s);return e.length===4?Le.emptyPath():nd(e)}function jo(s){return new Le(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function nd(s){return Ve(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Iu(s,e,t){return{name:xo(s,e),fields:t.value.mapValue.fields}}function Lg(s,e){let t;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:de(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(Ve(h===void 0||typeof h=="string",58123),ft.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ft.fromUint8Array(h||new Uint8Array))}(s,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(c){const h=c.code===void 0?G.UNKNOWN:Yh(c.code);return new le(h,c.message||"")}(o);t=new Zh(n,r,i,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const r=po(s,n.document.name),i=Gt(n.document.updateTime),o=n.document.createTime?Gt(n.document.createTime):pe.min(),u=new Vt({mapValue:{fields:n.document.fields}}),l=_t.newFoundDocument(r,i,o,u),c=n.targetIds||[],h=n.removedTargetIds||[];t=new Jr(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const r=po(s,n.document),i=n.readTime?Gt(n.readTime):pe.min(),o=_t.newNoDocument(r,i),u=n.removedTargetIds||[];t=new Jr([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const r=po(s,n.document),i=n.removedTargetIds||[];t=new Jr([],i,r,null)}else{if(!("filter"in e))return de(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:r=0,unchangedNames:i}=n,o=new Rg(r,i),u=n.targetId;t=new Jh(u,o)}}return t}function Fg(s,e){let t;if(e instanceof Ir)t={update:Iu(s,e.key,e.value)};else if(e instanceof Xh)t={delete:xo(s,e.key)};else if(e instanceof Ks)t={update:Iu(s,e.key,e.data),updateMask:Qg(e.fieldMask)};else{if(!(e instanceof Ig))return de(16599,{Vt:e.type});t={verify:xo(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(i,o){const u=o.transform;if(u instanceof gi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof _r)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof br)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof yi)return{fieldPath:o.field.canonicalString(),increment:u.Ae};throw de(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:xg(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de(27497)}(s,e.precondition)),t}function $g(s,e){return s&&s.length>0?(Ve(e!==void 0,14353),s.map(t=>function(r,i){let o=r.updateTime?Gt(r.updateTime):Gt(i);return o.isEqual(pe.min())&&(o=Gt(i)),new kg(o,r.transformResults||[])}(t,e))):[]}function Ug(s,e){return{documents:[sd(s,e.path)]}}function qg(s,e){const t={structuredQuery:{}},n=e.path;let r;e.collectionGroup!==null?(r=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=sd(s,r);const i=function(c){if(c.length!==0)return id(Yt.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:ln(m.field),direction:Wg(m.dir)}}(h))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const u=Mo(s,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:t,parent:r}}function Bg(s){let e=jg(s.parent);const t=s.structuredQuery,n=t.from?t.from.length:0;let r=null;if(n>0){Ve(n===1,65062);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let i=[];t.where&&(i=function(f){const m=rd(f);return m instanceof Yt&&zh(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(f){return f.map(m=>function(_){return new pi(un(_.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(t.orderBy));let u=null;t.limit&&(u=function(f){let m;return m=typeof f=="object"?f.value:f,Pi(m)?null:m}(t.limit));let l=null;t.startAt&&(l=function(f){const m=!!f.before,g=f.values||[];return new mi(g,m)}(t.startAt));let c=null;return t.endAt&&(c=function(f){const m=!f.before,g=f.values||[];return new mi(g,m)}(t.endAt)),lg(e,r,o,i,u,"F",l,c)}function Hg(s,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:r})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rd(s){return s.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=un(t.unaryFilter.field);return st.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=un(t.unaryFilter.field);return st.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=un(t.unaryFilter.field);return st.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=un(t.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(s):s.fieldFilter!==void 0?function(t){return st.create(un(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(t){return Yt.create(t.compositeFilter.filters.map(n=>rd(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(t.compositeFilter.op))}(s):de(30097,{filter:s})}function Wg(s){return Ng[s]}function Gg(s){return zg[s]}function Kg(s){return Mg[s]}function ln(s){return{fieldPath:s.canonicalString()}}function un(s){return ht.fromServerFormat(s.fieldPath)}function id(s){return s instanceof st?function(t){if(t.op==="=="){if(du(t.value))return{unaryFilter:{field:ln(t.field),op:"IS_NAN"}};if(hu(t.value))return{unaryFilter:{field:ln(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(du(t.value))return{unaryFilter:{field:ln(t.field),op:"IS_NOT_NAN"}};if(hu(t.value))return{unaryFilter:{field:ln(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ln(t.field),op:Gg(t.op),value:t.value}}}(s):s instanceof Yt?function(t){const n=t.getFilters().map(r=>id(r));return n.length===1?n[0]:{compositeFilter:{op:Kg(t.op),filters:n}}}(s):de(54877,{filter:s})}function Qg(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function od(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,t,n,r,i=pe.min(),o=pe.min(),u=ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=l}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){this.yt=e}}function Yg(s){const e=Bg({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?zo(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(){this.Cn=new Zg}addToCollectionParentIndex(e,t){return this.Cn.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(Is.min())}updateCollectionGroup(e,t,n){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}}class Zg{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new rt(Le.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new rt(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ad=41943040;class Et{static withCacheSize(e){return new Et(e,Et.DEFAULT_COLLECTION_PERCENTILE,Et.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Et.DEFAULT_COLLECTION_PERCENTILE=10,Et.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Et.DEFAULT=new Et(ad,Et.DEFAULT_COLLECTION_PERCENTILE,Et.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Et.DISABLED=new Et(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new In(0)}static cr(){return new In(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su="LruGarbageCollector",ey=1048576;function Ru([s,e],[t,n]){const r=we(s,t);return r===0?we(e,n):r}class ty{constructor(e){this.Ir=e,this.buffer=new rt(Ru),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();Ru(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sy{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){J(Su,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){zn(t)?J(Su,"Ignoring IndexedDB error during garbage collection: ",t):await Nn(t)}await this.Vr(3e5)})}}class ny{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return B.resolve(Ci.ce);const n=new ty(t);return this.mr.forEachTarget(e,r=>n.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>n.Ar(r))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Au)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Au):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,o,u,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,o=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(n=f,u=Date.now(),this.removeTargets(e,n,t))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(c=Date.now(),on()<=Ee.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${r} in `+(u-o)+`ms
	Removed ${i} targets in `+(l-u)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:f})))}}function ry(s,e){return new ny(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this.changes=new Gs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?B.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(n!==null&&ur(n.mutation,r,Mt.empty(),Fe.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,ve()).next(()=>n))}getLocalViewOfDocuments(e,t,n=ve()){const r=js();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(i=>{let o=sr();return i.forEach((u,l)=>{o=o.insert(u,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const n=js();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ve()))}populateOverlays(e,t,n){const r=[];return n.forEach(i=>{t.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,u)=>{t.set(o,u)})})}computeViews(e,t,n,r){let i=ls();const o=lr(),u=function(){return lr()}();return t.forEach((l,c)=>{const h=n.get(c.key);r.has(c.key)&&(h===void 0||h.mutation instanceof Ks)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),ur(h.mutation,c,h.mutation.getFieldMask(),Fe.now())):o.set(c.key,Mt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),t.forEach((c,h)=>u.set(c,new oy(h,o.get(c)??null))),u))}recalculateAndSaveOverlays(e,t){const n=lr();let r=new Ue((o,u)=>o-u),i=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const u of o)u.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let h=n.get(l)||Mt.empty();h=u.applyToLocalView(c,h),n.set(l,h);const f=(r.get(u.batchId)||ve()).add(l);r=r.insert(u.batchId,f)})}).next(()=>{const o=[],u=r.getReverseIterator();for(;u.hasNext();){const l=u.getNext(),c=l.key,h=l.value,f=Uh();h.forEach(m=>{if(!i.has(m)){const g=Kh(t.get(m),n.get(m));g!==null&&f.set(m,g),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return B.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,r){return function(o){return ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ug(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):B.resolve(js());let u=mr,l=i;return o.next(c=>B.forEach(c,(h,f)=>(u<f.largestBatchId&&(u=f.largestBatchId),i.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,ve())).next(h=>({batchId:u,changes:$h(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next(n=>{let r=sr();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=sr();return this.indexManager.getCollectionParents(e,i).next(u=>B.forEach(u,l=>{const c=function(f,m){return new Di(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,n,r).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,_t.newInvalidDocument(h)))});let u=sr();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&ur(h.mutation,c,Mt.empty(),Fe.now()),zi(t,c)&&(u=u.insert(l,c))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return B.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Gt(r.createTime)}}(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(r){return{name:r.name,query:Yg(r.bundledQuery),readTime:Gt(r.readTime)}}(t)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(){this.overlays=new Ue(ce.comparator),this.qr=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){const n=js();return B.forEach(t,r=>this.getOverlay(e,r).next(i=>{i!==null&&n.set(r,i)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((r,i)=>{this.St(e,t,i)}),B.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(n)),B.resolve()}getOverlaysForCollection(e,t,n){const r=js(),i=t.length+1,o=new ce(t.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const l=u.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&r.set(l.getKey(),l)}return B.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ue((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>n){let h=i.get(c.largestBatchId);h===null&&(h=js(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const u=js(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>u.set(c,h)),!(u.size()>=r)););return B.resolve(u)}St(e,t,n){const r=this.overlays.get(n.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Sg(t,n));let i=this.qr.get(t);i===void 0&&(i=ve(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.Qr=new rt(lt.$r),this.Ur=new rt(lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new lt(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Gr(new lt(e,t))}zr(e,t){e.forEach(n=>this.removeReference(n,t))}jr(e){const t=new ce(new Le([])),n=new lt(t,e),r=new lt(t,e+1),i=[];return this.Ur.forEachInRange([n,r],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ce(new Le([])),n=new lt(t,e),r=new lt(t,e+1);let i=ve();return this.Ur.forEachInRange([n,r],o=>{i=i.add(o.key)}),i}containsKey(e){const t=new lt(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class lt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ce.comparator(e.key,t.key)||we(e.Yr,t.Yr)}static Kr(e,t){return we(e.Yr,t.Yr)||ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new rt(lt.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ag(i,t,n,r);this.mutationQueue.push(o);for(const u of r)this.Zr=this.Zr.add(new lt(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,t){return B.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?ca:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new lt(t,0),r=new lt(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],o=>{const u=this.Xr(o.Yr);i.push(u)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new rt(we);return t.forEach(r=>{const i=new lt(r,0),o=new lt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],u=>{n=n.add(u.Yr)})}),B.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ce.isDocumentKey(i)||(i=i.child(""));const o=new lt(new ce(i),0);let u=new rt(we);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===r&&(u=u.add(l.Yr)),!0)},o),B.resolve(this.ti(u))}ti(e){const t=[];return e.forEach(n=>{const r=this.Xr(n);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Ve(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return B.forEach(t.mutations,r=>{const i=new lt(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new lt(t,0),r=this.Zr.firstAfterOrEqual(n);return B.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e){this.ri=e,this.docs=function(){return new Ue(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return B.resolve(n?n.document.mutableCopy():_t.newInvalidDocument(t))}getEntries(e,t){let n=ls();return t.forEach(r=>{const i=this.docs.get(r);n=n.insert(r,i?i.document.mutableCopy():_t.newInvalidDocument(r))}),B.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ls();const o=t.path,u=new ce(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||$p(Fp(h),n)<=0||(r.has(h.key)||zi(t,h))&&(i=i.insert(h.key,h.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,t,n,r){de(9500)}ii(e,t){return B.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new fy(this)}getSize(e){return B.resolve(this.size)}}class fy extends iy{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),B.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e){this.persistence=e,this.si=new Gs(t=>fa(t),ma),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.oi=0,this._i=new wa,this.targetCount=0,this.ai=In.ur()}forEachTarget(e,t){return this.si.forEach((n,r)=>t(r)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),B.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new In(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Pr(t),B.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((o,u)=>{u.sequenceNumber<=t&&n.get(u.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),B.waitFor(i).next(()=>r)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return B.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),B.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),B.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return B.resolve(n)}containsKey(e,t){return B.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ci(0),this.li=!1,this.li=!0,this.hi=new cy,this.referenceDelegate=e(this),this.Pi=new my(this),this.indexManager=new Jg,this.remoteDocumentCache=function(r){return new dy(r)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new Xg(t),this.Ii=new ly(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new hy(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){J("MemoryPersistence","Starting transaction:",e);const r=new py(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(i=>this.referenceDelegate.di(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ai(e,t){return B.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class py extends qp{constructor(e){super(),this.currentSequenceNumber=e}}class va{constructor(e){this.persistence=e,this.Ri=new wa,this.Vi=null}static mi(e){return new va(e)}get fi(){if(this.Vi)return this.Vi;throw de(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),B.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),B.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(r=>this.fi.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(i=>this.fi.add(i.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,n=>{const r=ce.fromPath(n);return this.gi(e,r).next(i=>{i||t.removeEntry(r,pe.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return B.or([()=>B.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class bi{constructor(e,t){this.persistence=e,this.pi=new Gs(n=>Wp(n.path),(n,r)=>n.isEqual(r)),this.garbageCollector=ry(this,t)}static mi(e,t){return new bi(e,t)}Ei(){}di(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(r=>n+r))}wr(e){let t=0;return this.pr(e,n=>{t++}).next(()=>t)}pr(e,t){return B.forEach(this.pi,(n,r)=>this.br(e,n,r).next(i=>i?B.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,o=>this.br(e,o,t).next(u=>{u||(n++,i.removeEntry(o,pe.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),B.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qr(e.data.value)),t}br(e,t,n){return B.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return B.resolve(r!==void 0&&r>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=ve(),r=ve();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ka(e,t.fromCache,n,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return cm()?8:Bp(lm())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new gy;return this.Ss(e,t,o).next(u=>{if(i.result=u,this.Vs)return this.bs(e,t,o,u.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(on()<=Ee.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",an(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(on()<=Ee.DEBUG&&J("QueryEngine","Query:",an(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(on()<=Ee.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",an(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wt(t))):B.resolve())}ys(e,t){if(gu(t))return B.resolve(null);let n=Wt(t);return this.indexManager.getIndexType(e,n).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=zo(t,null,"F"),n=Wt(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const o=ve(...i);return this.ps.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.Ds(t,u);return this.Cs(t,c,o,l.readTime)?this.ys(e,zo(t,null,"F")):this.vs(e,c,t,l)}))})))}ws(e,t,n,r){return gu(t)||r.isEqual(pe.min())?B.resolve(null):this.ps.getDocuments(e,n).next(i=>{const o=this.Ds(t,i);return this.Cs(t,o,n,r)?B.resolve(null):(on()<=Ee.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),an(t)),this.vs(e,o,t,Lp(r,mr)).next(u=>u))})}Ds(e,t){let n=new rt(Lh(e));return t.forEach((r,i)=>{zi(e,i)&&(n=n.add(i))}),n}Cs(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return on()<=Ee.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",an(t)),this.ps.getDocumentsMatchingQuery(e,t,Is.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(i=>(t.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="LocalStore",_y=3e8;class by{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Ue(we),this.xs=new Gs(i=>fa(i),ma),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ay(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function wy(s,e,t,n){return new by(s,e,t,n)}async function ud(s,e){const t=ge(s);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let r;return t.mutationQueue.getAllMutationBatches(n).next(i=>(r=i,t.Bs(e),t.mutationQueue.getAllMutationBatches(n))).next(i=>{const o=[],u=[];let l=ve();for(const c of r){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){u.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(n,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:u}))})})}function vy(s,e){const t=ge(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const r=e.batch.keys(),i=t.Ns.newChangeBuffer({trackRemovals:!0});return function(u,l,c,h){const f=c.batch,m=f.keys();let g=B.resolve();return m.forEach(_=>{g=g.next(()=>h.getEntry(l,_)).next(E=>{const A=c.docVersions.get(_);Ve(A!==null,48541),E.version.compareTo(A)<0&&(f.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),h.addEntry(E)))})}),g.next(()=>u.mutationQueue.removeMutationBatch(l,f))}(t,n,e,i).next(()=>i.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let l=ve();for(let c=0;c<u.mutationResults.length;++c)u.mutationResults[c].transformResults.length>0&&(l=l.add(u.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(n,r))})}function cd(s){const e=ge(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function ky(s,e){const t=ge(s),n=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const u=[];e.targetChanges.forEach((h,f)=>{const m=r.get(f);if(!m)return;u.push(t.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>t.Pi.addMatchingKeys(i,h.addedDocuments,f)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(ft.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,n)),r=r.insert(f,g),function(E,A,R){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=_y?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(m,g,h)&&u.push(t.Pi.updateTargetData(i,g))});let l=ls(),c=ve();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(i,h))}),u.push(Ey(i,o,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!n.isEqual(pe.min())){const h=t.Pi.getLastRemoteSnapshotVersion(i).next(f=>t.Pi.setTargetsMetadata(i,i.currentSequenceNumber,n));u.push(h)}return B.waitFor(u).next(()=>o.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(t.Ms=r,i))}function Ey(s,e,t){let n=ve(),r=ve();return t.forEach(i=>n=n.add(i)),e.getEntries(s,n).next(i=>{let o=ls();return t.forEach((u,l)=>{const c=i.get(u);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(u)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(u,l.readTime),o=o.insert(u,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(u,l)):J(Ea,"Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:r}})}function Ty(s,e){const t=ge(s);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=ca),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Iy(s,e){const t=ge(s);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return t.Pi.getTargetData(n,e).next(i=>i?(r=i,B.resolve(r)):t.Pi.allocateTargetId(n).next(o=>(r=new _s(e,o,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=t.Ms.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n})}async function Lo(s,e,t){const n=ge(s),r=n.Ms.get(e),i=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",i,o=>n.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!zn(o))throw o;J(Ea,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(r.target)}function Cu(s,e,t){const n=ge(s);let r=pe.min(),i=ve();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const f=ge(l),m=f.xs.get(h);return m!==void 0?B.resolve(f.Ms.get(m)):f.Pi.getTargetData(c,h)}(n,o,Wt(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,u.targetId).next(l=>{i=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,t?r:pe.min(),t?i:ve())).next(u=>(Ay(n,hg(e),u),{documents:u,Qs:i})))}function Ay(s,e,t){let n=s.Os.get(e)||pe.min();t.forEach((r,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),s.Os.set(e,n)}class Pu{constructor(){this.activeTargetIds=yg()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sy{constructor(){this.Mo=new Pu,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Pu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu="ConnectivityMonitor";class Du{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){J(Vu,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){J(Vu,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hr=null;function Fo(){return Hr===null?Hr=function(){return 268435456+Math.round(2147483648*Math.random())}():Hr++,"0x"+Hr.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="RestConnection",Cy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Py{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===di?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){const o=Fo(),u=this.zo(e,t.toUriEncodedString());J(go,`Sending RPC '${e}' ${o}:`,u,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,r,i);const{host:c}=new URL(u),h=ra(c);return this.Jo(e,u,l,n,h).then(f=>(J(go,`Received RPC '${e}' ${o}: `,f),f),f=>{throw vn(go,`RPC '${e}' ${o} failed with error: `,f,"url: ",u,"request:",n),f})}Ho(e,t,n,r,i,o){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dn}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,i)=>e[i]=r),n&&n.headers.forEach((r,i)=>e[i]=r)}zo(e,t){const n=Cy[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class Dy extends Py{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const o=Fo();return new Promise((u,l)=>{const c=new dh;c.setWithCredentials(!0),c.listenOnce(fh.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Kr.NO_ERROR:const f=c.getResponseJson();J(pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),u(f);break;case Kr.TIMEOUT:J(pt,`RPC '${e}' ${o} timed out`),l(new le(G.DEADLINE_EXCEEDED,"Request time out"));break;case Kr.HTTP_ERROR:const m=c.getStatus();if(J(pt,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const E=function(R){const P=R.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(P)>=0?P:G.UNKNOWN}(_.status);l(new le(E,_.message))}else l(new le(G.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new le(G.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{J(pt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(r);J(pt,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",h,n,15)})}T_(e,t,n){const r=Fo(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gh(),u=ph(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,t,n),l.encodeInitMessageHeaders=!0;const h=i.join("");J(pt,`Creating RPC '${e}' stream ${r}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let m=!1,g=!1;const _=new Vy({Yo:A=>{g?J(pt,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(m||(J(pt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),m=!0),J(pt,`RPC '${e}' stream ${r} sending:`,A),f.send(A))},Zo:()=>f.close()}),E=(A,R,P)=>{A.listen(R,D=>{try{P(D)}catch(N){setTimeout(()=>{throw N},0)}})};return E(f,tr.EventType.OPEN,()=>{g||(J(pt,`RPC '${e}' stream ${r} transport opened.`),_.o_())}),E(f,tr.EventType.CLOSE,()=>{g||(g=!0,J(pt,`RPC '${e}' stream ${r} transport closed`),_.a_(),this.E_(f))}),E(f,tr.EventType.ERROR,A=>{g||(g=!0,vn(pt,`RPC '${e}' stream ${r} transport errored. Name:`,A.name,"Message:",A.message),_.a_(new le(G.UNAVAILABLE,"The operation could not be completed")))}),E(f,tr.EventType.MESSAGE,A=>{var R;if(!g){const P=A.data[0];Ve(!!P,16349);const D=P,N=(D==null?void 0:D.error)||((R=D[0])==null?void 0:R.error);if(N){J(pt,`RPC '${e}' stream ${r} received error:`,N);const O=N.status;let F=function(b){const S=Je[b];if(S!==void 0)return Yh(S)}(O),v=N.message;F===void 0&&(F=G.INTERNAL,v="Unknown error status: "+O+" with message "+N.message),g=!0,_.a_(new le(F,v)),f.close()}else J(pt,`RPC '${e}' stream ${r} received:`,P),_.u_(P)}}),E(u,mh.STAT_EVENT,A=>{A.stat===Ro.PROXY?J(pt,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===Ro.NOPROXY&&J(pt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function yo(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(s){return new Og(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&J("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu="PersistentStream";class dd{constructor(e,t,n,r,i,o,u,l){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hd(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(as(t.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.D_===t&&this.G_(n,r)},n=>{e(()=>{const r=new le(G.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(r)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{n(()=>this.z_(r))}),this.stream.onMessage(r=>{n(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return J(Nu,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(J(Nu,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ny extends dd{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Lg(this.serializer,e),n=function(i){if(!("targetChange"in i))return pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?Gt(o.readTime):pe.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=jo(this.serializer),t.addTarget=function(i,o){let u;const l=o.target;if(u=No(l)?{documents:Ug(i,l)}:{query:qg(i,l).ft},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=ed(i,o.resumeToken);const c=Mo(i,o.expectedCount);c!==null&&(u.expectedCount=c)}else if(o.snapshotVersion.compareTo(pe.min())>0){u.readTime=_i(i,o.snapshotVersion.toTimestamp());const c=Mo(i,o.expectedCount);c!==null&&(u.expectedCount=c)}return u}(this.serializer,e);const n=Hg(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=jo(this.serializer),t.removeTarget=e,this.q_(t)}}class zy extends dd{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=$g(e.writeResults,e.commitTime),n=Gt(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=jo(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>Fg(this.serializer,n))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{}class Oy extends My{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new le(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Oo(t,n),r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new le(G.UNKNOWN,i.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Ho(e,Oo(t,n),r,o,u,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(G.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class xy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(as(t),this.aa=!1):J("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="RemoteStore";class jy{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{Qs(this)&&(J(Bs,"Restarting streams for network reachability change."),await async function(l){const c=ge(l);c.Ea.add(4),await Sr(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Li(c)}(this))})}),this.Ra=new xy(n,r)}}async function Li(s){if(Qs(s))for(const e of s.da)await e(!0)}async function Sr(s){for(const e of s.da)await e(!1)}function fd(s,e){const t=ge(s);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Sa(t)?Aa(t):Mn(t).O_()&&Ia(t,e))}function Ta(s,e){const t=ge(s),n=Mn(t);t.Ia.delete(e),n.O_()&&md(t,e),t.Ia.size===0&&(n.O_()?n.L_():Qs(t)&&t.Ra.set("Unknown"))}function Ia(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mn(s).Y_(e)}function md(s,e){s.Va.Ue(e),Mn(s).Z_(e)}function Aa(s){s.Va=new Dg({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Mn(s).start(),s.Ra.ua()}function Sa(s){return Qs(s)&&!Mn(s).x_()&&s.Ia.size>0}function Qs(s){return ge(s).Ea.size===0}function pd(s){s.Va=void 0}async function Ly(s){s.Ra.set("Online")}async function Fy(s){s.Ia.forEach((e,t)=>{Ia(s,e)})}async function $y(s,e){pd(s),Sa(s)?(s.Ra.ha(e),Aa(s)):s.Ra.set("Unknown")}async function Uy(s,e,t){if(s.Ra.set("Online"),e instanceof Zh&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const u of i.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,o),r.Ia.delete(u),r.Va.removeTarget(u))}(s,e)}catch(n){J(Bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await wi(s,n)}else if(e instanceof Jr?s.Va.Ze(e):e instanceof Jh?s.Va.st(e):s.Va.tt(e),!t.isEqual(pe.min()))try{const n=await cd(s.localStore);t.compareTo(n)>=0&&await function(i,o){const u=i.Va.Tt(o);return u.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(c);h&&i.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),u.targetMismatches.forEach((l,c)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(ft.EMPTY_BYTE_STRING,h.snapshotVersion)),md(i,l);const f=new _s(h.target,l,c,h.sequenceNumber);Ia(i,f)}),i.remoteSyncer.applyRemoteEvent(u)}(s,t)}catch(n){J(Bs,"Failed to raise snapshot:",n),await wi(s,n)}}async function wi(s,e,t){if(!zn(e))throw e;s.Ea.add(1),await Sr(s),s.Ra.set("Offline"),t||(t=()=>cd(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{J(Bs,"Retrying IndexedDB access"),await t(),s.Ea.delete(1),await Li(s)})}function gd(s,e){return e().catch(t=>wi(s,t,e))}async function Fi(s){const e=ge(s),t=Cs(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ca;for(;qy(e);)try{const r=await Ty(e.localStore,n);if(r===null){e.Ta.length===0&&t.L_();break}n=r.batchId,By(e,r)}catch(r){await wi(e,r)}yd(e)&&_d(e)}function qy(s){return Qs(s)&&s.Ta.length<10}function By(s,e){s.Ta.push(e);const t=Cs(s);t.O_()&&t.X_&&t.ea(e.mutations)}function yd(s){return Qs(s)&&!Cs(s).x_()&&s.Ta.length>0}function _d(s){Cs(s).start()}async function Hy(s){Cs(s).ra()}async function Wy(s){const e=Cs(s);for(const t of s.Ta)e.ea(t.mutations)}async function Gy(s,e,t){const n=s.Ta.shift(),r=ya.from(n,e,t);await gd(s,()=>s.remoteSyncer.applySuccessfulWrite(r)),await Fi(s)}async function Ky(s,e){e&&Cs(s).X_&&await async function(n,r){if(function(o){return Cg(o)&&o!==G.ABORTED}(r.code)){const i=n.Ta.shift();Cs(n).B_(),await gd(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Fi(n)}}(s,e),yd(s)&&_d(s)}async function zu(s,e){const t=ge(s);t.asyncQueue.verifyOperationInProgress(),J(Bs,"RemoteStore received new credentials");const n=Qs(t);t.Ea.add(3),await Sr(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Li(t)}async function Qy(s,e){const t=ge(s);e?(t.Ea.delete(2),await Li(t)):e||(t.Ea.add(2),await Sr(t),t.Ra.set("Unknown"))}function Mn(s){return s.ma||(s.ma=function(t,n,r){const i=ge(t);return i.sa(),new Ny(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(s.datastore,s.asyncQueue,{Xo:Ly.bind(null,s),t_:Fy.bind(null,s),r_:$y.bind(null,s),H_:Uy.bind(null,s)}),s.da.push(async e=>{e?(s.ma.B_(),Sa(s)?Aa(s):s.Ra.set("Unknown")):(await s.ma.stop(),pd(s))})),s.ma}function Cs(s){return s.fa||(s.fa=function(t,n,r){const i=ge(t);return i.sa(),new zy(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:Hy.bind(null,s),r_:Ky.bind(null,s),ta:Wy.bind(null,s),na:Gy.bind(null,s)}),s.da.push(async e=>{e?(s.fa.B_(),await Fi(s)):(await s.fa.stop(),s.Ta.length>0&&(J(Bs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,u=new Ra(e,t,o,r,i);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ca(s,e){if(as("AsyncQueue",`${e}: ${s}`),zn(s))return new le(G.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{static emptySet(e){return new mn(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ce.comparator(t.key,n.key):(t,n)=>ce.comparator(t.key,n.key),this.keyedMap=sr(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new mn;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(){this.ga=new Ue(ce.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):de(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class An{constructor(e,t,n,r,i,o,u,l,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(u=>{o.push({type:0,doc:u})}),new An(e,t,mn.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ni(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Yy{constructor(){this.queries=Ou(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const r=ge(t),i=r.queries;r.queries=Ou(),i.forEach((o,u)=>{for(const l of u.Sa)l.onError(n)})})(this,new le(G.ABORTED,"Firestore shutting down"))}}function Ou(){return new Gs(s=>jh(s),Ni)}async function Jy(s,e){const t=ge(s);let n=3;const r=e.query;let i=t.queries.get(r);i?!i.ba()&&e.Da()&&(n=2):(i=new Xy,n=e.Da()?0:1);try{switch(n){case 0:i.wa=await t.onListen(r,!0);break;case 1:i.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(o){const u=Ca(o,`Initialization of query '${an(e.query)}' failed`);return void e.onError(u)}t.queries.set(r,i),i.Sa.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&Pa(t)}async function Zy(s,e){const t=ge(s),n=e.query;let r=3;const i=t.queries.get(n);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function e_(s,e){const t=ge(s);let n=!1;for(const r of e){const i=r.query,o=t.queries.get(i);if(o){for(const u of o.Sa)u.Fa(r)&&(n=!0);o.wa=r}}n&&Pa(t)}function t_(s,e,t){const n=ge(s),r=n.queries.get(e);if(r)for(const i of r.Sa)i.onError(t);n.queries.delete(e)}function Pa(s){s.Ca.forEach(e=>{e.next()})}var $o,xu;(xu=$o||($o={})).Ma="default",xu.Cache="cache";class s_{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const r of e.docChanges)r.type!==3&&n.push(r);e=new An(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=An.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$o.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this.key=e}}class wd{constructor(e){this.key=e}}class n_{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ve(),this.mutatedKeys=ve(),this.eu=Lh(e),this.tu=new mn(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Mu,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,u=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,f)=>{const m=r.get(h),g=zi(this.query,f)?f:null,_=!!m&&this.mutatedKeys.has(m.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let A=!1;m&&g?m.data.isEqual(g.data)?_!==E&&(n.track({type:3,doc:g}),A=!0):this.su(m,g)||(n.track({type:2,doc:g}),A=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(u=!0)):!m&&g?(n.track({type:0,doc:g}),A=!0):m&&!g&&(n.track({type:1,doc:m}),A=!0,(l||c)&&(u=!0)),A&&(g?(o=o.add(g),i=E?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),n.track({type:1,doc:h})}return{tu:o,iu:n,Cs:u,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(g,_){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Rt:A})}};return E(g)-E(_)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(n),r=r??!1;const u=t&&!r?this._u():[],l=this.Xa.size===0&&this.current&&!r?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new An(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Mu,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ve(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const t=[];return e.forEach(n=>{this.Xa.has(n)||t.push(new wd(n))}),this.Xa.forEach(n=>{e.has(n)||t.push(new bd(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return An.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Va="SyncEngine";class r_{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class i_{constructor(e){this.key=e,this.hu=!1}}class o_{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Gs(u=>jh(u),Ni),this.Iu=new Map,this.Eu=new Set,this.du=new Ue(ce.comparator),this.Au=new Map,this.Ru=new wa,this.Vu={},this.mu=new Map,this.fu=In.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function a_(s,e,t=!0){const n=Ad(s);let r;const i=n.Tu.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await vd(n,e,t,!0),r}async function l_(s,e){const t=Ad(s);await vd(t,e,!0,!1)}async function vd(s,e,t,n){const r=await Iy(s.localStore,Wt(e)),i=r.targetId,o=s.sharedClientState.addLocalQueryTarget(i,t);let u;return n&&(u=await u_(s,e,i,o==="current",r.resumeToken)),s.isPrimaryClient&&t&&fd(s.remoteStore,r),u}async function u_(s,e,t,n,r){s.pu=(f,m,g)=>async function(E,A,R,P){let D=A.view.ru(R);D.Cs&&(D=await Cu(E.localStore,A.query,!1).then(({documents:v})=>A.view.ru(v,D)));const N=P&&P.targetChanges.get(A.targetId),O=P&&P.targetMismatches.get(A.targetId)!=null,F=A.view.applyChanges(D,E.isPrimaryClient,N,O);return Lu(E,A.targetId,F.au),F.snapshot}(s,f,m,g);const i=await Cu(s.localStore,e,!0),o=new n_(e,i.Qs),u=o.ru(i.documents),l=Ar.createSynthesizedTargetChangeForCurrentChange(t,n&&s.onlineState!=="Offline",r),c=o.applyChanges(u,s.isPrimaryClient,l);Lu(s,t,c.au);const h=new r_(e,t,o);return s.Tu.set(e,h),s.Iu.has(t)?s.Iu.get(t).push(e):s.Iu.set(t,[e]),c.snapshot}async function c_(s,e,t){const n=ge(s),r=n.Tu.get(e),i=n.Iu.get(r.targetId);if(i.length>1)return n.Iu.set(r.targetId,i.filter(o=>!Ni(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Lo(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),t&&Ta(n.remoteStore,r.targetId),Uo(n,r.targetId)}).catch(Nn)):(Uo(n,r.targetId),await Lo(n.localStore,r.targetId,!0))}async function h_(s,e){const t=ge(s),n=t.Tu.get(e),r=t.Iu.get(n.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Ta(t.remoteStore,n.targetId))}async function d_(s,e,t){const n=b_(s);try{const r=await function(o,u){const l=ge(o),c=Fe.now(),h=u.reduce((g,_)=>g.add(_.key),ve());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=ls(),E=ve();return l.Ns.getEntries(g,h).next(A=>{_=A,_.forEach((R,P)=>{P.isValidDocument()||(E=E.add(R))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(A=>{f=A;const R=[];for(const P of u){const D=Tg(P,f.get(P.key).overlayedDocument);D!=null&&R.push(new Ks(P.key,D,Vh(D.value.mapValue),es.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,R,u)}).next(A=>{m=A;const R=A.applyToLocalDocumentSet(f,E);return l.documentOverlayCache.saveOverlays(g,A.batchId,R)})}).then(()=>({batchId:m.batchId,changes:$h(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(r.batchId),function(o,u,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Ue(we)),c=c.insert(u,l),o.Vu[o.currentUser.toKey()]=c}(n,r.batchId,t),await Rr(n,r.changes),await Fi(n.remoteStore)}catch(r){const i=Ca(r,"Failed to persist write");t.reject(i)}}async function kd(s,e){const t=ge(s);try{const n=await ky(t.localStore,e);e.targetChanges.forEach((r,i)=>{const o=t.Au.get(i);o&&(Ve(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?Ve(o.hu,14607):r.removedDocuments.size>0&&(Ve(o.hu,42227),o.hu=!1))}),await Rr(t,n,e)}catch(n){await Nn(n)}}function ju(s,e,t){const n=ge(s);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const r=[];n.Tu.forEach((i,o)=>{const u=o.view.va(e);u.snapshot&&r.push(u.snapshot)}),function(o,u){const l=ge(o);l.onlineState=u;let c=!1;l.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(u)&&(c=!0)}),c&&Pa(l)}(n.eventManager,e),r.length&&n.Pu.H_(r),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function f_(s,e,t){const n=ge(s);n.sharedClientState.updateQueryState(e,"rejected",t);const r=n.Au.get(e),i=r&&r.key;if(i){let o=new Ue(ce.comparator);o=o.insert(i,_t.newNoDocument(i,pe.min()));const u=ve().add(i),l=new xi(pe.min(),new Map,new Ue(we),o,u);await kd(n,l),n.du=n.du.remove(i),n.Au.delete(e),Da(n)}else await Lo(n.localStore,e,!1).then(()=>Uo(n,e,t)).catch(Nn)}async function m_(s,e){const t=ge(s),n=e.batch.batchId;try{const r=await vy(t.localStore,e);Td(t,n,null),Ed(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Rr(t,r)}catch(r){await Nn(r)}}async function p_(s,e,t){const n=ge(s);try{const r=await function(o,u){const l=ge(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,u).next(f=>(Ve(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,u)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(n.localStore,e);Td(n,e,t),Ed(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Rr(n,r)}catch(r){await Nn(r)}}function Ed(s,e){(s.mu.get(e)||[]).forEach(t=>{t.resolve()}),s.mu.delete(e)}function Td(s,e,t){const n=ge(s);let r=n.Vu[n.currentUser.toKey()];if(r){const i=r.get(e);i&&(t?i.reject(t):i.resolve(),r=r.remove(e)),n.Vu[n.currentUser.toKey()]=r}}function Uo(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const n of s.Iu.get(e))s.Tu.delete(n),t&&s.Pu.yu(n,t);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach(n=>{s.Ru.containsKey(n)||Id(s,n)})}function Id(s,e){s.Eu.delete(e.path.canonicalString());const t=s.du.get(e);t!==null&&(Ta(s.remoteStore,t),s.du=s.du.remove(e),s.Au.delete(t),Da(s))}function Lu(s,e,t){for(const n of t)n instanceof bd?(s.Ru.addReference(n.key,e),g_(s,n)):n instanceof wd?(J(Va,"Document no longer in limbo: "+n.key),s.Ru.removeReference(n.key,e),s.Ru.containsKey(n.key)||Id(s,n.key)):de(19791,{wu:n})}function g_(s,e){const t=e.key,n=t.path.canonicalString();s.du.get(t)||s.Eu.has(n)||(J(Va,"New document in limbo: "+t),s.Eu.add(n),Da(s))}function Da(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const t=new ce(Le.fromString(e)),n=s.fu.next();s.Au.set(n,new i_(t)),s.du=s.du.insert(t,n),fd(s.remoteStore,new _s(Wt(pa(t.path)),n,"TargetPurposeLimboResolution",Ci.ce))}}async function Rr(s,e,t){const n=ge(s),r=[],i=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((u,l)=>{o.push(n.pu(l,e,t).then(c=>{var h;if((c||t)&&n.isPrimaryClient){const f=c?!c.fromCache:(h=t==null?void 0:t.targetChanges.get(l.targetId))==null?void 0:h.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){r.push(c);const f=ka.As(l.targetId,c);i.push(f)}}))}),await Promise.all(o),n.Pu.H_(r),await async function(l,c){const h=ge(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(c,m=>B.forEach(m.Es,g=>h.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>B.forEach(m.ds,g=>h.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!zn(f))throw f;J(Ea,"Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const g=h.Ms.get(m),_=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(_);h.Ms=h.Ms.insert(m,E)}}}(n.localStore,i))}async function y_(s,e){const t=ge(s);if(!t.currentUser.isEqual(e)){J(Va,"User change. New user:",e.toKey());const n=await ud(t.localStore,e);t.currentUser=e,function(i,o){i.mu.forEach(u=>{u.forEach(l=>{l.reject(new le(G.CANCELLED,o))})}),i.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Rr(t,n.Ls)}}function __(s,e){const t=ge(s),n=t.Au.get(e);if(n&&n.hu)return ve().add(n.key);{let r=ve();const i=t.Iu.get(e);if(!i)return r;for(const o of i){const u=t.Tu.get(o);r=r.unionWith(u.view.nu)}return r}}function Ad(s){const e=ge(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=kd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=__.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f_.bind(null,e),e.Pu.H_=e_.bind(null,e.eventManager),e.Pu.yu=t_.bind(null,e.eventManager),e}function b_(s){const e=ge(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=m_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p_.bind(null,e),e}class vi{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ji(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return wy(this.persistence,new yy,e.initialUser,this.serializer)}Cu(e){return new ld(va.mi,this.serializer)}Du(e){return new Sy}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vi.provider={build:()=>new vi};class w_ extends vi{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ve(this.persistence.referenceDelegate instanceof bi,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new sy(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Et.withCacheSize(this.cacheSizeBytes):Et.DEFAULT;return new ld(n=>bi.mi(n,t),this.serializer)}}class qo{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>ju(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=y_.bind(null,this.syncEngine),await Qy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Yy}()}createDatastore(e){const t=ji(e.databaseInfo.databaseId),n=function(i){return new Dy(i)}(e.databaseInfo);return function(i,o,u,l){return new Oy(i,o,u,l)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,r,i,o,u){return new jy(n,r,i,o,u)}(this.localStore,this.datastore,e.asyncQueue,t=>ju(this.syncEngine,t,0),function(){return Du.v()?new Du:new Ry}())}createSyncEngine(e,t){return function(r,i,o,u,l,c,h){const f=new o_(r,i,o,u,l,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const i=ge(r);J(Bs,"RemoteStore shutting down."),i.Ea.add(5),await Sr(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}qo.provider={build:()=>new qo};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class k_{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=yt.UNAUTHENTICATED,this.clientId=la.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async o=>{J(Ps,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(J(Ps,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ca(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function _o(s,e){s.asyncQueue.verifyOperationInProgress(),J(Ps,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let n=t.initialUser;s.setCredentialChangeListener(async r=>{n.isEqual(r)||(await ud(e.localStore,r),n=r)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Fu(s,e){s.asyncQueue.verifyOperationInProgress();const t=await E_(s);J(Ps,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener(n=>zu(e.remoteStore,n)),s.setAppCheckTokenChangeListener((n,r)=>zu(e.remoteStore,r)),s._onlineComponents=e}async function E_(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){J(Ps,"Using user provided OfflineComponentProvider");try{await _o(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===G.FAILED_PRECONDITION||r.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;vn("Error using user provided cache. Falling back to memory cache: "+t),await _o(s,new vi)}}else J(Ps,"Using default OfflineComponentProvider"),await _o(s,new w_(void 0));return s._offlineComponents}async function Sd(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(J(Ps,"Using user provided OnlineComponentProvider"),await Fu(s,s._uninitializedComponentsProvider._online)):(J(Ps,"Using default OnlineComponentProvider"),await Fu(s,new qo))),s._onlineComponents}function T_(s){return Sd(s).then(e=>e.syncEngine)}async function $u(s){const e=await Sd(s),t=e.eventManager;return t.onListen=a_.bind(null,e.syncEngine),t.onUnlisten=c_.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=l_.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=h_.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="firestore.googleapis.com",qu=!0;class Bu{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cd,this.ssl=qu}else this.host=e.host,this.ssl=e.ssl??qu;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ad;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ey)throw new le(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rd(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $i{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bu({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bu(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Rp;switch(n.type){case"firstParty":return new Dp(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new le(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Uu.get(t);n&&(J("ComponentProvider","Removing Datastore"),Uu.delete(t),n.terminate())}(this),Promise.resolve()}}function I_(s,e,t,n={}){var c;s=fn(s,$i);const r=ra(e),i=s._getSettings(),o={...i,emulatorOptions:s._getEmulatorOptions()},u=`${e}:${t}`;r&&(nm(`https://${u}`),am("Firestore",!0)),i.host!==Cd&&i.host!==u&&vn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:u,ssl:r,emulatorOptions:n};if(!li(l,o)&&(s._setSettings(l),n.mockUserToken)){let h,f;if(typeof n.mockUserToken=="string")h=n.mockUserToken,f=yt.MOCK_USER;else{h=rm(n.mockUserToken,(c=s._app)==null?void 0:c.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new le(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new yt(m)}s._authCredentials=new Cp(new _h(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ui(this.firestore,e,this._query)}}class nt{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nt(this.firestore,e,this._key)}toJSON(){return{type:nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Tr(t,nt._jsonSchema))return new nt(e,n||null,new ce(Le.fromString(t.referencePath)))}}nt._jsonSchemaVersion="firestore/documentReference/1.0",nt._jsonSchema={type:et("string",nt._jsonSchemaVersion),referencePath:et("string")};class Es extends Ui{constructor(e,t,n){super(e,t,pa(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new ce(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function A_(s,e,...t){if(s=wn(s),bh("collection","path",e),s instanceof $i){const n=Le.fromString(e,...t);return nu(n),new Es(s,null,n)}{if(!(s instanceof nt||s instanceof Es))throw new le(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=s._path.child(Le.fromString(e,...t));return nu(n),new Es(s.firestore,null,n)}}function S_(s,e,...t){if(s=wn(s),arguments.length===1&&(e=la.newId()),bh("doc","path",e),s instanceof $i){const n=Le.fromString(e,...t);return su(n),new nt(s,null,new ce(n))}{if(!(s instanceof nt||s instanceof Es))throw new le(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=s._path.child(Le.fromString(e,...t));return su(n),new nt(s.firestore,s instanceof Es?s.converter:null,new ce(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu="AsyncQueue";class Wu{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hd(this,"async_queue_retry"),this._c=()=>{const n=yo();n&&J(Hu,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=yo();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=yo();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Fs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zn(e))throw e;J(Hu,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,as("INTERNAL UNHANDLED ERROR: ",Gu(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Ra.createAndSchedule(this,e,t,n,i=>this.hc(i));return this.tc.push(r),r}uc(){this.nc&&de(47125,{Pc:Gu(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Gu(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(s){return function(t,n){if(typeof t!="object"||t===null)return!1;const r=t;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(s,["next","error","complete"])}class ki extends $i{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Wu,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wu(e),this._firestoreClient=void 0,await e}}}function Pd(s,e){const t=typeof s=="object"?s:yp(),n=typeof s=="string"?s:e||di,r=dp(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const i=tm("firestore");i&&I_(r,...i)}return r}function Vd(s){if(s._terminated)throw new le(G.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||R_(s),s._firestoreClient}function R_(s){var n,r,i;const e=s._freezeSettings(),t=function(u,l,c,h){return new Qp(u,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Rd(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(s._databaseId,((n=s._app)==null?void 0:n.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new k_(s._authCredentials,s._appCheckCredentials,s._queue,t,s._componentsProvider&&function(u){const l=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(l),_online:l}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dt(ft.fromBase64String(e))}catch(t){throw new le(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dt(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tr(e,Dt._jsonSchema))return Dt.fromBase64String(e.bytes)}}Dt._jsonSchemaVersion="firestore/bytes/1.0",Dt._jsonSchema={type:et("string",Dt._jsonSchemaVersion),bytes:et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Kt._jsonSchemaVersion}}static fromJSON(e){if(Tr(e,Kt._jsonSchema))return new Kt(e.latitude,e.longitude)}}Kt._jsonSchemaVersion="firestore/geoPoint/1.0",Kt._jsonSchema={type:et("string",Kt._jsonSchemaVersion),latitude:et("number"),longitude:et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,r){if(n.length!==r.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==r[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Qt._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tr(e,Qt._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Qt(e.vectorValues);throw new le(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qt._jsonSchemaVersion="firestore/vectorValue/1.0",Qt._jsonSchema={type:et("string",Qt._jsonSchemaVersion),vectorValues:et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=/^__.*__$/;class P_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ir(e,this.data,t,this.fieldTransforms)}}function Nd(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ac:s})}}class za{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new za({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const t=(r=this.path)==null?void 0:r.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){var r;const t=(r=this.path)==null?void 0:r.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ei(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Nd(this.Ac)&&C_.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class V_{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ji(e)}Cc(e,t,n,r=!1){return new za({Ac:e,methodName:t,Dc:n,path:ht.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function D_(s){const e=s._freezeSettings(),t=ji(s._databaseId);return new V_(s._databaseId,!!e.ignoreUndefinedProperties,t)}function N_(s,e,t,n,r,i={}){const o=s.Cc(i.merge||i.mergeFields?2:0,e,t,r);xd("Data must be an object, but it was:",o,n);const u=Md(n,o);let l,c;if(i.merge)l=new Mt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=z_(e,f,t);if(!o.contains(m))throw new le(G.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);O_(h,m)||h.push(m)}l=new Mt(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new P_(new Vt(u),l,c)}function zd(s,e){if(Od(s=wn(s)))return xd("Unsupported field value:",e,s),Md(s,e);if(s instanceof Dd)return function(n,r){if(!Nd(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const u of n){let l=zd(u,r.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(s,e)}return function(n,r){if((n=wn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return _g(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Fe.fromDate(n);return{timestampValue:_i(r.serializer,i)}}if(n instanceof Fe){const i=new Fe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:_i(r.serializer,i)}}if(n instanceof Kt)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Dt)return{bytesValue:ed(r.serializer,n._byteString)};if(n instanceof nt){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ba(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof Qt)return function(o,u){return{mapValue:{fields:{[Rh]:{stringValue:Ph},[fi]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw u.Sc("VectorValues must only contain numeric values.");return ga(u.serializer,c)})}}}}}}(n,r);throw r.Sc(`Unsupported field value: ${ua(n)}`)}(s,e)}function Md(s,e){const t={};return kh(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(s,(n,r)=>{const i=zd(r,e.mc(n));i!=null&&(t[n]=i)}),{mapValue:{fields:t}}}function Od(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Fe||s instanceof Kt||s instanceof Dt||s instanceof nt||s instanceof Dd||s instanceof Qt)}function xd(s,e,t){if(!Od(t)||!wh(t)){const n=ua(t);throw n==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+n)}}function z_(s,e,t){if((e=wn(e))instanceof Na)return e._internalPath;if(typeof e=="string")return jd(s,e);throw Ei("Field path arguments must be of type string or ",s,!1,void 0,t)}const M_=new RegExp("[~\\*/\\[\\]]");function jd(s,e,t){if(e.search(M_)>=0)throw Ei(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new Na(...e.split("."))._internalPath}catch{throw Ei(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Ei(s,e,t,n,r){const i=n&&!n.isEmpty(),o=r!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${n}`),o&&(l+=` in document ${r}`),l+=")"),new le(G.INVALID_ARGUMENT,u+s+l)}function O_(s,e){return s.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class x_ extends Ld{data(){return super.data()}}function Fd(s,e){return typeof e=="string"?jd(s,e):e instanceof Na?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L_{convertValue(e,t="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Ws(e,(r,i)=>{n[r]=this.convertValue(i,t)}),n}convertVectorValue(e){var n,r,i;const t=(i=(r=(n=e.fields)==null?void 0:n[fi].arrayValue)==null?void 0:r.values)==null?void 0:i.map(o=>Ke(o.doubleValue));return new Qt(t)}convertGeoPoint(e){return new Kt(Ke(e.latitude),Ke(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Vi(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(pr(e));default:return null}}convertTimestamp(e){const t=As(e);return new Fe(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Le.fromString(e);Ve(od(n),9688,{name:e});const r=new gr(n.get(1),n.get(3)),i=new ce(n.popFirst(5));return r.isEqual(t)||as(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(s,e,t){let n;return n=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,n}class rr{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $s extends Ld{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zr(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Fd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=$s._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:et("string",$s._jsonSchemaVersion),bundleSource:et("string","DocumentSnapshot"),bundleName:et("string"),bundle:et("string")};class Zr extends $s{data(e={}){return super.data(e)}}class pn{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new rr(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Zr(this._firestore,this._userDataWriter,n.key,n,new rr(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(u=>{const l=new Zr(r._firestore,r._userDataWriter,u.doc.key,u.doc,new rr(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||u.type!==3).map(u=>{const l=new Zr(r._firestore,r._userDataWriter,u.doc.key,u.doc,new rr(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return u.type!==0&&(c=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),h=o.indexOf(u.doc.key)),{type:$_(u.type),doc:l,oldIndex:c,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pn._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=la.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(i=>{i._document!==null&&(t.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $_(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:s})}}pn._jsonSchemaVersion="firestore/querySnapshot/1.0",pn._jsonSchema={type:et("string",pn._jsonSchemaVersion),bundleSource:et("string","QuerySnapshot"),bundleName:et("string"),bundle:et("string")};class $d extends L_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dt(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,t)}}function U_(s,e,t){s=fn(s,nt);const n=fn(s.firestore,ki),r=F_(s.converter,e,t);return B_(n,[N_(D_(n),"setDoc",s._key,r,s.converter!==null,t).toMutation(s._key,es.none())])}function q_(s,...e){var l,c,h;s=wn(s);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||Ku(e[n])||(t=e[n++]);const r={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Ku(e[n])){const f=e[n];e[n]=(l=f.next)==null?void 0:l.bind(f),e[n+1]=(c=f.error)==null?void 0:c.bind(f),e[n+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,o,u;if(s instanceof nt)o=fn(s.firestore,ki),u=pa(s._key.path),i={next:f=>{e[n]&&e[n](H_(o,s,f))},error:e[n+1],complete:e[n+2]};else{const f=fn(s,Ui);o=fn(f.firestore,ki),u=f._query;const m=new $d(o);i={next:g=>{e[n]&&e[n](new pn(o,m,f,g))},error:e[n+1],complete:e[n+2]},j_(s._query)}return function(m,g,_,E){const A=new v_(E),R=new s_(g,A,_);return m.asyncQueue.enqueueAndForget(async()=>Jy(await $u(m),R)),()=>{A.Nu(),m.asyncQueue.enqueueAndForget(async()=>Zy(await $u(m),R))}}(Vd(o),u,r,i)}function B_(s,e){return function(n,r){const i=new Fs;return n.asyncQueue.enqueueAndForget(async()=>d_(await T_(n),r,i)),i.promise}(Vd(s),e)}function H_(s,e,t){const n=t.docs.get(e._key),r=new $d(s);return new $s(s,r,e._key,n,new rr(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){Dn=r})(gp),ci(new dr("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),u=new ki(new Pp(n.getProvider("auth-internal")),new Np(o,n.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new le(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gr(c.options.projectId,h)}(o,r),o);return i={useFetchStreams:t,...i},u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),dn(Jl,Zl,e),dn(Jl,Zl,"esm2020")})();var W_="firebase",G_="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn(W_,G_,"app");const K_={demo:{id:"demo",name:"Demo Session",words:[{word:"cat",hint:"A common household pet that meows",length:3},{word:"house",hint:"A place where people live",length:5},{word:"computer",hint:"An electronic device for processing data",length:8},{word:"elephant",hint:"The largest land mammal with a trunk",length:8},{word:"programming",hint:"The process of creating computer software",length:11}]},animals:{id:"animals",name:"Animal Kingdom",words:[{word:"dog",hint:"Man's best friend",length:3},{word:"tiger",hint:"Large striped cat from Asia",length:5},{word:"dolphin",hint:"Intelligent marine mammal",length:7},{word:"butterfly",hint:"Colorful insect that undergoes metamorphosis",length:9},{word:"hippopotamus",hint:"Large African mammal that lives in water",length:12}]},science:{id:"science",name:"Science & Technology",words:[{word:"atom",hint:"The smallest unit of matter",length:4},{word:"galaxy",hint:"A collection of billions of stars",length:6},{word:"molecule",hint:"Two or more atoms bonded together",length:8},{word:"photosynthesis",hint:"Process by which plants make food from sunlight",length:14},{word:"dna",hint:"Genetic material in living organisms",length:3}]},geography:{id:"geography",name:"World Geography",words:[{word:"ocean",hint:"Large body of salt water",length:5},{word:"mountain",hint:"High elevation landform",length:8},{word:"desert",hint:"Dry, arid region with little rainfall",length:6},{word:"archipelago",hint:"A group of islands",length:11},{word:"continent",hint:"One of the seven large landmasses",length:9}]},weddle:{id:"weddle",name:"Weddle Words",words:[{word:"hinge",hint:"How James and Kim met",length:5,image:"img/dating_app.jpg"},{word:"guzman",hint:"Our favorite fastfood takeout",length:6,image:"img/guzman.jpeg"},{word:"alphafly",hint:"Shoes that James and Kim will wear to their half marathon",length:8,image:"img/alpha_fly.png"},{word:"takayama",hint:"The restaurant where James proposed",length:8,image:"img/takayama.jpg"},{word:"paddlepop",hint:"The name of rainbow bear that James won for Kim",length:9,image:"img/paddlepop.jpg"}]}};function Ti(s){return K_[s]||null}const Q_=s=>({}),Qu=s=>({}),X_=s=>({}),Xu=s=>({});function Y_(s){let e,t,n,r,i;const o=s[2][1],u=ss(o,s,s[1],Xu),l=s[2][2],c=ss(l,s,s[1],Qu);return{c(){e=z("div"),t=z("div"),u&&u.c(),n=$(),r=z("div"),c&&c.c(),V(t,"class","svelte-1cu43ge"),V(r,"class","svelte-1cu43ge"),V(e,"class","sep svelte-1cu43ge"),Se(e,"visible",s[0])},m(h,f){L(h,e,f),T(e,t),u&&u.m(t,null),T(e,n),T(e,r),c&&c.m(r,null),i=!0},p(h,[f]){u&&u.p&&(!i||f&2)&&rs(u,o,h,h[1],i?ns(o,h[1],f,X_):is(h[1]),Xu),c&&c.p&&(!i||f&2)&&rs(c,l,h,h[1],i?ns(l,h[1],f,Q_):is(h[1]),Qu),(!i||f&1)&&Se(e,"visible",h[0])},i(h){i||(U(u,h),U(c,h),i=!0)},o(h){q(u,h),q(c,h),i=!1},d(h){h&&j(e),u&&u.d(h),c&&c.d(h)}}}function J_(s,e,t){let{$$slots:n={},$$scope:r}=e,{visible:i=!0}=e;return s.$$set=o=>{"visible"in o&&t(0,i=o.visible),"$$scope"in o&&t(1,r=o.$$scope)},[i,r,n]}class Z_ extends Ce{constructor(e){super(),Re(this,e,J_,Y_,Ie,{visible:0})}}function Yu(s,e,t){const n=s.slice();return n[3]=e[t],n}function eb(s){let e,t,n,r,i;return{c(){e=z("div"),t=H("Your word was "),n=z("strong"),r=H(s[0]),i=H(". (failed to fetch definition)")},m(o,u){L(o,e,u),T(e,t),T(e,n),T(n,r),T(e,i)},p(o,u){u&1&&ue(r,o[0])},d(o){o&&j(e)}}}function tb(s){let e,t,n,r,i=s[2].meanings[0].partOfSpeech+"",o,u,l,c,h=s[0]!==s[2].word&&Ju(s),f=s[2].meanings[0].definitions.slice(0,1+s[1]-(s[0]!==s[2].word?1:0)),m=[];for(let g=0;g<f.length;g+=1)m[g]=Zu(Yu(s,f,g));return{c(){e=z("h2"),t=H(s[0]),n=$(),r=z("em"),o=H(i),u=$(),l=z("ol"),h&&h.c(),c=$();for(let g=0;g<m.length;g+=1)m[g].c();V(e,"class","svelte-1cpaagx"),V(l,"class","svelte-1cpaagx")},m(g,_){L(g,e,_),T(e,t),L(g,n,_),L(g,r,_),T(r,o),L(g,u,_),L(g,l,_),h&&h.m(l,null),T(l,c);for(let E=0;E<m.length;E+=1)m[E]&&m[E].m(l,null)},p(g,_){if(_&1&&ue(t,g[0]),_&1&&i!==(i=g[2].meanings[0].partOfSpeech+"")&&ue(o,i),g[0]!==g[2].word?h?h.p(g,_):(h=Ju(g),h.c(),h.m(l,c)):h&&(h.d(1),h=null),_&3){f=g[2].meanings[0].definitions.slice(0,1+g[1]-(g[0]!==g[2].word?1:0));let E;for(E=0;E<f.length;E+=1){const A=Yu(g,f,E);m[E]?m[E].p(A,_):(m[E]=Zu(A),m[E].c(),m[E].m(l,null))}for(;E<m.length;E+=1)m[E].d(1);m.length=f.length}},d(g){g&&j(e),g&&j(n),g&&j(r),g&&j(u),g&&j(l),h&&h.d(),Ot(m,g)}}}function Ju(s){let e,t,n=s[2].word+"",r,i;return{c(){e=z("li"),t=H("variant of "),r=H(n),i=H("."),V(e,"class","svelte-1cpaagx")},m(o,u){L(o,e,u),T(e,t),T(e,r),T(e,i)},p(o,u){u&1&&n!==(n=o[2].word+"")&&ue(r,n)},d(o){o&&j(e)}}}function Zu(s){let e,t=s[3].definition+"",n;return{c(){e=z("li"),n=H(t),V(e,"class","svelte-1cpaagx")},m(r,i){L(r,e,i),T(e,n)},p(r,i){i&3&&t!==(t=r[3].definition+"")&&ue(n,t)},d(r){r&&j(e)}}}function sb(s){let e;return{c(){e=z("h4"),e.textContent="Fetching definition..."},m(t,n){L(t,e,n)},p:re,d(t){t&&j(e)}}}function nb(s){let e,t,n={ctx:s,current:null,token:null,hasCatch:!0,pending:sb,then:tb,catch:eb,value:2};return Fl(t=ec(s[0]),n),{c(){e=z("div"),n.block.c(),V(e,"class","def")},m(r,i){L(r,e,i),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null},p(r,[i]){s=r,n.ctx=s,i&1&&t!==(t=ec(s[0]))&&Fl(t,n)||$f(n,s,i)},i:re,o:re,d(r){r&&j(e),n.block.d(),n.token=null,n=null}}}const bo=new Map;async function ec(s){if(!bo.has(s)){const e=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${s}`,{mode:"cors"});if(e.ok)bo.set(s,(await e.json())[0]);else throw new Error("Failed to fetch definition")}return bo.get(s)}function rb(s,e,t){let{word:n}=e,{alternates:r=9}=e;return s.$$set=i=>{"word"in i&&t(0,n=i.word),"alternates"in i&&t(1,r=i.alternates)},[n,r]}class Ud extends Ce{constructor(e){super(),Re(this,e,rb,nb,Ie,{word:0,alternates:1})}}const sn=[];function qd(s,e=re){let t;const n=new Set;function r(u){if(Ie(s,u)&&(s=u,t)){const l=!sn.length;for(const c of n)c[1](),sn.push(c,s);if(l){for(let c=0;c<sn.length;c+=2)sn[c][0](sn[c+1]);sn.length=0}}}function i(u){r(u(s))}function o(u,l=re){const c=[u,l];return n.add(c),n.size===1&&(t=e(r)||re),u(s),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:r,update:i,subscribe:o}}var Xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ib(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function ob(s){if(s.__esModule)return s;var e=s.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(s).forEach(function(n){var r=Object.getOwnPropertyDescriptor(s,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return s[n]}})}),t}var Ma={exports:{}};Ma.exports;(function(s){(function(e,t,n){function r(l){var c=this,h=u();c.next=function(){var f=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=f-(c.c=f|0)},c.c=1,c.s0=h(" "),c.s1=h(" "),c.s2=h(" "),c.s0-=h(l),c.s0<0&&(c.s0+=1),c.s1-=h(l),c.s1<0&&(c.s1+=1),c.s2-=h(l),c.s2<0&&(c.s2+=1),h=null}function i(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function o(l,c){var h=new r(l),f=c&&c.state,m=h.next;return m.int32=function(){return h.next()*4294967296|0},m.double=function(){return m()+(m()*2097152|0)*11102230246251565e-32},m.quick=m,f&&(typeof f=="object"&&i(f,h),m.state=function(){return i(h,{})}),m}function u(){var l=4022871197,c=function(h){h=String(h);for(var f=0;f<h.length;f++){l+=h.charCodeAt(f);var m=.02519603282416938*l;l=m>>>0,m-=l,m*=l,l=m>>>0,m-=l,l+=m*4294967296}return(l>>>0)*23283064365386963e-26};return c}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.alea=o})(Xs,s,!1)})(Ma);var ab=Ma.exports,Oa={exports:{}};Oa.exports;(function(s){(function(e,t,n){function r(u){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},u===(u|0)?l.x=u:c+=u;for(var h=0;h<c.length+64;h++)l.x^=c.charCodeAt(h)|0,l.next()}function i(u,l){return l.x=u.x,l.y=u.y,l.z=u.z,l.w=u.w,l}function o(u,l){var c=new r(u),h=l&&l.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var m=c.next()>>>11,g=(c.next()>>>0)/4294967296,_=(m+g)/(1<<21);while(_===0);return _},f.int32=c.next,f.quick=f,h&&(typeof h=="object"&&i(h,c),f.state=function(){return i(c,{})}),f}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.xor128=o})(Xs,s,!1)})(Oa);var lb=Oa.exports,xa={exports:{}};xa.exports;(function(s){(function(e,t,n){function r(u){var l=this,c="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,u===(u|0)?l.x=u:c+=u;for(var h=0;h<c.length+64;h++)l.x^=c.charCodeAt(h)|0,h==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(u,l){return l.x=u.x,l.y=u.y,l.z=u.z,l.w=u.w,l.v=u.v,l.d=u.d,l}function o(u,l){var c=new r(u),h=l&&l.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var m=c.next()>>>11,g=(c.next()>>>0)/4294967296,_=(m+g)/(1<<21);while(_===0);return _},f.int32=c.next,f.quick=f,h&&(typeof h=="object"&&i(h,c),f.state=function(){return i(c,{})}),f}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.xorwow=o})(Xs,s,!1)})(xa);var ub=xa.exports,ja={exports:{}};ja.exports;(function(s){(function(e,t,n){function r(u){var l=this;l.next=function(){var h=l.x,f=l.i,m,g;return m=h[f],m^=m>>>7,g=m^m<<24,m=h[f+1&7],g^=m^m>>>10,m=h[f+3&7],g^=m^m>>>3,m=h[f+4&7],g^=m^m<<7,m=h[f+7&7],m=m^m<<13,g^=m^m<<9,h[f]=g,l.i=f+1&7,g};function c(h,f){var m,g=[];if(f===(f|0))g[0]=f;else for(f=""+f,m=0;m<f.length;++m)g[m&7]=g[m&7]<<15^f.charCodeAt(m)+g[m+1&7]<<13;for(;g.length<8;)g.push(0);for(m=0;m<8&&g[m]===0;++m);for(m==8?g[7]=-1:g[m],h.x=g,h.i=0,m=256;m>0;--m)h.next()}c(l,u)}function i(u,l){return l.x=u.x.slice(),l.i=u.i,l}function o(u,l){u==null&&(u=+new Date);var c=new r(u),h=l&&l.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var m=c.next()>>>11,g=(c.next()>>>0)/4294967296,_=(m+g)/(1<<21);while(_===0);return _},f.int32=c.next,f.quick=f,h&&(h.x&&i(h,c),f.state=function(){return i(c,{})}),f}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.xorshift7=o})(Xs,s,!1)})(ja);var cb=ja.exports,La={exports:{}};La.exports;(function(s){(function(e,t,n){function r(u){var l=this;l.next=function(){var h=l.w,f=l.X,m=l.i,g,_;return l.w=h=h+1640531527|0,_=f[m+34&127],g=f[m=m+1&127],_^=_<<13,g^=g<<17,_^=_>>>15,g^=g>>>12,_=f[m]=_^g,l.i=m,_+(h^h>>>16)|0};function c(h,f){var m,g,_,E,A,R=[],P=128;for(f===(f|0)?(g=f,f=null):(f=f+"\0",g=0,P=Math.max(P,f.length)),_=0,E=-32;E<P;++E)f&&(g^=f.charCodeAt((E+32)%f.length)),E===0&&(A=g),g^=g<<10,g^=g>>>15,g^=g<<4,g^=g>>>13,E>=0&&(A=A+1640531527|0,m=R[E&127]^=g+A,_=m==0?_+1:0);for(_>=128&&(R[(f&&f.length||0)&127]=-1),_=127,E=4*128;E>0;--E)g=R[_+34&127],m=R[_=_+1&127],g^=g<<13,m^=m<<17,g^=g>>>15,m^=m>>>12,R[_]=g^m;h.w=A,h.X=R,h.i=_}c(l,u)}function i(u,l){return l.i=u.i,l.w=u.w,l.X=u.X.slice(),l}function o(u,l){u==null&&(u=+new Date);var c=new r(u),h=l&&l.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var m=c.next()>>>11,g=(c.next()>>>0)/4294967296,_=(m+g)/(1<<21);while(_===0);return _},f.int32=c.next,f.quick=f,h&&(h.X&&i(h,c),f.state=function(){return i(c,{})}),f}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.xor4096=o})(Xs,s,!1)})(La);var hb=La.exports,Fa={exports:{}};Fa.exports;(function(s){(function(e,t,n){function r(u){var l=this,c="";l.next=function(){var f=l.b,m=l.c,g=l.d,_=l.a;return f=f<<25^f>>>7^m,m=m-g|0,g=g<<24^g>>>8^_,_=_-f|0,l.b=f=f<<20^f>>>12^m,l.c=m=m-g|0,l.d=g<<16^m>>>16^_,l.a=_-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,u===Math.floor(u)?(l.a=u/4294967296|0,l.b=u|0):c+=u;for(var h=0;h<c.length+20;h++)l.b^=c.charCodeAt(h)|0,l.next()}function i(u,l){return l.a=u.a,l.b=u.b,l.c=u.c,l.d=u.d,l}function o(u,l){var c=new r(u),h=l&&l.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var m=c.next()>>>11,g=(c.next()>>>0)/4294967296,_=(m+g)/(1<<21);while(_===0);return _},f.int32=c.next,f.quick=f,h&&(typeof h=="object"&&i(h,c),f.state=function(){return i(c,{})}),f}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.tychei=o})(Xs,s,!1)})(Fa);var db=Fa.exports,Bd={exports:{}};const fb={},mb=Object.freeze(Object.defineProperty({__proto__:null,default:fb},Symbol.toStringTag,{value:"Module"})),pb=ob(mb);(function(s){(function(e,t,n){var r=256,i=6,o=52,u="random",l=n.pow(r,i),c=n.pow(2,o),h=c*2,f=r-1,m;function g(N,O,F){var v=[];O=O==!0?{entropy:!0}:O||{};var y=R(A(O.entropy?[N,D(t)]:N??P(),3),v),b=new _(v),S=function(){for(var k=b.g(i),C=l,I=0;k<c;)k=(k+I)*r,C*=r,I=b.g(1);for(;k>=h;)k/=2,C/=2,I>>>=1;return(k+I)/C};return S.int32=function(){return b.g(4)|0},S.quick=function(){return b.g(4)/4294967296},S.double=S,R(D(b.S),t),(O.pass||F||function(k,C,I,te){return te&&(te.S&&E(te,b),k.state=function(){return E(b,{})}),I?(n[u]=k,C):k})(S,y,"global"in O?O.global:this==n,O.state)}function _(N){var O,F=N.length,v=this,y=0,b=v.i=v.j=0,S=v.S=[];for(F||(N=[F++]);y<r;)S[y]=y++;for(y=0;y<r;y++)S[y]=S[b=f&b+N[y%F]+(O=S[y])],S[b]=O;(v.g=function(k){for(var C,I=0,te=v.i,fe=v.j,be=v.S;k--;)C=be[te=f&te+1],I=I*r+be[f&(be[te]=be[fe=f&fe+C])+(be[fe]=C)];return v.i=te,v.j=fe,I})(r)}function E(N,O){return O.i=N.i,O.j=N.j,O.S=N.S.slice(),O}function A(N,O){var F=[],v=typeof N,y;if(O&&v=="object")for(y in N)try{F.push(A(N[y],O-1))}catch{}return F.length?F:v=="string"?N:N+"\0"}function R(N,O){for(var F=N+"",v,y=0;y<F.length;)O[f&y]=f&(v^=O[f&y]*19)+F.charCodeAt(y++);return D(O)}function P(){try{var N;return m&&(N=m.randomBytes)?N=N(r):(N=new Uint8Array(r),(e.crypto||e.msCrypto).getRandomValues(N)),D(N)}catch{var O=e.navigator,F=O&&O.plugins;return[+new Date,e,F,e.screen,D(t)]}}function D(N){return String.fromCharCode.apply(0,N)}if(R(n.random(),t),s.exports){s.exports=g;try{m=pb}catch{}}else n["seed"+u]=g})(typeof self<"u"?self:Xs,[],Math)})(Bd);var gb=Bd.exports,yb=ab,_b=lb,bb=ub,wb=cb,vb=hb,kb=db,Ys=gb;Ys.alea=yb;Ys.xor128=_b;Ys.xorwow=bb;Ys.xorshift7=wb;Ys.xor4096=vb;Ys.tychei=kb;var Eb=Ys;const Tb=ib(Eb);var ut=(s=>(s[s.daily=0]="daily",s[s.hourly=1]="hourly",s[s.infinite=2]="infinite",s[s.session=3]="session",s))(ut||{}),Ze=(s=>(s[s.SECOND=1e3]="SECOND",s[s.MINUTE=6e4]="MINUTE",s[s.HOUR=36e5]="HOUR",s[s.DAY=864e5]="DAY",s))(Ze||{});const wo={words:["cigar","rebut","sissy","humph","awake","blush","focal","evade","naval","serve","heath","dwarf","model","karma","stink","grade","quiet","bench","abate","feign","major","death","fresh","crust","stool","colon","abase","marry","react","batty","pride","floss","helix","croak","staff","paper","unfed","whelp","trawl","outdo","adobe","crazy","sower","repay","digit","crate","cluck","spike","mimic","pound","maxim","linen","unmet","flesh","booby","forth","first","stand","belly","ivory","seedy","print","yearn","drain","bribe","stout","panel","crass","flume","offal","agree","error","swirl","argue","bleed","delta","flick","totem","wooer","front","shrub","parry","biome","lapel","start","greet","goner","golem","lusty","loopy","round","audit","lying","gamma","labor","islet","civic","forge","corny","moult","basic","salad","agate","spicy","spray","essay","fjord","spend","kebab","guild","aback","motor","alone","hatch","hyper","thumb","dowry","ought","belch","dutch","pilot","tweed","comet","jaunt","enema","steed","abyss","growl","fling","dozen","boozy","erode","world","gouge","click","briar","great","altar","pulpy","blurt","coast","duchy","groin","fixer","group","rogue","badly","smart","pithy","gaudy","chill","heron","vodka","finer","surer","radio","rouge","perch","retch","wrote","clock","tilde","store","prove","bring","solve","cheat","grime","exult","usher","epoch","triad","break","rhino","viral","conic","masse","sonic","vital","trace","using","peach","champ","baton","brake","pluck","craze","gripe","weary","picky","acute","ferry","aside","tapir","troll","unify","rebus","boost","truss","siege","tiger","banal","slump","crank","gorge","query","drink","favor","abbey","tangy","panic","solar","shire","proxy","point","robot","prick","wince","crimp","knoll","sugar","whack","mount","perky","could","wrung","light","those","moist","shard","pleat","aloft","skill","elder","frame","humor","pause","ulcer","ultra","robin","cynic","agora","aroma","caulk","shake","pupal","dodge","swill","tacit","other","thorn","trove","bloke","vivid","spill","chant","choke","rupee","nasty","mourn","ahead","brine","cloth","hoard","sweet","month","lapse","watch","today","focus","smelt","tease","cater","movie","lynch","saute","allow","renew","their","slosh","purge","chest","depot","epoxy","nymph","found","shall","harry","stove","lowly","snout","trope","fewer","shawl","natal","fibre","comma","foray","scare","stair","black","squad","royal","chunk","mince","slave","shame","cheek","ample","flair","foyer","cargo","oxide","plant","olive","inert","askew","heist","shown","zesty","hasty","trash","fella","larva","forgo","story","hairy","train","homer","badge","midst","canny","fetus","butch","farce","slung","tipsy","metal","yield","delve","being","scour","glass","gamer","scrap","money","hinge","album","vouch","asset","tiara","crept","bayou","atoll","manor","creak","showy","phase","froth","depth","gloom","flood","trait","girth","piety","payer","goose","float","donor","atone","primo","apron","blown","cacao","loser","input","gloat","awful","brink","smite","beady","rusty","retro","droll","gawky","hutch","pinto","gaily","egret","lilac","sever","field","fluff","hydro","flack","agape","wench","voice","stead","stalk","berth","madam","night","bland","liver","wedge","augur","roomy","wacky","flock","angry","bobby","trite","aphid","tryst","midge","power","elope","cinch","motto","stomp","upset","bluff","cramp","quart","coyly","youth","rhyme","buggy","alien","smear","unfit","patty","cling","glean","label","hunky","khaki","poker","gruel","twice","twang","shrug","treat","unlit","waste","merit","woven","octal","needy","clown","widow","irony","ruder","gauze","chief","onset","prize","fungi","charm","gully","inter","whoop","taunt","leery","class","theme","lofty","tibia","booze","alpha","thyme","eclat","doubt","parer","chute","stick","trice","alike","sooth","recap","saint","liege","glory","grate","admit","brisk","soggy","usurp","scald","scorn","leave","twine","sting","bough","marsh","sloth","dandy","vigor","howdy","enjoy","valid","ionic","equal","unset","floor","catch","spade","stein","exist","quirk","denim","grove","spiel","mummy","fault","foggy","flout","carry","sneak","libel","waltz","aptly","piney","inept","aloud","photo","dream","stale","vomit","ombre","fanny","unite","snarl","baker","there","glyph","pooch","hippy","spell","folly","louse","gulch","vault","godly","threw","fleet","grave","inane","shock","crave","spite","valve","skimp","claim","rainy","musty","pique","daddy","quasi","arise","aging","valet","opium","avert","stuck","recut","mulch","genre","plume","rifle","count","incur","total","wrest","mocha","deter","study","lover","safer","rivet","funny","smoke","mound","undue","sedan","pagan","swine","guile","gusty","equip","tough","canoe","chaos","covet","human","udder","lunch","blast","stray","manga","melee","lefty","quick","paste","given","octet","risen","groan","leaky","grind","carve","loose","sadly","spilt","apple","slack","honey","final","sheen","eerie","minty","slick","derby","wharf","spelt","coach","erupt","singe","price","spawn","fairy","jiffy","filmy","stack","chose","sleep","ardor","nanny","niece","woozy","handy","grace","ditto","stank","cream","usual","diode","valor","angle","ninja","muddy","chase","reply","prone","spoil","heart","shade","diner","arson","onion","sleet","dowel","couch","palsy","bowel","smile","evoke","creek","lance","eagle","idiot","siren","built","embed","award","dross","annul","goody","frown","patio","laden","humid","elite","lymph","edify","might","reset","visit","gusto","purse","vapor","crock","write","sunny","loath","chaff","slide","queer","venom","stamp","sorry","still","acorn","aping","pushy","tamer","hater","mania","awoke","brawn","swift","exile","birch","lucky","freer","risky","ghost","plier","lunar","winch","snare","nurse","house","borax","nicer","lurch","exalt","about","savvy","toxin","tunic","pried","inlay","chump","lanky","cress","eater","elude","cycle","kitty","boule","moron","tenet","place","lobby","plush","vigil","index","blink","clung","qualm","croup","clink","juicy","stage","decay","nerve","flier","shaft","crook","clean","china","ridge","vowel","gnome","snuck","icing","spiny","rigor","snail","flown","rabid","prose","thank","poppy","budge","fiber","moldy","dowdy","kneel","track","caddy","quell","dumpy","paler","swore","rebar","scuba","splat","flyer","horny","mason","doing","ozone","amply","molar","ovary","beset","queue","cliff","magic","truce","sport","fritz","edict","twirl","verse","llama","eaten","range","whisk","hovel","rehab","macaw","sigma","spout","verve","sushi","dying","fetid","brain","buddy","thump","scion","candy","chord","basin","march","crowd","arbor","gayly","musky","stain","dally","bless","bravo","stung","title","ruler","kiosk","blond","ennui","layer","fluid","tatty","score","cutie","zebra","barge","matey","bluer","aider","shook","river","privy","betel","frisk","bongo","begun","azure","weave","genie","sound","glove","braid","scope","wryly","rover","assay","ocean","bloom","irate","later","woken","silky","wreck","dwelt","slate","smack","solid","amaze","hazel","wrist","jolly","globe","flint","rouse","civil","vista","relax","cover","alive","beech","jetty","bliss","vocal","often","dolly","eight","joker","since","event","ensue","shunt","diver","poser","worst","sweep","alley","creed","anime","leafy","bosom","dunce","stare","pudgy","waive","choir","stood","spoke","outgo","delay","bilge","ideal","clasp","seize","hotly","laugh","sieve","block","meant","grape","noose","hardy","shied","drawl","daisy","putty","strut","burnt","tulip","crick","idyll","vixen","furor","geeky","cough","naive","shoal","stork","bathe","aunty","check","prime","brass","outer","furry","razor","elect","evict","imply","demur","quota","haven","cavil","swear","crump","dough","gavel","wagon","salon","nudge","harem","pitch","sworn","pupil","excel","stony","cabin","unzip","queen","trout","polyp","earth","storm","until","taper","enter","child","adopt","minor","fatty","husky","brave","filet","slime","glint","tread","steal","regal","guest","every","murky","share","spore","hoist","buxom","inner","otter","dimly","level","sumac","donut","stilt","arena","sheet","scrub","fancy","slimy","pearl","silly","porch","dingo","sepia","amble","shady","bread","friar","reign","dairy","quill","cross","brood","tuber","shear","posit","blank","villa","shank","piggy","freak","which","among","fecal","shell","would","algae","large","rabbi","agony","amuse","bushy","copse","swoon","knife","pouch","ascot","plane","crown","urban","snide","relay","abide","viola","rajah","straw","dilly","crash","amass","third","trick","tutor","woody","blurb","grief","disco","where","sassy","beach","sauna","comic","clued","creep","caste","graze","snuff","frock","gonad","drunk","prong","lurid","steel","halve","buyer","vinyl","utile","smell","adage","worry","tasty","local","trade","finch","ashen","modal","gaunt","clove","enact","adorn","roast","speck","sheik","missy","grunt","snoop","party","touch","mafia","emcee","array","south","vapid","jelly","skulk","angst","tubal","lower","crest","sweat","cyber","adore","tardy","swami","notch","groom","roach","hitch","young","align","ready","frond","strap","puree","realm","venue","swarm","offer","seven","dryer","diary","dryly","drank","acrid","heady","theta","junto","pixie","quoth","bonus","shalt","penne","amend","datum","build","piano","shelf","lodge","suing","rearm","coral","ramen","worth","psalm","infer","overt","mayor","ovoid","glide","usage","poise","randy","chuck","prank","fishy","tooth","ether","drove","idler","swath","stint","while","begat","apply","slang","tarot","radar","credo","aware","canon","shift","timer","bylaw","serum","three","steak","iliac","shirk","blunt","puppy","penal","joist","bunny","shape","beget","wheel","adept","stunt","stole","topaz","chore","fluke","afoot","bloat","bully","dense","caper","sneer","boxer","jumbo","lunge","space","avail","short","slurp","loyal","flirt","pizza","conch","tempo","droop","plate","bible","plunk","afoul","savoy","steep","agile","stake","dwell","knave","beard","arose","motif","smash","broil","glare","shove","baggy","mammy","swamp","along","rugby","wager","quack","squat","snaky","debit","mange","skate","ninth","joust","tramp","spurn","medal","micro","rebel","flank","learn","nadir","maple","comfy","remit","gruff","ester","least","mogul","fetch","cause","oaken","aglow","meaty","gaffe","shyly","racer","prowl","thief","stern","poesy","rocky","tweet","waist","spire","grope","havoc","patsy","truly","forty","deity","uncle","swish","giver","preen","bevel","lemur","draft","slope","annoy","lingo","bleak","ditty","curly","cedar","dirge","grown","horde","drool","shuck","crypt","cumin","stock","gravy","locus","wider","breed","quite","chafe","cache","blimp","deign","fiend","logic","cheap","elide","rigid","false","renal","pence","rowdy","shoot","blaze","envoy","posse","brief","never","abort","mouse","mucky","sulky","fiery","media","trunk","yeast","clear","skunk","scalp","bitty","cider","koala","duvet","segue","creme","super","grill","after","owner","ember","reach","nobly","empty","speed","gipsy","recur","smock","dread","merge","burst","kappa","amity","shaky","hover","carol","snort","synod","faint","haunt","flour","chair","detox","shrew","tense","plied","quark","burly","novel","waxen","stoic","jerky","blitz","beefy","lyric","hussy","towel","quilt","below","bingo","wispy","brash","scone","toast","easel","saucy","value","spice","honor","route","sharp","bawdy","radii","skull","phony","issue","lager","swell","urine","gassy","trial","flora","upper","latch","wight","brick","retry","holly","decal","grass","shack","dogma","mover","defer","sober","optic","crier","vying","nomad","flute","hippo","shark","drier","obese","bugle","tawny","chalk","feast","ruddy","pedal","scarf","cruel","bleat","tidal","slush","semen","windy","dusty","sally","igloo","nerdy","jewel","shone","whale","hymen","abuse","fugue","elbow","crumb","pansy","welsh","syrup","terse","suave","gamut","swung","drake","freed","afire","shirt","grout","oddly","tithe","plaid","dummy","broom","blind","torch","enemy","again","tying","pesky","alter","gazer","noble","ethos","bride","extol","decor","hobby","beast","idiom","utter","these","sixth","alarm","erase","elegy","spunk","piper","scaly","scold","hefty","chick","sooty","canal","whiny","slash","quake","joint","swept","prude","heavy","wield","femme","lasso","maize","shale","screw","spree","smoky","whiff","scent","glade","spent","prism","stoke","riper","orbit","cocoa","guilt","humus","shush","table","smirk","wrong","noisy","alert","shiny","elate","resin","whole","hunch","pixel","polar","hotel","sword","cleat","mango","rumba","puffy","filly","billy","leash","clout","dance","ovate","facet","chili","paint","liner","curio","salty","audio","snake","fable","cloak","navel","spurt","pesto","balmy","flash","unwed","early","churn","weedy","stump","lease","witty","wimpy","spoof","saner","blend","salsa","thick","warty","manic","blare","squib","spoon","probe","crepe","knack","force","debut","order","haste","teeth","agent","widen","icily","slice","ingot","clash","juror","blood","abode","throw","unity","pivot","slept","troop","spare","sewer","parse","morph","cacti","tacky","spool","demon","moody","annex","begin","fuzzy","patch","water","lumpy","admin","omega","limit","tabby","macho","aisle","skiff","basis","plank","verge","botch","crawl","lousy","slain","cubic","raise","wrack","guide","foist","cameo","under","actor","revue","fraud","harpy","scoop","climb","refer","olden","clerk","debar","tally","ethic","cairn","tulle","ghoul","hilly","crude","apart","scale","older","plain","sperm","briny","abbot","rerun","quest","crisp","bound","befit","drawn","suite","itchy","cheer","bagel","guess","broad","axiom","chard","caput","leant","harsh","curse","proud","swing","opine","taste","lupus","gumbo","miner","green","chasm","lipid","topic","armor","brush","crane","mural","abled","habit","bossy","maker","dusky","dizzy","lithe","brook","jazzy","fifty","sense","giant","surly","legal","fatal","flunk","began","prune","small","slant","scoff","torus","ninny","covey","viper","taken","moral","vogue","owing","token","entry","booth","voter","chide","elfin","ebony","neigh","minim","melon","kneed","decoy","voila","ankle","arrow","mushy","tribe","cease","eager","birth","graph","odder","terra","weird","tried","clack","color","rough","weigh","uncut","ladle","strip","craft","minus","dicey","titan","lucid","vicar","dress","ditch","gypsy","pasta","taffy","flame","swoop","aloof","sight","broke","teary","chart","sixty","wordy","sheer","leper","nosey","bulge","savor","clamp","funky","foamy","toxic","brand","plumb","dingy","butte","drill","tripe","bicep","tenor","krill","worse","drama","hyena","think","ratio","cobra","basil","scrum","bused","phone","court","camel","proof","heard","angel","petal","pouty","throb","maybe","fetal","sprig","spine","shout","cadet","macro","dodgy","satyr","rarer","binge","trend","nutty","leapt","amiss","split","myrrh","width","sonar","tower","baron","fever","waver","spark","belie","sloop","expel","smote","baler","above","north","wafer","scant","frill","awash","snack","scowl","frail","drift","limbo","fence","motel","ounce","wreak","revel","talon","prior","knelt","cello","flake","debug","anode","crime","salve","scout","imbue","pinky","stave","vague","chock","fight","video","stone","teach","cleft","frost","prawn","booty","twist","apnea","stiff","plaza","ledge","tweak","board","grant","medic","bacon","cable","brawl","slunk","raspy","forum","drone","women","mucus","boast","toddy","coven","tumor","truer","wrath","stall","steam","axial","purer","daily","trail","niche","mealy","juice","nylon","plump","merry","flail","papal","wheat","berry","cower","erect","brute","leggy","snipe","sinew","skier","penny","jumpy","rally","umbra","scary","modem","gross","avian","greed","satin","tonic","parka","sniff","livid","stark","trump","giddy","reuse","taboo","avoid","quote","devil","liken","gloss","gayer","beret","noise","gland","dealt","sling","rumor","opera","thigh","tonga","flare","wound","white","bulky","etude","horse","circa","paddy","inbox","fizzy","grain","exert","surge","gleam","belle","salvo","crush","fruit","sappy","taker","tract","ovine","spiky","frank","reedy","filth","spasm","heave","mambo","right","clank","trust","lumen","borne","spook","sauce","amber","lathe","carat","corer","dirty","slyly","affix","alloy","taint","sheep","kinky","wooly","mauve","flung","yacht","fried","quail","brunt","grimy","curvy","cagey","rinse","deuce","state","grasp","milky","bison","graft","sandy","baste","flask","hedge","girly","swash","boney","coupe","endow","abhor","welch","blade","tight","geese","miser","mirth","cloud","cabal","leech","close","tenth","pecan","droit","grail","clone","guise","ralph","tango","biddy","smith","mower","payee","serif","drape","fifth","spank","glaze","allot","truck","kayak","virus","testy","tepee","fully","zonal","metro","curry","grand","banjo","axion","bezel","occur","chain","nasal","gooey","filer","brace","allay","pubic","raven","plead","gnash","flaky","munch","dully","eking","thing","slink","hurry","theft","shorn","pygmy","ranch","wring","lemon","shore","mamma","froze","newer","style","moose","antic","drown","vegan","chess","guppy","union","lever","lorry","image","cabby","druid","exact","truth","dopey","spear","cried","chime","crony","stunk","timid","batch","gauge","rotor","crack","curve","latte","witch","bunch","repel","anvil","soapy","meter","broth","madly","dried","scene","known","magma","roost","woman","thong","punch","pasty","downy","knead","whirl","rapid","clang","anger","drive","goofy","email","music","stuff","bleep","rider","mecca","folio","setup","verso","quash","fauna","gummy","happy","newly","fussy","relic","guava","ratty","fudge","femur","chirp","forte","alibi","whine","petty","golly","plait","fleck","felon","gourd","brown","thrum","ficus","stash","decry","wiser","junta","visor","daunt","scree","impel","await","press","whose","turbo","stoop","speak","mangy","eying","inlet","crone","pulse","mossy","staid","hence","pinch","teddy","sully","snore","ripen","snowy","attic","going","leach","mouth","hound","clump","tonal","bigot","peril","piece","blame","haute","spied","undid","intro","basal","shine","gecko","rodeo","guard","steer","loamy","scamp","scram","manly","hello","vaunt","organ","feral","knock","extra","condo","adapt","willy","polka","rayon","skirt","faith","torso","match","mercy","tepid","sleek","riser","twixt","peace","flush","catty","login","eject","roger","rival","untie","refit","aorta","adult","judge","rower","artsy","rural","shave"],valid:["aahed","aalii","aargh","aarti","abaca","abaci","abacs","abaft","abaka","abamp","aband","abash","abask","abaya","abbas","abbed","abbes","abcee","abeam","abear","abele","abers","abets","abies","abler","ables","ablet","ablow","abmho","abohm","aboil","aboma","aboon","abord","abore","abram","abray","abrim","abrin","abris","absey","absit","abuna","abune","abuts","abuzz","abyes","abysm","acais","acari","accas","accoy","acerb","acers","aceta","achar","ached","aches","achoo","acids","acidy","acing","acini","ackee","acker","acmes","acmic","acned","acnes","acock","acold","acred","acres","acros","acted","actin","acton","acyls","adaws","adays","adbot","addax","added","adder","addio","addle","adeem","adhan","adieu","adios","adits","adman","admen","admix","adobo","adown","adoze","adrad","adred","adsum","aduki","adunc","adust","advew","adyta","adzed","adzes","aecia","aedes","aegis","aeons","aerie","aeros","aesir","afald","afara","afars","afear","aflaj","afore","afrit","afros","agama","agami","agars","agast","agave","agaze","agene","agers","agger","aggie","aggri","aggro","aggry","aghas","agila","agios","agism","agist","agita","aglee","aglet","agley","agloo","aglus","agmas","agoge","agone","agons","agood","agria","agrin","agros","agued","agues","aguna","aguti","aheap","ahent","ahigh","ahind","ahing","ahint","ahold","ahull","ahuru","aidas","aided","aides","aidoi","aidos","aiery","aigas","aight","ailed","aimed","aimer","ainee","ainga","aioli","aired","airer","airns","airth","airts","aitch","aitus","aiver","aiyee","aizle","ajies","ajiva","ajuga","ajwan","akees","akela","akene","aking","akita","akkas","alaap","alack","alamo","aland","alane","alang","alans","alant","alapa","alaps","alary","alate","alays","albas","albee","alcid","alcos","aldea","alder","aldol","aleck","alecs","alefs","aleft","aleph","alews","aleye","alfas","algal","algas","algid","algin","algor","algum","alias","alifs","aline","alist","aliya","alkie","alkos","alkyd","alkyl","allee","allel","allis","allod","allyl","almah","almas","almeh","almes","almud","almug","alods","aloed","aloes","aloha","aloin","aloos","alowe","altho","altos","alula","alums","alure","alvar","alway","amahs","amain","amate","amaut","amban","ambit","ambos","ambry","ameba","ameer","amene","amens","ament","amias","amice","amici","amide","amido","amids","amies","amiga","amigo","amine","amino","amins","amirs","amlas","amman","ammon","ammos","amnia","amnic","amnio","amoks","amole","amort","amour","amove","amowt","amped","ampul","amrit","amuck","amyls","anana","anata","ancho","ancle","ancon","andro","anear","anele","anent","angas","anglo","anigh","anile","anils","anima","animi","anion","anise","anker","ankhs","ankus","anlas","annal","annas","annat","anoas","anole","anomy","ansae","antae","antar","antas","anted","antes","antis","antra","antre","antsy","anura","anyon","apace","apage","apaid","apayd","apays","apeak","apeek","apers","apert","apery","apgar","aphis","apian","apiol","apish","apism","apode","apods","apoop","aport","appal","appay","appel","appro","appui","appuy","apres","apses","apsis","apsos","apted","apter","aquae","aquas","araba","araks","arame","arars","arbas","arced","archi","arcos","arcus","ardeb","ardri","aread","areae","areal","arear","areas","areca","aredd","arede","arefy","areic","arene","arepa","arere","arete","arets","arett","argal","argan","argil","argle","argol","argon","argot","argus","arhat","arias","ariel","ariki","arils","ariot","arish","arked","arled","arles","armed","armer","armet","armil","arnas","arnut","aroba","aroha","aroid","arpas","arpen","arrah","arras","arret","arris","arroz","arsed","arses","arsey","arsis","artal","artel","artic","artis","aruhe","arums","arval","arvee","arvos","aryls","asana","ascon","ascus","asdic","ashed","ashes","ashet","asked","asker","askoi","askos","aspen","asper","aspic","aspie","aspis","aspro","assai","assam","asses","assez","assot","aster","astir","astun","asura","asway","aswim","asyla","ataps","ataxy","atigi","atilt","atimy","atlas","atman","atmas","atmos","atocs","atoke","atoks","atoms","atomy","atony","atopy","atria","atrip","attap","attar","atuas","audad","auger","aught","aulas","aulic","auloi","aulos","aumil","aunes","aunts","aurae","aural","aurar","auras","aurei","aures","auric","auris","aurum","autos","auxin","avale","avant","avast","avels","avens","avers","avgas","avine","avion","avise","aviso","avize","avows","avyze","awarn","awato","awave","aways","awdls","aweel","aweto","awing","awmry","awned","awner","awols","awork","axels","axile","axils","axing","axite","axled","axles","axman","axmen","axoid","axone","axons","ayahs","ayaya","ayelp","aygre","ayins","ayont","ayres","ayrie","azans","azide","azido","azine","azlon","azoic","azole","azons","azote","azoth","azuki","azurn","azury","azygy","azyme","azyms","baaed","baals","babas","babel","babes","babka","baboo","babul","babus","bacca","bacco","baccy","bacha","bachs","backs","baddy","baels","baffs","baffy","bafts","baghs","bagie","bahts","bahus","bahut","bails","bairn","baisa","baith","baits","baiza","baize","bajan","bajra","bajri","bajus","baked","baken","bakes","bakra","balas","balds","baldy","baled","bales","balks","balky","balls","bally","balms","baloo","balsa","balti","balun","balus","bambi","banak","banco","bancs","banda","bandh","bands","bandy","baned","banes","bangs","bania","banks","banns","bants","bantu","banty","banya","bapus","barbe","barbs","barby","barca","barde","bardo","bards","bardy","bared","barer","bares","barfi","barfs","baric","barks","barky","barms","barmy","barns","barny","barps","barra","barre","barro","barry","barye","basan","based","basen","baser","bases","basho","basij","basks","bason","basse","bassi","basso","bassy","basta","basti","basto","basts","bated","bates","baths","batik","batta","batts","battu","bauds","bauks","baulk","baurs","bavin","bawds","bawks","bawls","bawns","bawrs","bawty","bayed","bayer","bayes","bayle","bayts","bazar","bazoo","beads","beaks","beaky","beals","beams","beamy","beano","beans","beany","beare","bears","beath","beats","beaty","beaus","beaut","beaux","bebop","becap","becke","becks","bedad","bedel","bedes","bedew","bedim","bedye","beedi","beefs","beeps","beers","beery","beets","befog","begad","begar","begem","begot","begum","beige","beigy","beins","bekah","belah","belar","belay","belee","belga","bells","belon","belts","bemad","bemas","bemix","bemud","bends","bendy","benes","benet","benga","benis","benne","benni","benny","bento","bents","benty","bepat","beray","beres","bergs","berko","berks","berme","berms","berob","beryl","besat","besaw","besee","beses","besit","besom","besot","besti","bests","betas","beted","betes","beths","betid","beton","betta","betty","bever","bevor","bevue","bevvy","bewet","bewig","bezes","bezil","bezzy","bhais","bhaji","bhang","bhats","bhels","bhoot","bhuna","bhuts","biach","biali","bialy","bibbs","bibes","biccy","bices","bided","bider","bides","bidet","bidis","bidon","bield","biers","biffo","biffs","biffy","bifid","bigae","biggs","biggy","bigha","bight","bigly","bigos","bijou","biked","biker","bikes","bikie","bilbo","bilby","biled","biles","bilgy","bilks","bills","bimah","bimas","bimbo","binal","bindi","binds","biner","bines","bings","bingy","binit","binks","bints","biogs","biont","biota","biped","bipod","birds","birks","birle","birls","biros","birrs","birse","birsy","bises","bisks","bisom","bitch","biter","bites","bitos","bitou","bitsy","bitte","bitts","bivia","bivvy","bizes","bizzo","bizzy","blabs","blads","blady","blaer","blaes","blaff","blags","blahs","blain","blams","blart","blase","blash","blate","blats","blatt","blaud","blawn","blaws","blays","blear","blebs","blech","blees","blent","blert","blest","blets","bleys","blimy","bling","blini","blins","bliny","blips","blist","blite","blits","blive","blobs","blocs","blogs","blook","bloop","blore","blots","blows","blowy","blubs","blude","bluds","bludy","blued","blues","bluet","bluey","bluid","blume","blunk","blurs","blype","boabs","boaks","boars","boart","boats","bobac","bobak","bobas","bobol","bobos","bocca","bocce","bocci","boche","bocks","boded","bodes","bodge","bodhi","bodle","boeps","boets","boeuf","boffo","boffs","bogan","bogey","boggy","bogie","bogle","bogue","bogus","bohea","bohos","boils","boing","boink","boite","boked","bokeh","bokes","bokos","bolar","bolas","bolds","boles","bolix","bolls","bolos","bolts","bolus","bomas","bombe","bombo","bombs","bonce","bonds","boned","boner","bones","bongs","bonie","bonks","bonne","bonny","bonza","bonze","booai","booay","boobs","boody","booed","boofy","boogy","boohs","books","booky","bools","booms","boomy","boong","boons","boord","boors","boose","boots","boppy","borak","boral","boras","borde","bords","bored","boree","borel","borer","bores","borgo","boric","borks","borms","borna","boron","borts","borty","bortz","bosie","bosks","bosky","boson","bosun","botas","botel","botes","bothy","botte","botts","botty","bouge","bouks","boult","bouns","bourd","bourg","bourn","bouse","bousy","bouts","bovid","bowat","bowed","bower","bowes","bowet","bowie","bowls","bowne","bowrs","bowse","boxed","boxen","boxes","boxla","boxty","boyar","boyau","boyed","boyfs","boygs","boyla","boyos","boysy","bozos","braai","brach","brack","bract","brads","braes","brags","brail","braks","braky","brame","brane","brank","brans","brant","brast","brats","brava","bravi","braws","braxy","brays","braza","braze","bream","brede","breds","breem","breer","brees","breid","breis","breme","brens","brent","brere","brers","breve","brews","breys","brier","bries","brigs","briki","briks","brill","brims","brins","brios","brise","briss","brith","brits","britt","brize","broch","brock","brods","brogh","brogs","brome","bromo","bronc","brond","brool","broos","brose","brosy","brows","brugh","bruin","bruit","brule","brume","brung","brusk","brust","bruts","buats","buaze","bubal","bubas","bubba","bubbe","bubby","bubus","buchu","bucko","bucks","bucku","budas","budis","budos","buffa","buffe","buffi","buffo","buffs","buffy","bufos","bufty","buhls","buhrs","buiks","buist","bukes","bulbs","bulgy","bulks","bulla","bulls","bulse","bumbo","bumfs","bumph","bumps","bumpy","bunas","bunce","bunco","bunde","bundh","bunds","bundt","bundu","bundy","bungs","bungy","bunia","bunje","bunjy","bunko","bunks","bunns","bunts","bunty","bunya","buoys","buppy","buran","buras","burbs","burds","buret","burfi","burgh","burgs","burin","burka","burke","burks","burls","burns","buroo","burps","burqa","burro","burrs","burry","bursa","burse","busby","buses","busks","busky","bussu","busti","busts","busty","buteo","butes","butle","butoh","butts","butty","butut","butyl","buzzy","bwana","bwazi","byded","bydes","byked","bykes","byres","byrls","byssi","bytes","byway","caaed","cabas","caber","cabob","caboc","cabre","cacas","cacks","cacky","cadee","cades","cadge","cadgy","cadie","cadis","cadre","caeca","caese","cafes","caffs","caged","cager","cages","cagot","cahow","caids","cains","caird","cajon","cajun","caked","cakes","cakey","calfs","calid","calif","calix","calks","calla","calls","calms","calmy","calos","calpa","calps","calve","calyx","caman","camas","cames","camis","camos","campi","campo","camps","campy","camus","caned","caneh","caner","canes","cangs","canid","canna","canns","canso","canst","canto","cants","canty","capas","caped","capes","capex","caphs","capiz","caple","capon","capos","capot","capri","capul","carap","carbo","carbs","carby","cardi","cards","cardy","cared","carer","cares","caret","carex","carks","carle","carls","carns","carny","carob","carom","caron","carpi","carps","carrs","carse","carta","carte","carts","carvy","casas","casco","cased","cases","casks","casky","casts","casus","cates","cauda","cauks","cauld","cauls","caums","caups","cauri","causa","cavas","caved","cavel","caver","caves","cavie","cawed","cawks","caxon","ceaze","cebid","cecal","cecum","ceded","ceder","cedes","cedis","ceiba","ceili","ceils","celeb","cella","celli","cells","celom","celts","cense","cento","cents","centu","ceorl","cepes","cerci","cered","ceres","cerge","ceria","ceric","cerne","ceroc","ceros","certs","certy","cesse","cesta","cesti","cetes","cetyl","cezve","chace","chack","chaco","chado","chads","chaft","chais","chals","chams","chana","chang","chank","chape","chaps","chapt","chara","chare","chark","charr","chars","chary","chats","chave","chavs","chawk","chaws","chaya","chays","cheep","chefs","cheka","chela","chelp","chemo","chems","chere","chert","cheth","chevy","chews","chewy","chiao","chias","chibs","chica","chich","chico","chics","chiel","chiks","chile","chimb","chimo","chimp","chine","ching","chink","chino","chins","chips","chirk","chirl","chirm","chiro","chirr","chirt","chiru","chits","chive","chivs","chivy","chizz","choco","chocs","chode","chogs","choil","choko","choky","chola","choli","cholo","chomp","chons","choof","chook","choom","choon","chops","chota","chott","chout","choux","chowk","chows","chubs","chufa","chuff","chugs","chums","churl","churr","chuse","chuts","chyle","chyme","chynd","cibol","cided","cides","ciels","ciggy","cilia","cills","cimar","cimex","cinct","cines","cinqs","cions","cippi","circs","cires","cirls","cirri","cisco","cissy","cists","cital","cited","citer","cites","cives","civet","civie","civvy","clach","clade","clads","claes","clags","clame","clams","clans","claps","clapt","claro","clart","clary","clast","clats","claut","clave","clavi","claws","clays","cleck","cleek","cleep","clefs","clegs","cleik","clems","clepe","clept","cleve","clews","clied","clies","clift","clime","cline","clint","clipe","clips","clipt","clits","cloam","clods","cloff","clogs","cloke","clomb","clomp","clonk","clons","cloop","cloot","clops","clote","clots","clour","clous","clows","cloye","cloys","cloze","clubs","clues","cluey","clunk","clype","cnida","coact","coady","coala","coals","coaly","coapt","coarb","coate","coati","coats","cobbs","cobby","cobia","coble","cobza","cocas","cocci","cocco","cocks","cocky","cocos","codas","codec","coded","coden","coder","codes","codex","codon","coeds","coffs","cogie","cogon","cogue","cohab","cohen","cohoe","cohog","cohos","coifs","coign","coils","coins","coirs","coits","coked","cokes","colas","colby","colds","coled","coles","coley","colic","colin","colls","colly","colog","colts","colza","comae","comal","comas","combe","combi","combo","combs","comby","comer","comes","comix","commo","comms","commy","compo","comps","compt","comte","comus","coned","cones","coney","confs","conga","conge","congo","conia","conin","conks","conky","conne","conns","conte","conto","conus","convo","cooch","cooed","cooee","cooer","cooey","coofs","cooks","cooky","cools","cooly","coomb","cooms","coomy","coons","coops","coopt","coost","coots","cooze","copal","copay","coped","copen","coper","copes","coppy","copra","copsy","coqui","coram","corbe","corby","cords","cored","cores","corey","corgi","coria","corks","corky","corms","corni","corno","corns","cornu","corps","corse","corso","cosec","cosed","coses","coset","cosey","cosie","costa","coste","costs","cotan","coted","cotes","coths","cotta","cotts","coude","coups","courb","courd","coure","cours","couta","couth","coved","coves","covin","cowal","cowan","cowed","cowks","cowls","cowps","cowry","coxae","coxal","coxed","coxes","coxib","coyau","coyed","coyer","coypu","cozed","cozen","cozes","cozey","cozie","craal","crabs","crags","craic","craig","crake","crame","crams","crans","crape","craps","crapy","crare","craws","crays","creds","creel","crees","crems","crena","creps","crepy","crewe","crews","crias","cribs","cries","crims","crine","crios","cripe","crips","crise","crith","crits","croci","crocs","croft","crogs","cromb","crome","cronk","crons","crool","croon","crops","crore","crost","crout","crows","croze","cruck","crudo","cruds","crudy","crues","cruet","cruft","crunk","cruor","crura","cruse","crusy","cruve","crwth","cryer","ctene","cubby","cubeb","cubed","cuber","cubes","cubit","cuddy","cuffo","cuffs","cuifs","cuing","cuish","cuits","cukes","culch","culet","culex","culls","cully","culms","culpa","culti","cults","culty","cumec","cundy","cunei","cunit","cunts","cupel","cupid","cuppa","cuppy","curat","curbs","curch","curds","curdy","cured","curer","cures","curet","curfs","curia","curie","curli","curls","curns","curny","currs","cursi","curst","cusec","cushy","cusks","cusps","cuspy","cusso","cusum","cutch","cuter","cutes","cutey","cutin","cutis","cutto","cutty","cutup","cuvee","cuzes","cwtch","cyano","cyans","cycad","cycas","cyclo","cyder","cylix","cymae","cymar","cymas","cymes","cymol","cysts","cytes","cyton","czars","daals","dabba","daces","dacha","dacks","dadah","dadas","dados","daffs","daffy","dagga","daggy","dagos","dahls","daiko","daine","daint","daker","daled","dales","dalis","dalle","dalts","daman","damar","dames","damme","damns","damps","dampy","dancy","dangs","danio","danks","danny","dants","daraf","darbs","darcy","dared","darer","dares","darga","dargs","daric","daris","darks","darky","darns","darre","darts","darzi","dashi","dashy","datal","dated","dater","dates","datos","datto","daube","daubs","dauby","dauds","dault","daurs","dauts","daven","davit","dawah","dawds","dawed","dawen","dawks","dawns","dawts","dayan","daych","daynt","dazed","dazer","dazes","deads","deair","deals","deans","deare","dearn","dears","deary","deash","deave","deaws","deawy","debag","debby","debel","debes","debts","debud","debur","debus","debye","decad","decaf","decan","decko","decks","decos","dedal","deeds","deedy","deely","deems","deens","deeps","deere","deers","deets","deeve","deevs","defat","deffo","defis","defog","degas","degum","degus","deice","deids","deify","deils","deism","deist","deked","dekes","dekko","deled","deles","delfs","delft","delis","dells","delly","delos","delph","delts","deman","demes","demic","demit","demob","demoi","demos","dempt","denar","denay","dench","denes","denet","denis","dents","deoxy","derat","deray","dered","deres","derig","derma","derms","derns","derny","deros","derro","derry","derth","dervs","desex","deshi","desis","desks","desse","devas","devel","devis","devon","devos","devot","dewan","dewar","dewax","dewed","dexes","dexie","dhaba","dhaks","dhals","dhikr","dhobi","dhole","dholl","dhols","dhoti","dhows","dhuti","diact","dials","diane","diazo","dibbs","diced","dicer","dices","dicht","dicks","dicky","dicot","dicta","dicts","dicty","diddy","didie","didos","didst","diebs","diels","diene","diets","diffs","dight","dikas","diked","diker","dikes","dikey","dildo","dilli","dills","dimbo","dimer","dimes","dimps","dinar","dined","dines","dinge","dings","dinic","dinks","dinky","dinna","dinos","dints","diols","diota","dippy","dipso","diram","direr","dirke","dirks","dirls","dirts","disas","disci","discs","dishy","disks","disme","dital","ditas","dited","dites","ditsy","ditts","ditzy","divan","divas","dived","dives","divis","divna","divos","divot","divvy","diwan","dixie","dixit","diyas","dizen","djinn","djins","doabs","doats","dobby","dobes","dobie","dobla","dobra","dobro","docht","docks","docos","docus","doddy","dodos","doeks","doers","doest","doeth","doffs","dogan","doges","dogey","doggo","doggy","dogie","dohyo","doilt","doily","doits","dojos","dolce","dolci","doled","doles","dolia","dolls","dolma","dolor","dolos","dolts","domal","domed","domes","domic","donah","donas","donee","doner","donga","dongs","donko","donna","donne","donny","donsy","doobs","dooce","doody","dooks","doole","dools","dooly","dooms","doomy","doona","doorn","doors","doozy","dopas","doped","doper","dopes","dorad","dorba","dorbs","doree","dores","doric","doris","dorks","dorky","dorms","dormy","dorps","dorrs","dorsa","dorse","dorts","dorty","dosai","dosas","dosed","doseh","doser","doses","dosha","dotal","doted","doter","dotes","dotty","douar","douce","doucs","douks","doula","douma","doums","doups","doura","douse","douts","doved","doven","dover","doves","dovie","dowar","dowds","dowed","dower","dowie","dowle","dowls","dowly","downa","downs","dowps","dowse","dowts","doxed","doxes","doxie","doyen","doyly","dozed","dozer","dozes","drabs","drack","draco","draff","drags","drail","drams","drant","draps","drats","drave","draws","drays","drear","dreck","dreed","dreer","drees","dregs","dreks","drent","drere","drest","dreys","dribs","drice","dries","drily","drips","dript","droid","droil","droke","drole","drome","drony","droob","droog","drook","drops","dropt","drouk","drows","drubs","drugs","drums","drupe","druse","drusy","druxy","dryad","dryas","dsobo","dsomo","duads","duals","duans","duars","dubbo","ducal","ducat","duces","ducks","ducky","ducts","duddy","duded","dudes","duels","duets","duett","duffs","dufus","duing","duits","dukas","duked","dukes","dukka","dulce","dules","dulia","dulls","dulse","dumas","dumbo","dumbs","dumka","dumky","dumps","dunam","dunch","dunes","dungs","dungy","dunks","dunno","dunny","dunsh","dunts","duomi","duomo","duped","duper","dupes","duple","duply","duppy","dural","duras","dured","dures","durgy","durns","duroc","duros","duroy","durra","durrs","durry","durst","durum","durzi","dusks","dusts","duxes","dwaal","dwale","dwalm","dwams","dwang","dwaum","dweeb","dwile","dwine","dyads","dyers","dyked","dykes","dykey","dykon","dynel","dynes","dzhos","eagre","ealed","eales","eaned","eards","eared","earls","earns","earnt","earst","eased","easer","eases","easle","easts","eathe","eaved","eaves","ebbed","ebbet","ebons","ebook","ecads","eched","eches","echos","ecrus","edema","edged","edger","edges","edile","edits","educe","educt","eejit","eensy","eeven","eevns","effed","egads","egers","egest","eggar","egged","egger","egmas","ehing","eider","eidos","eigne","eiked","eikon","eilds","eisel","ejido","ekkas","elain","eland","elans","elchi","eldin","elemi","elfed","eliad","elint","elmen","eloge","elogy","eloin","elops","elpee","elsin","elute","elvan","elven","elver","elves","emacs","embar","embay","embog","embow","embox","embus","emeer","emend","emerg","emery","emeus","emics","emirs","emits","emmas","emmer","emmet","emmew","emmys","emoji","emong","emote","emove","empts","emule","emure","emyde","emyds","enarm","enate","ended","ender","endew","endue","enews","enfix","eniac","enlit","enmew","ennog","enoki","enols","enorm","enows","enrol","ensew","ensky","entia","enure","enurn","envoi","enzym","eorls","eosin","epact","epees","ephah","ephas","ephod","ephor","epics","epode","epopt","epris","eques","equid","erbia","erevs","ergon","ergos","ergot","erhus","erica","erick","erics","ering","erned","ernes","erose","erred","erses","eruct","erugo","eruvs","erven","ervil","escar","escot","esile","eskar","esker","esnes","esses","estoc","estop","estro","etage","etape","etats","etens","ethal","ethne","ethyl","etics","etnas","ettin","ettle","etuis","etwee","etyma","eughs","euked","eupad","euros","eusol","evens","evert","evets","evhoe","evils","evite","evohe","ewers","ewest","ewhow","ewked","exams","exeat","execs","exeem","exeme","exfil","exies","exine","exing","exits","exode","exome","exons","expat","expos","exude","exuls","exurb","eyass","eyers","eyots","eyras","eyres","eyrie","eyrir","ezine","fabby","faced","facer","faces","facia","facta","facts","faddy","faded","fader","fades","fadge","fados","faena","faery","faffs","faffy","faggy","fagin","fagot","faiks","fails","faine","fains","fairs","faked","faker","fakes","fakey","fakie","fakir","falaj","falls","famed","fames","fanal","fands","fanes","fanga","fango","fangs","fanks","fanon","fanos","fanum","faqir","farad","farci","farcy","fards","fared","farer","fares","farle","farls","farms","faros","farro","farse","farts","fasci","fasti","fasts","fated","fates","fatly","fatso","fatwa","faugh","fauld","fauns","faurd","fauts","fauve","favas","favel","faver","faves","favus","fawns","fawny","faxed","faxes","fayed","fayer","fayne","fayre","fazed","fazes","feals","feare","fears","feart","fease","feats","feaze","feces","fecht","fecit","fecks","fedex","feebs","feeds","feels","feens","feers","feese","feeze","fehme","feint","feist","felch","felid","fells","felly","felts","felty","femal","femes","femmy","fends","fendy","fenis","fenks","fenny","fents","feods","feoff","ferer","feres","feria","ferly","fermi","ferms","ferns","ferny","fesse","festa","fests","festy","fetas","feted","fetes","fetor","fetta","fetts","fetwa","feuar","feuds","feued","feyed","feyer","feyly","fezes","fezzy","fiars","fiats","fibro","fices","fiche","fichu","ficin","ficos","fides","fidge","fidos","fiefs","fient","fiere","fiers","fiest","fifed","fifer","fifes","fifis","figgy","figos","fiked","fikes","filar","filch","filed","files","filii","filks","fille","fillo","fills","filmi","films","filos","filum","finca","finds","fined","fines","finis","finks","finny","finos","fiord","fiqhs","fique","fired","firer","fires","firie","firks","firms","firns","firry","firth","fiscs","fisks","fists","fisty","fitch","fitly","fitna","fitte","fitts","fiver","fives","fixed","fixes","fixit","fjeld","flabs","flaff","flags","flaks","flamm","flams","flamy","flane","flans","flaps","flary","flats","flava","flawn","flaws","flawy","flaxy","flays","fleam","fleas","fleek","fleer","flees","flegs","fleme","fleur","flews","flexi","flexo","fleys","flics","flied","flies","flimp","flims","flips","flirs","flisk","flite","flits","flitt","flobs","flocs","floes","flogs","flong","flops","flors","flory","flosh","flota","flote","flows","flubs","flued","flues","fluey","fluky","flump","fluor","flurr","fluty","fluyt","flyby","flype","flyte","foals","foams","foehn","fogey","fogie","fogle","fogou","fohns","foids","foils","foins","folds","foley","folia","folic","folie","folks","folky","fomes","fonda","fonds","fondu","fones","fonly","fonts","foods","foody","fools","foots","footy","foram","forbs","forby","fordo","fords","forel","fores","forex","forks","forky","forme","forms","forts","forza","forze","fossa","fosse","fouat","fouds","fouer","fouet","foule","fouls","fount","fours","fouth","fovea","fowls","fowth","foxed","foxes","foxie","foyle","foyne","frabs","frack","fract","frags","fraim","franc","frape","fraps","frass","frate","frati","frats","fraus","frays","frees","freet","freit","fremd","frena","freon","frere","frets","fribs","frier","fries","frigs","frise","frist","frith","frits","fritt","frize","frizz","froes","frogs","frons","frore","frorn","frory","frosh","frows","frowy","frugs","frump","frush","frust","fryer","fubar","fubby","fubsy","fucks","fucus","fuddy","fudgy","fuels","fuero","fuffs","fuffy","fugal","fuggy","fugie","fugio","fugle","fugly","fugus","fujis","fulls","fumed","fumer","fumes","fumet","fundi","funds","fundy","fungo","fungs","funks","fural","furan","furca","furls","furol","furrs","furth","furze","furzy","fused","fusee","fusel","fuses","fusil","fusks","fusts","fusty","futon","fuzed","fuzee","fuzes","fuzil","fyces","fyked","fykes","fyles","fyrds","fytte","gabba","gabby","gable","gaddi","gades","gadge","gadid","gadis","gadje","gadjo","gadso","gaffs","gaged","gager","gages","gaids","gains","gairs","gaita","gaits","gaitt","gajos","galah","galas","galax","galea","galed","gales","galls","gally","galop","galut","galvo","gamas","gamay","gamba","gambe","gambo","gambs","gamed","games","gamey","gamic","gamin","gamme","gammy","gamps","ganch","gandy","ganef","ganev","gangs","ganja","ganof","gants","gaols","gaped","gaper","gapes","gapos","gappy","garbe","garbo","garbs","garda","gares","garis","garms","garni","garre","garth","garum","gases","gasps","gaspy","gasts","gatch","gated","gater","gates","gaths","gator","gauch","gaucy","gauds","gauje","gault","gaums","gaumy","gaups","gaurs","gauss","gauzy","gavot","gawcy","gawds","gawks","gawps","gawsy","gayal","gazal","gazar","gazed","gazes","gazon","gazoo","geals","geans","geare","gears","geats","gebur","gecks","geeks","geeps","geest","geist","geits","gelds","gelee","gelid","gelly","gelts","gemel","gemma","gemmy","gemot","genal","genas","genes","genet","genic","genii","genip","genny","genoa","genom","genro","gents","genty","genua","genus","geode","geoid","gerah","gerbe","geres","gerle","germs","germy","gerne","gesse","gesso","geste","gests","getas","getup","geums","geyan","geyer","ghast","ghats","ghaut","ghazi","ghees","ghest","ghyll","gibed","gibel","giber","gibes","gibli","gibus","gifts","gigas","gighe","gigot","gigue","gilas","gilds","gilet","gills","gilly","gilpy","gilts","gimel","gimme","gimps","gimpy","ginch","ginge","gings","ginks","ginny","ginzo","gipon","gippo","gippy","girds","girls","girns","giron","giros","girrs","girsh","girts","gismo","gisms","gists","gitch","gites","giust","gived","gives","gizmo","glace","glads","glady","glaik","glair","glams","glans","glary","glaum","glaur","glazy","gleba","glebe","gleby","glede","gleds","gleed","gleek","glees","gleet","gleis","glens","glent","gleys","glial","glias","glibs","gliff","glift","glike","glime","glims","glisk","glits","glitz","gloam","globi","globs","globy","glode","glogg","gloms","gloop","glops","glost","glout","glows","gloze","glued","gluer","glues","gluey","glugs","glume","glums","gluon","glute","gluts","gnarl","gnarr","gnars","gnats","gnawn","gnaws","gnows","goads","goafs","goals","goary","goats","goaty","goban","gobar","gobbi","gobbo","gobby","gobis","gobos","godet","godso","goels","goers","goest","goeth","goety","gofer","goffs","gogga","gogos","goier","gojis","golds","goldy","goles","golfs","golpe","golps","gombo","gomer","gompa","gonch","gonef","gongs","gonia","gonif","gonks","gonna","gonof","gonys","gonzo","gooby","goods","goofs","googs","gooks","gooky","goold","gools","gooly","goons","goony","goops","goopy","goors","goory","goosy","gopak","gopik","goral","goras","gored","gores","goris","gorms","gormy","gorps","gorse","gorsy","gosht","gosse","gotch","goths","gothy","gotta","gouch","gouks","goura","gouts","gouty","gowan","gowds","gowfs","gowks","gowls","gowns","goxes","goyim","goyle","graal","grabs","grads","graff","graip","grama","grame","gramp","grams","grana","grans","grapy","gravs","grays","grebe","grebo","grece","greek","grees","grege","grego","grein","grens","grese","greve","grews","greys","grice","gride","grids","griff","grift","grigs","grike","grins","griot","grips","gript","gripy","grise","grist","grisy","grith","grits","grize","groat","grody","grogs","groks","groma","grone","groof","grosz","grots","grouf","grovy","grows","grrls","grrrl","grubs","grued","grues","grufe","grume","grump","grund","gryce","gryde","gryke","grype","grypt","guaco","guana","guano","guans","guars","gucks","gucky","gudes","guffs","gugas","guids","guimp","guiro","gulag","gular","gulas","gules","gulet","gulfs","gulfy","gulls","gulph","gulps","gulpy","gumma","gummi","gumps","gundy","gunge","gungy","gunks","gunky","gunny","guqin","gurdy","gurge","gurls","gurly","gurns","gurry","gursh","gurus","gushy","gusla","gusle","gusli","gussy","gusts","gutsy","gutta","gutty","guyed","guyle","guyot","guyse","gwine","gyals","gyans","gybed","gybes","gyeld","gymps","gynae","gynie","gynny","gynos","gyoza","gypos","gyppo","gyppy","gyral","gyred","gyres","gyron","gyros","gyrus","gytes","gyved","gyves","haafs","haars","hable","habus","hacek","hacks","hadal","haded","hades","hadji","hadst","haems","haets","haffs","hafiz","hafts","haggs","hahas","haick","haika","haiks","haiku","hails","haily","hains","haint","hairs","haith","hajes","hajis","hajji","hakam","hakas","hakea","hakes","hakim","hakus","halal","haled","haler","hales","halfa","halfs","halid","hallo","halls","halma","halms","halon","halos","halse","halts","halva","halwa","hamal","hamba","hamed","hames","hammy","hamza","hanap","hance","hanch","hands","hangi","hangs","hanks","hanky","hansa","hanse","hants","haole","haoma","hapax","haply","happi","hapus","haram","hards","hared","hares","harim","harks","harls","harms","harns","haros","harps","harts","hashy","hasks","hasps","hasta","hated","hates","hatha","hauds","haufs","haugh","hauld","haulm","hauls","hault","hauns","hause","haver","haves","hawed","hawks","hawms","hawse","hayed","hayer","hayey","hayle","hazan","hazed","hazer","hazes","heads","heald","heals","heame","heaps","heapy","heare","hears","heast","heats","heben","hebes","hecht","hecks","heder","hedgy","heeds","heedy","heels","heeze","hefte","hefts","heids","heigh","heils","heirs","hejab","hejra","heled","heles","helio","hells","helms","helos","helot","helps","helve","hemal","hemes","hemic","hemin","hemps","hempy","hench","hends","henge","henna","henny","henry","hents","hepar","herbs","herby","herds","heres","herls","herma","herms","herns","heros","herry","herse","hertz","herye","hesps","hests","hetes","heths","heuch","heugh","hevea","hewed","hewer","hewgh","hexad","hexed","hexer","hexes","hexyl","heyed","hiant","hicks","hided","hider","hides","hiems","highs","hight","hijab","hijra","hiked","hiker","hikes","hikoi","hilar","hilch","hillo","hills","hilts","hilum","hilus","himbo","hinau","hinds","hings","hinky","hinny","hints","hiois","hiply","hired","hiree","hirer","hires","hissy","hists","hithe","hived","hiver","hives","hizen","hoaed","hoagy","hoars","hoary","hoast","hobos","hocks","hocus","hodad","hodja","hoers","hogan","hogen","hoggs","hoghs","hohed","hoick","hoied","hoiks","hoing","hoise","hokas","hoked","hokes","hokey","hokis","hokku","hokum","holds","holed","holes","holey","holks","holla","hollo","holme","holms","holon","holos","holts","homas","homed","homes","homey","homie","homme","homos","honan","honda","honds","honed","honer","hones","hongi","hongs","honks","honky","hooch","hoods","hoody","hooey","hoofs","hooka","hooks","hooky","hooly","hoons","hoops","hoord","hoors","hoosh","hoots","hooty","hoove","hopak","hoped","hoper","hopes","hoppy","horah","horal","horas","horis","horks","horme","horns","horst","horsy","hosed","hosel","hosen","hoser","hoses","hosey","hosta","hosts","hotch","hoten","hotty","houff","houfs","hough","houri","hours","houts","hovea","hoved","hoven","hoves","howbe","howes","howff","howfs","howks","howls","howre","howso","hoxed","hoxes","hoyas","hoyed","hoyle","hubby","hucks","hudna","hudud","huers","huffs","huffy","huger","huggy","huhus","huias","hulas","hules","hulks","hulky","hullo","hulls","hully","humas","humfs","humic","humps","humpy","hunks","hunts","hurds","hurls","hurly","hurra","hurst","hurts","hushy","husks","husos","hutia","huzza","huzzy","hwyls","hydra","hyens","hygge","hying","hykes","hylas","hyleg","hyles","hylic","hymns","hynde","hyoid","hyped","hypes","hypha","hyphy","hypos","hyrax","hyson","hythe","iambi","iambs","ibrik","icers","iched","iches","ichor","icier","icker","ickle","icons","ictal","ictic","ictus","idant","ideas","idees","ident","idled","idles","idola","idols","idyls","iftar","igapo","igged","iglus","ihram","ikans","ikats","ikons","ileac","ileal","ileum","ileus","iliad","ilial","ilium","iller","illth","imago","imams","imari","imaum","imbar","imbed","imide","imido","imids","imine","imino","immew","immit","immix","imped","impis","impot","impro","imshi","imshy","inapt","inarm","inbye","incel","incle","incog","incus","incut","indew","india","indie","indol","indow","indri","indue","inerm","infix","infos","infra","ingan","ingle","inion","inked","inker","inkle","inned","innit","inorb","inrun","inset","inspo","intel","intil","intis","intra","inula","inure","inurn","inust","invar","inwit","iodic","iodid","iodin","iotas","ippon","irade","irids","iring","irked","iroko","irone","irons","isbas","ishes","isled","isles","isnae","issei","istle","items","ither","ivied","ivies","ixias","ixnay","ixora","ixtle","izard","izars","izzat","jaaps","jabot","jacal","jacks","jacky","jaded","jades","jafas","jaffa","jagas","jager","jaggs","jaggy","jagir","jagra","jails","jaker","jakes","jakey","jalap","jalop","jambe","jambo","jambs","jambu","james","jammy","jamon","janes","janns","janny","janty","japan","japed","japer","japes","jarks","jarls","jarps","jarta","jarul","jasey","jaspe","jasps","jatos","jauks","jaups","javas","javel","jawan","jawed","jaxie","jeans","jeats","jebel","jedis","jeels","jeely","jeeps","jeers","jeeze","jefes","jeffs","jehad","jehus","jelab","jello","jells","jembe","jemmy","jenny","jeons","jerid","jerks","jerry","jesse","jests","jesus","jetes","jeton","jeune","jewed","jewie","jhala","jiaos","jibba","jibbs","jibed","jiber","jibes","jiffs","jiggy","jigot","jihad","jills","jilts","jimmy","jimpy","jingo","jinks","jinne","jinni","jinns","jirds","jirga","jirre","jisms","jived","jiver","jives","jivey","jnana","jobed","jobes","jocko","jocks","jocky","jocos","jodel","joeys","johns","joins","joked","jokes","jokey","jokol","joled","joles","jolls","jolts","jolty","jomon","jomos","jones","jongs","jonty","jooks","joram","jorum","jotas","jotty","jotun","joual","jougs","jouks","joule","jours","jowar","jowed","jowls","jowly","joyed","jubas","jubes","jucos","judas","judgy","judos","jugal","jugum","jujus","juked","jukes","jukus","julep","jumar","jumby","jumps","junco","junks","junky","jupes","jupon","jural","jurat","jurel","jures","justs","jutes","jutty","juves","juvie","kaama","kabab","kabar","kabob","kacha","kacks","kadai","kades","kadis","kafir","kagos","kagus","kahal","kaiak","kaids","kaies","kaifs","kaika","kaiks","kails","kaims","kaing","kains","kakas","kakis","kalam","kales","kalif","kalis","kalpa","kamas","kames","kamik","kamis","kamme","kanae","kanas","kandy","kaneh","kanes","kanga","kangs","kanji","kants","kanzu","kaons","kapas","kaphs","kapok","kapow","kapus","kaput","karas","karat","karks","karns","karoo","karos","karri","karst","karsy","karts","karzy","kasha","kasme","katal","katas","katis","katti","kaugh","kauri","kauru","kaury","kaval","kavas","kawas","kawau","kawed","kayle","kayos","kazis","kazoo","kbars","kebar","kebob","kecks","kedge","kedgy","keech","keefs","keeks","keels","keema","keeno","keens","keeps","keets","keeve","kefir","kehua","keirs","kelep","kelim","kells","kelly","kelps","kelpy","kelts","kelty","kembo","kembs","kemps","kempt","kempy","kenaf","kench","kendo","kenos","kente","kents","kepis","kerbs","kerel","kerfs","kerky","kerma","kerne","kerns","keros","kerry","kerve","kesar","kests","ketas","ketch","ketes","ketol","kevel","kevil","kexes","keyed","keyer","khadi","khafs","khans","khaph","khats","khaya","khazi","kheda","kheth","khets","khoja","khors","khoum","khuds","kiaat","kiack","kiang","kibbe","kibbi","kibei","kibes","kibla","kicks","kicky","kiddo","kiddy","kidel","kidge","kiefs","kiers","kieve","kievs","kight","kikes","kikoi","kiley","kilim","kills","kilns","kilos","kilps","kilts","kilty","kimbo","kinas","kinda","kinds","kindy","kines","kings","kinin","kinks","kinos","kiore","kipes","kippa","kipps","kirby","kirks","kirns","kirri","kisan","kissy","kists","kited","kiter","kites","kithe","kiths","kitul","kivas","kiwis","klang","klaps","klett","klick","klieg","kliks","klong","kloof","kluge","klutz","knags","knaps","knarl","knars","knaur","knawe","knees","knell","knish","knits","knive","knobs","knops","knosp","knots","knout","knowe","knows","knubs","knurl","knurr","knurs","knuts","koans","koaps","koban","kobos","koels","koffs","kofta","kogal","kohas","kohen","kohls","koine","kojis","kokam","kokas","koker","kokra","kokum","kolas","kolos","kombu","konbu","kondo","konks","kooks","kooky","koori","kopek","kophs","kopje","koppa","korai","koras","korat","kores","korma","koros","korun","korus","koses","kotch","kotos","kotow","koura","kraal","krabs","kraft","krais","krait","krang","krans","kranz","kraut","krays","kreep","kreng","krewe","krona","krone","kroon","krubi","krunk","ksars","kubie","kudos","kudus","kudzu","kufis","kugel","kuias","kukri","kukus","kulak","kulan","kulas","kulfi","kumis","kumys","kuris","kurre","kurta","kurus","kusso","kutas","kutch","kutis","kutus","kuzus","kvass","kvell","kwela","kyack","kyaks","kyang","kyars","kyats","kybos","kydst","kyles","kylie","kylin","kylix","kyloe","kynde","kynds","kypes","kyrie","kytes","kythe","laari","labda","labia","labis","labra","laced","lacer","laces","lacet","lacey","lacks","laddy","laded","lader","lades","laers","laevo","lagan","lahal","lahar","laich","laics","laids","laigh","laika","laiks","laird","lairs","lairy","laith","laity","laked","laker","lakes","lakhs","lakin","laksa","laldy","lalls","lamas","lambs","lamby","lamed","lamer","lames","lamia","lammy","lamps","lanai","lanas","lanch","lande","lands","lanes","lanks","lants","lapin","lapis","lapje","larch","lards","lardy","laree","lares","largo","laris","larks","larky","larns","larnt","larum","lased","laser","lases","lassi","lassu","lassy","lasts","latah","lated","laten","latex","lathi","laths","lathy","latke","latus","lauan","lauch","lauds","laufs","laund","laura","laval","lavas","laved","laver","laves","lavra","lavvy","lawed","lawer","lawin","lawks","lawns","lawny","laxed","laxer","laxes","laxly","layed","layin","layup","lazar","lazed","lazes","lazos","lazzi","lazzo","leads","leady","leafs","leaks","leams","leans","leany","leaps","leare","lears","leary","leats","leavy","leaze","leben","leccy","ledes","ledgy","ledum","leear","leeks","leeps","leers","leese","leets","leeze","lefte","lefts","leger","leges","legge","leggo","legit","lehrs","lehua","leirs","leish","leman","lemed","lemel","lemes","lemma","lemme","lends","lenes","lengs","lenis","lenos","lense","lenti","lento","leone","lepid","lepra","lepta","lered","leres","lerps","lesbo","leses","lests","letch","lethe","letup","leuch","leuco","leuds","leugh","levas","levee","leves","levin","levis","lewis","lexes","lexis","lezes","lezza","lezzy","liana","liane","liang","liard","liars","liart","liber","libra","libri","lichi","licht","licit","licks","lidar","lidos","liefs","liens","liers","lieus","lieve","lifer","lifes","lifts","ligan","liger","ligge","ligne","liked","liker","likes","likin","lills","lilos","lilts","liman","limas","limax","limba","limbi","limbs","limby","limed","limen","limes","limey","limma","limns","limos","limpa","limps","linac","linch","linds","lindy","lined","lines","liney","linga","lings","lingy","linin","links","linky","linns","linny","linos","lints","linty","linum","linux","lions","lipas","lipes","lipin","lipos","lippy","liras","lirks","lirot","lisks","lisle","lisps","lists","litai","litas","lited","liter","lites","litho","liths","litre","lived","liven","lives","livor","livre","llano","loach","loads","loafs","loams","loans","loast","loave","lobar","lobed","lobes","lobos","lobus","loche","lochs","locie","locis","locks","locos","locum","loden","lodes","loess","lofts","logan","loges","loggy","logia","logie","logoi","logon","logos","lohan","loids","loins","loipe","loirs","lokes","lolls","lolly","lolog","lomas","lomed","lomes","loner","longa","longe","longs","looby","looed","looey","loofa","loofs","looie","looks","looky","looms","loons","loony","loops","loord","loots","loped","loper","lopes","loppy","loral","loran","lords","lordy","lorel","lores","loric","loris","losed","losel","losen","loses","lossy","lotah","lotas","lotes","lotic","lotos","lotsa","lotta","lotte","lotto","lotus","loued","lough","louie","louis","louma","lound","louns","loupe","loups","loure","lours","loury","louts","lovat","loved","loves","lovey","lovie","lowan","lowed","lowes","lownd","lowne","lowns","lowps","lowry","lowse","lowts","loxed","loxes","lozen","luach","luaus","lubed","lubes","lubra","luces","lucks","lucre","ludes","ludic","ludos","luffa","luffs","luged","luger","luges","lulls","lulus","lumas","lumbi","lumme","lummy","lumps","lunas","lunes","lunet","lungi","lungs","lunks","lunts","lupin","lured","lurer","lures","lurex","lurgi","lurgy","lurks","lurry","lurve","luser","lushy","lusks","lusts","lusus","lutea","luted","luter","lutes","luvvy","luxed","luxer","luxes","lweis","lyams","lyard","lyart","lyase","lycea","lycee","lycra","lymes","lynes","lyres","lysed","lyses","lysin","lysis","lysol","lyssa","lyted","lytes","lythe","lytic","lytta","maaed","maare","maars","mabes","macas","maced","macer","maces","mache","machi","machs","macks","macle","macon","madge","madid","madre","maerl","mafic","mages","maggs","magot","magus","mahoe","mahua","mahwa","maids","maiko","maiks","maile","maill","mails","maims","mains","maire","mairs","maise","maist","makar","makes","makis","makos","malam","malar","malas","malax","males","malic","malik","malis","malls","malms","malmy","malts","malty","malus","malva","malwa","mamas","mamba","mamee","mamey","mamie","manas","manat","mandi","maneb","maned","maneh","manes","manet","mangs","manis","manky","manna","manos","manse","manta","manto","manty","manul","manus","mapau","maqui","marae","marah","maras","marcs","mardy","mares","marge","margs","maria","marid","marka","marks","marle","marls","marly","marms","maron","maror","marra","marri","marse","marts","marvy","masas","mased","maser","mases","mashy","masks","massa","massy","masts","masty","masus","matai","mated","mater","mates","maths","matin","matlo","matte","matts","matza","matzo","mauby","mauds","mauls","maund","mauri","mausy","mauts","mauzy","maven","mavie","mavin","mavis","mawed","mawks","mawky","mawns","mawrs","maxed","maxes","maxis","mayan","mayas","mayed","mayos","mayst","mazed","mazer","mazes","mazey","mazut","mbira","meads","meals","meane","means","meany","meare","mease","meath","meats","mebos","mechs","mecks","medii","medle","meeds","meers","meets","meffs","meins","meint","meiny","meith","mekka","melas","melba","melds","melic","melik","mells","melts","melty","memes","memos","menad","mends","mened","menes","menge","mengs","mensa","mense","mensh","menta","mento","menus","meous","meows","merch","mercs","merde","mered","merel","merer","meres","meril","meris","merks","merle","merls","merse","mesal","mesas","mesel","meses","meshy","mesic","mesne","meson","messy","mesto","meted","metes","metho","meths","metic","metif","metis","metol","metre","meuse","meved","meves","mewed","mewls","meynt","mezes","mezze","mezzo","mhorr","miaou","miaow","miasm","miaul","micas","miche","micht","micks","micky","micos","micra","middy","midgy","midis","miens","mieve","miffs","miffy","mifty","miggs","mihas","mihis","miked","mikes","mikra","mikva","milch","milds","miler","miles","milfs","milia","milko","milks","mille","mills","milor","milos","milpa","milts","milty","miltz","mimed","mimeo","mimer","mimes","mimsy","minae","minar","minas","mincy","minds","mined","mines","minge","mings","mingy","minis","minke","minks","minny","minos","mints","mired","mires","mirex","mirid","mirin","mirks","mirky","mirly","miros","mirvs","mirza","misch","misdo","mises","misgo","misos","missa","mists","misty","mitch","miter","mites","mitis","mitre","mitts","mixed","mixen","mixer","mixes","mixte","mixup","mizen","mizzy","mneme","moans","moats","mobby","mobes","mobey","mobie","moble","mochi","mochs","mochy","mocks","moder","modes","modge","modii","modus","moers","mofos","moggy","mohel","mohos","mohrs","mohua","mohur","moile","moils","moira","moire","moits","mojos","mokes","mokis","mokos","molal","molas","molds","moled","moles","molla","molls","molly","molto","molts","molys","momes","momma","mommy","momus","monad","monal","monas","monde","mondo","moner","mongo","mongs","monic","monie","monks","monos","monte","monty","moobs","mooch","moods","mooed","mooks","moola","mooli","mools","mooly","moong","moons","moony","moops","moors","moory","moots","moove","moped","moper","mopes","mopey","moppy","mopsy","mopus","morae","moras","morat","moray","morel","mores","moria","morne","morns","morra","morro","morse","morts","mosed","moses","mosey","mosks","mosso","moste","mosts","moted","moten","motes","motet","motey","moths","mothy","motis","motte","motts","motty","motus","motza","mouch","moues","mould","mouls","moups","moust","mousy","moved","moves","mowas","mowed","mowra","moxas","moxie","moyas","moyle","moyls","mozed","mozes","mozos","mpret","mucho","mucic","mucid","mucin","mucks","mucor","mucro","mudge","mudir","mudra","muffs","mufti","mugga","muggs","muggy","muhly","muids","muils","muirs","muist","mujik","mulct","muled","mules","muley","mulga","mulie","mulla","mulls","mulse","mulsh","mumms","mumps","mumsy","mumus","munga","munge","mungo","mungs","munis","munts","muntu","muons","muras","mured","mures","murex","murid","murks","murls","murly","murra","murre","murri","murrs","murry","murti","murva","musar","musca","mused","muser","muses","muset","musha","musit","musks","musos","musse","mussy","musth","musts","mutch","muted","muter","mutes","mutha","mutis","muton","mutts","muxed","muxes","muzak","muzzy","mvule","myall","mylar","mynah","mynas","myoid","myoma","myope","myops","myopy","mysid","mythi","myths","mythy","myxos","mzees","naams","naans","nabes","nabis","nabks","nabla","nabob","nache","nacho","nacre","nadas","naeve","naevi","naffs","nagas","naggy","nagor","nahal","naiad","naifs","naiks","nails","naira","nairu","naked","naker","nakfa","nalas","naled","nalla","named","namer","names","namma","namus","nanas","nance","nancy","nandu","nanna","nanos","nanua","napas","naped","napes","napoo","nappa","nappe","nappy","naras","narco","narcs","nards","nares","naric","naris","narks","narky","narre","nashi","natch","nates","natis","natty","nauch","naunt","navar","naves","navew","navvy","nawab","nazes","nazir","nazis","nduja","neafe","neals","neaps","nears","neath","neats","nebek","nebel","necks","neddy","needs","neeld","neele","neemb","neems","neeps","neese","neeze","negro","negus","neifs","neist","neive","nelis","nelly","nemas","nemns","nempt","nenes","neons","neper","nepit","neral","nerds","nerka","nerks","nerol","nerts","nertz","nervy","nests","netes","netop","netts","netty","neuks","neume","neums","nevel","neves","nevus","newbs","newed","newel","newie","newsy","newts","nexts","nexus","ngaio","ngana","ngati","ngoma","ngwee","nicad","nicht","nicks","nicol","nidal","nided","nides","nidor","nidus","niefs","nieve","nifes","niffs","niffy","nifty","niger","nighs","nihil","nikab","nikah","nikau","nills","nimbi","nimbs","nimps","niner","nines","ninon","nipas","nippy","niqab","nirls","nirly","nisei","nisse","nisus","niter","nites","nitid","niton","nitre","nitro","nitry","nitty","nival","nixed","nixer","nixes","nixie","nizam","nkosi","noahs","nobby","nocks","nodal","noddy","nodes","nodus","noels","noggs","nohow","noils","noily","noint","noirs","noles","nolls","nolos","nomas","nomen","nomes","nomic","nomoi","nomos","nonas","nonce","nones","nonet","nongs","nonis","nonny","nonyl","noobs","nooit","nooks","nooky","noons","noops","nopal","noria","noris","norks","norma","norms","nosed","noser","noses","notal","noted","noter","notes","notum","nould","noule","nouls","nouns","nouny","noups","novae","novas","novum","noway","nowed","nowls","nowts","nowty","noxal","noxes","noyau","noyed","noyes","nubby","nubia","nucha","nuddy","nuder","nudes","nudie","nudzh","nuffs","nugae","nuked","nukes","nulla","nulls","numbs","numen","nummy","nunny","nurds","nurdy","nurls","nurrs","nutso","nutsy","nyaff","nyala","nying","nyssa","oaked","oaker","oakum","oared","oases","oasis","oasts","oaten","oater","oaths","oaves","obang","obeah","obeli","obeys","obias","obied","obiit","obits","objet","oboes","obole","oboli","obols","occam","ocher","oches","ochre","ochry","ocker","ocrea","octad","octan","octas","octyl","oculi","odahs","odals","odeon","odeum","odism","odist","odium","odors","odour","odyle","odyls","ofays","offed","offie","oflag","ofter","ogams","ogeed","ogees","oggin","ogham","ogive","ogled","ogler","ogles","ogmic","ogres","ohias","ohing","ohmic","ohone","oidia","oiled","oiler","oinks","oints","ojime","okapi","okays","okehs","okras","oktas","oldie","oleic","olein","olent","oleos","oleum","olios","ollas","ollav","oller","ollie","ology","olpae","olpes","omasa","omber","ombus","omens","omers","omits","omlah","omovs","omrah","oncer","onces","oncet","oncus","onely","oners","onery","onium","onkus","onlay","onned","ontic","oobit","oohed","oomph","oonts","ooped","oorie","ooses","ootid","oozed","oozes","opahs","opals","opens","opepe","oping","oppos","opsin","opted","opter","orach","oracy","orals","orang","orant","orate","orbed","orcas","orcin","ordos","oread","orfes","orgia","orgic","orgue","oribi","oriel","orixa","orles","orlon","orlop","ormer","ornis","orpin","orris","ortho","orval","orzos","oscar","oshac","osier","osmic","osmol","ossia","ostia","otaku","otary","ottar","ottos","oubit","oucht","ouens","ouija","oulks","oumas","oundy","oupas","ouped","ouphe","ouphs","ourie","ousel","ousts","outby","outed","outre","outro","outta","ouzel","ouzos","ovals","ovels","ovens","overs","ovist","ovoli","ovolo","ovule","owche","owies","owled","owler","owlet","owned","owres","owrie","owsen","oxbow","oxers","oxeye","oxids","oxies","oxime","oxims","oxlip","oxter","oyers","ozeki","ozzie","paals","paans","pacas","paced","pacer","paces","pacey","pacha","packs","pacos","pacta","pacts","padis","padle","padma","padre","padri","paean","paedo","paeon","paged","pager","pages","pagle","pagod","pagri","paiks","pails","pains","paire","pairs","paisa","paise","pakka","palas","palay","palea","paled","pales","palet","palis","palki","palla","palls","pally","palms","palmy","palpi","palps","palsa","pampa","panax","pance","panda","pands","pandy","paned","panes","panga","pangs","panim","panko","panne","panni","panto","pants","panty","paoli","paolo","papas","papaw","papes","pappi","pappy","parae","paras","parch","pardi","pards","pardy","pared","paren","pareo","pares","pareu","parev","parge","pargo","paris","parki","parks","parky","parle","parly","parma","parol","parps","parra","parrs","parti","parts","parve","parvo","paseo","pases","pasha","pashm","paska","paspy","passe","pasts","pated","paten","pater","pates","paths","patin","patka","patly","patte","patus","pauas","pauls","pavan","paved","paven","paver","paves","pavid","pavin","pavis","pawas","pawaw","pawed","pawer","pawks","pawky","pawls","pawns","paxes","payed","payor","paysd","peage","peags","peaks","peaky","peals","peans","peare","pears","peart","pease","peats","peaty","peavy","peaze","pebas","pechs","pecke","pecks","pecky","pedes","pedis","pedro","peece","peeks","peels","peens","peeoy","peepe","peeps","peers","peery","peeve","peggy","peghs","peins","peise","peize","pekan","pekes","pekin","pekoe","pelas","pelau","peles","pelfs","pells","pelma","pelon","pelta","pelts","pends","pendu","pened","penes","pengo","penie","penis","penks","penna","penni","pents","peons","peony","pepla","pepos","peppy","pepsi","perai","perce","percs","perdu","perdy","perea","peres","peris","perks","perms","perns","perog","perps","perry","perse","perst","perts","perve","pervo","pervs","pervy","pesos","pests","pesty","petar","peter","petit","petre","petri","petti","petto","pewee","pewit","peyse","phage","phang","phare","pharm","pheer","phene","pheon","phese","phial","phish","phizz","phlox","phoca","phono","phons","phots","phpht","phuts","phyla","phyle","piani","pians","pibal","pical","picas","piccy","picks","picot","picra","picul","piend","piers","piert","pieta","piets","piezo","pight","pigmy","piing","pikas","pikau","piked","piker","pikes","pikey","pikis","pikul","pilae","pilaf","pilao","pilar","pilau","pilaw","pilch","pilea","piled","pilei","piler","piles","pilis","pills","pilow","pilum","pilus","pimas","pimps","pinas","pined","pines","pingo","pings","pinko","pinks","pinna","pinny","pinon","pinot","pinta","pints","pinup","pions","piony","pious","pioye","pioys","pipal","pipas","piped","pipes","pipet","pipis","pipit","pippy","pipul","pirai","pirls","pirns","pirog","pisco","pises","pisky","pisos","pissy","piste","pitas","piths","piton","pitot","pitta","piums","pixes","pized","pizes","plaas","plack","plage","plans","plaps","plash","plasm","plast","plats","platt","platy","playa","plays","pleas","plebe","plebs","plena","pleon","plesh","plews","plica","plies","plims","pling","plink","ploat","plods","plong","plonk","plook","plops","plots","plotz","plouk","plows","ploye","ploys","plues","pluff","plugs","plums","plumy","pluot","pluto","plyer","poach","poaka","poake","poboy","pocks","pocky","podal","poddy","podex","podge","podgy","podia","poems","poeps","poets","pogey","pogge","pogos","pohed","poilu","poind","pokal","poked","pokes","pokey","pokie","poled","poler","poles","poley","polio","polis","polje","polks","polls","polly","polos","polts","polys","pombe","pomes","pommy","pomos","pomps","ponce","poncy","ponds","pones","poney","ponga","pongo","pongs","pongy","ponks","ponts","ponty","ponzu","poods","pooed","poofs","poofy","poohs","pooja","pooka","pooks","pools","poons","poops","poopy","poori","poort","poots","poove","poovy","popes","poppa","popsy","porae","poral","pored","porer","pores","porge","porgy","porin","porks","porky","porno","porns","porny","porta","ports","porty","posed","poses","posey","posho","posts","potae","potch","poted","potes","potin","potoo","potsy","potto","potts","potty","pouff","poufs","pouke","pouks","poule","poulp","poult","poupe","poupt","pours","pouts","powan","powin","pownd","powns","powny","powre","poxed","poxes","poynt","poyou","poyse","pozzy","praam","prads","prahu","prams","prana","prang","praos","prase","prate","prats","pratt","praty","praus","prays","predy","preed","prees","preif","prems","premy","prent","preon","preop","preps","presa","prese","prest","preve","prexy","preys","prial","pricy","prief","prier","pries","prigs","prill","prima","primi","primp","prims","primy","prink","prion","prise","priss","proas","probs","prods","proem","profs","progs","proin","proke","prole","proll","promo","proms","pronk","props","prore","proso","pross","prost","prosy","proto","proul","prows","proyn","prunt","pruta","pryer","pryse","pseud","pshaw","psion","psoae","psoai","psoas","psora","psych","psyop","pubco","pubes","pubis","pucan","pucer","puces","pucka","pucks","puddy","pudge","pudic","pudor","pudsy","pudus","puers","puffa","puffs","puggy","pugil","puhas","pujah","pujas","pukas","puked","puker","pukes","pukey","pukka","pukus","pulao","pulas","puled","puler","pules","pulik","pulis","pulka","pulks","pulli","pulls","pully","pulmo","pulps","pulus","pumas","pumie","pumps","punas","punce","punga","pungs","punji","punka","punks","punky","punny","punto","punts","punty","pupae","pupas","pupus","purda","pured","pures","purin","puris","purls","purpy","purrs","pursy","purty","puses","pusle","pussy","putid","puton","putti","putto","putts","puzel","pwned","pyats","pyets","pygal","pyins","pylon","pyned","pynes","pyoid","pyots","pyral","pyran","pyres","pyrex","pyric","pyros","pyxed","pyxes","pyxie","pyxis","pzazz","qadis","qaids","qajaq","qanat","qapik","qibla","qophs","qorma","quads","quaff","quags","quair","quais","quaky","quale","quant","quare","quass","quate","quats","quayd","quays","qubit","quean","queme","quena","quern","queyn","queys","quich","quids","quiff","quims","quina","quine","quino","quins","quint","quipo","quips","quipu","quire","quirt","quist","quits","quoad","quods","quoif","quoin","quoit","quoll","quonk","quops","qursh","quyte","rabat","rabic","rabis","raced","races","rache","racks","racon","radge","radix","radon","raffs","rafts","ragas","ragde","raged","ragee","rager","rages","ragga","raggs","raggy","ragis","ragus","rahed","rahui","raias","raids","raiks","raile","rails","raine","rains","raird","raita","raits","rajas","rajes","raked","rakee","raker","rakes","rakia","rakis","rakus","rales","ramal","ramee","ramet","ramie","ramin","ramis","rammy","ramps","ramus","ranas","rance","rands","ranee","ranga","rangi","rangs","rangy","ranid","ranis","ranke","ranks","rants","raped","raper","rapes","raphe","rappe","rared","raree","rares","rarks","rased","raser","rases","rasps","rasse","rasta","ratal","ratan","ratas","ratch","rated","ratel","rater","rates","ratha","rathe","raths","ratoo","ratos","ratus","rauns","raupo","raved","ravel","raver","raves","ravey","ravin","rawer","rawin","rawly","rawns","raxed","raxes","rayah","rayas","rayed","rayle","rayne","razed","razee","razer","razes","razoo","readd","reads","reais","reaks","realo","reals","reame","reams","reamy","reans","reaps","rears","reast","reata","reate","reave","rebbe","rebec","rebid","rebit","rebop","rebuy","recal","recce","recco","reccy","recit","recks","recon","recta","recti","recto","redan","redds","reddy","reded","redes","redia","redid","redip","redly","redon","redos","redox","redry","redub","redux","redye","reech","reede","reeds","reefs","reefy","reeks","reeky","reels","reens","reest","reeve","refed","refel","reffo","refis","refix","refly","refry","regar","reges","reggo","regie","regma","regna","regos","regur","rehem","reifs","reify","reiki","reiks","reink","reins","reird","reist","reive","rejig","rejon","reked","rekes","rekey","relet","relie","relit","rello","reman","remap","remen","remet","remex","remix","renay","rends","reney","renga","renig","renin","renne","renos","rente","rents","reoil","reorg","repeg","repin","repla","repos","repot","repps","repro","reran","rerig","resat","resaw","resay","resee","reses","resew","resid","resit","resod","resow","resto","rests","resty","resus","retag","retax","retem","retia","retie","retox","revet","revie","rewan","rewax","rewed","rewet","rewin","rewon","rewth","rexes","rezes","rheas","rheme","rheum","rhies","rhime","rhine","rhody","rhomb","rhone","rhumb","rhyne","rhyta","riads","rials","riant","riata","ribas","ribby","ribes","riced","ricer","rices","ricey","richt","ricin","ricks","rides","ridgy","ridic","riels","riems","rieve","rifer","riffs","rifte","rifts","rifty","riggs","rigol","riled","riles","riley","rille","rills","rimae","rimed","rimer","rimes","rimus","rinds","rindy","rines","rings","rinks","rioja","riots","riped","ripes","ripps","rises","rishi","risks","risps","risus","rites","ritts","ritzy","rivas","rived","rivel","riven","rives","riyal","rizas","roads","roams","roans","roars","roary","roate","robed","robes","roble","rocks","roded","rodes","roguy","rohes","roids","roils","roily","roins","roist","rojak","rojis","roked","roker","rokes","rolag","roles","rolfs","rolls","romal","roman","romeo","romps","ronde","rondo","roneo","rones","ronin","ronne","ronte","ronts","roods","roofs","roofy","rooks","rooky","rooms","roons","roops","roopy","roosa","roose","roots","rooty","roped","roper","ropes","ropey","roque","roral","rores","roric","rorid","rorie","rorts","rorty","rosed","roses","roset","roshi","rosin","rosit","rosti","rosts","rotal","rotan","rotas","rotch","roted","rotes","rotis","rotls","roton","rotos","rotte","rouen","roues","roule","rouls","roums","roups","roupy","roust","routh","routs","roved","roven","roves","rowan","rowed","rowel","rowen","rowie","rowme","rownd","rowth","rowts","royne","royst","rozet","rozit","ruana","rubai","rubby","rubel","rubes","rubin","ruble","rubli","rubus","ruche","rucks","rudas","rudds","rudes","rudie","rudis","rueda","ruers","ruffe","ruffs","rugae","rugal","ruggy","ruing","ruins","rukhs","ruled","rules","rumal","rumbo","rumen","rumes","rumly","rummy","rumpo","rumps","rumpy","runch","runds","runed","runes","rungs","runic","runny","runts","runty","rupia","rurps","rurus","rusas","ruses","rushy","rusks","rusma","russe","rusts","ruths","rutin","rutty","ryals","rybat","ryked","rykes","rymme","rynds","ryots","ryper","saags","sabal","sabed","saber","sabes","sabha","sabin","sabir","sable","sabot","sabra","sabre","sacks","sacra","saddo","sades","sadhe","sadhu","sadis","sados","sadza","safed","safes","sagas","sager","sages","saggy","sagos","sagum","saheb","sahib","saice","saick","saics","saids","saiga","sails","saims","saine","sains","sairs","saist","saith","sajou","sakai","saker","sakes","sakia","sakis","sakti","salal","salat","salep","sales","salet","salic","salix","salle","salmi","salol","salop","salpa","salps","salse","salto","salts","salue","salut","saman","samas","samba","sambo","samek","samel","samen","sames","samey","samfu","sammy","sampi","samps","sands","saned","sanes","sanga","sangh","sango","sangs","sanko","sansa","santo","sants","saola","sapan","sapid","sapor","saran","sards","sared","saree","sarge","sargo","sarin","saris","sarks","sarky","sarod","saros","sarus","saser","sasin","sasse","satai","satay","sated","satem","sates","satis","sauba","sauch","saugh","sauls","sault","saunt","saury","sauts","saved","saver","saves","savey","savin","sawah","sawed","sawer","saxes","sayed","sayer","sayid","sayne","sayon","sayst","sazes","scabs","scads","scaff","scags","scail","scala","scall","scams","scand","scans","scapa","scape","scapi","scarp","scars","scart","scath","scats","scatt","scaud","scaup","scaur","scaws","sceat","scena","scend","schav","schmo","schul","schwa","sclim","scody","scogs","scoog","scoot","scopa","scops","scots","scoug","scoup","scowp","scows","scrab","scrae","scrag","scran","scrat","scraw","scray","scrim","scrip","scrob","scrod","scrog","scrow","scudi","scudo","scuds","scuff","scuft","scugs","sculk","scull","sculp","sculs","scums","scups","scurf","scurs","scuse","scuta","scute","scuts","scuzz","scyes","sdayn","sdein","seals","seame","seams","seamy","seans","seare","sears","sease","seats","seaze","sebum","secco","sechs","sects","seder","sedes","sedge","sedgy","sedum","seeds","seeks","seeld","seels","seely","seems","seeps","seepy","seers","sefer","segar","segni","segno","segol","segos","sehri","seifs","seils","seine","seirs","seise","seism","seity","seiza","sekos","sekts","selah","seles","selfs","sella","selle","sells","selva","semee","semes","semie","semis","senas","sends","senes","sengi","senna","senor","sensa","sensi","sente","senti","sents","senvy","senza","sepad","sepal","sepic","sepoy","septa","septs","serac","serai","seral","sered","serer","seres","serfs","serge","seric","serin","serks","seron","serow","serra","serre","serrs","serry","servo","sesey","sessa","setae","setal","seton","setts","sewan","sewar","sewed","sewel","sewen","sewin","sexed","sexer","sexes","sexto","sexts","seyen","shads","shags","shahs","shako","shakt","shalm","shaly","shama","shams","shand","shans","shaps","sharn","shash","shaul","shawm","shawn","shaws","shaya","shays","shchi","sheaf","sheal","sheas","sheds","sheel","shend","shent","sheol","sherd","shere","shero","shets","sheva","shewn","shews","shiai","shiel","shier","shies","shill","shily","shims","shins","ships","shirr","shirs","shish","shiso","shist","shite","shits","shiur","shiva","shive","shivs","shlep","shlub","shmek","shmoe","shoat","shoed","shoer","shoes","shogi","shogs","shoji","shojo","shola","shool","shoon","shoos","shope","shops","shorl","shote","shots","shott","showd","shows","shoyu","shred","shris","shrow","shtik","shtum","shtup","shule","shuln","shuls","shuns","shura","shute","shuts","shwas","shyer","sials","sibbs","sibyl","sices","sicht","sicko","sicks","sicky","sidas","sided","sider","sides","sidha","sidhe","sidle","sield","siens","sient","sieth","sieur","sifts","sighs","sigil","sigla","signa","signs","sijos","sikas","siker","sikes","silds","siled","silen","siler","siles","silex","silks","sills","silos","silts","silty","silva","simar","simas","simba","simis","simps","simul","sinds","sined","sines","sings","sinhs","sinks","sinky","sinus","siped","sipes","sippy","sired","siree","sires","sirih","siris","siroc","sirra","sirup","sisal","sises","sista","sists","sitar","sited","sites","sithe","sitka","situp","situs","siver","sixer","sixes","sixmo","sixte","sizar","sized","sizel","sizer","sizes","skags","skail","skald","skank","skart","skats","skatt","skaws","skean","skear","skeds","skeed","skeef","skeen","skeer","skees","skeet","skegg","skegs","skein","skelf","skell","skelm","skelp","skene","skens","skeos","skeps","skers","skets","skews","skids","skied","skies","skiey","skimo","skims","skink","skins","skint","skios","skips","skirl","skirr","skite","skits","skive","skivy","sklim","skoal","skody","skoff","skogs","skols","skool","skort","skosh","skran","skrik","skuas","skugs","skyed","skyer","skyey","skyfs","skyre","skyrs","skyte","slabs","slade","slaes","slags","slaid","slake","slams","slane","slank","slaps","slart","slats","slaty","slaws","slays","slebs","sleds","sleer","slews","sleys","slier","slily","slims","slipe","slips","slipt","slish","slits","slive","sloan","slobs","sloes","slogs","sloid","slojd","slomo","sloom","sloot","slops","slopy","slorm","slots","slove","slows","sloyd","slubb","slubs","slued","slues","sluff","slugs","sluit","slums","slurb","slurs","sluse","sluts","slyer","slype","smaak","smaik","smalm","smalt","smarm","smaze","smeek","smees","smeik","smeke","smerk","smews","smirr","smirs","smits","smogs","smoko","smolt","smoor","smoot","smore","smorg","smout","smowt","smugs","smurs","smush","smuts","snabs","snafu","snags","snaps","snarf","snark","snars","snary","snash","snath","snaws","snead","sneap","snebs","sneck","sneds","sneed","snees","snell","snibs","snick","snies","snift","snigs","snips","snipy","snirt","snits","snobs","snods","snoek","snoep","snogs","snoke","snood","snook","snool","snoot","snots","snowk","snows","snubs","snugs","snush","snyes","soaks","soaps","soare","soars","soave","sobas","socas","soces","socko","socks","socle","sodas","soddy","sodic","sodom","sofar","sofas","softa","softs","softy","soger","sohur","soils","soily","sojas","sojus","sokah","soken","sokes","sokol","solah","solan","solas","solde","soldi","soldo","solds","soled","solei","soler","soles","solon","solos","solum","solus","soman","somas","sonce","sonde","sones","songs","sonly","sonne","sonny","sonse","sonsy","sooey","sooks","sooky","soole","sools","sooms","soops","soote","soots","sophs","sophy","sopor","soppy","sopra","soral","soras","sorbo","sorbs","sorda","sordo","sords","sored","soree","sorel","sorer","sores","sorex","sorgo","sorns","sorra","sorta","sorts","sorus","soths","sotol","souce","souct","sough","souks","souls","soums","soups","soupy","sours","souse","souts","sowar","sowce","sowed","sowff","sowfs","sowle","sowls","sowms","sownd","sowne","sowps","sowse","sowth","soyas","soyle","soyuz","sozin","spacy","spado","spaed","spaer","spaes","spags","spahi","spail","spain","spait","spake","spald","spale","spall","spalt","spams","spane","spang","spans","spard","spars","spart","spate","spats","spaul","spawl","spaws","spayd","spays","spaza","spazz","speal","spean","speat","specs","spect","speel","speer","speil","speir","speks","speld","spelk","speos","spets","speug","spews","spewy","spial","spica","spick","spics","spide","spier","spies","spiff","spifs","spiks","spile","spims","spina","spink","spins","spirt","spiry","spits","spitz","spivs","splay","splog","spode","spods","spoom","spoor","spoot","spork","sposh","spots","sprad","sprag","sprat","spred","sprew","sprit","sprod","sprog","sprue","sprug","spuds","spued","spuer","spues","spugs","spule","spume","spumy","spurs","sputa","spyal","spyre","squab","squaw","squeg","squid","squit","squiz","stabs","stade","stags","stagy","staig","stane","stang","staph","staps","starn","starr","stars","stats","staun","staws","stays","stean","stear","stedd","stede","steds","steek","steem","steen","steil","stela","stele","stell","steme","stems","stend","steno","stens","stent","steps","stept","stere","stets","stews","stewy","steys","stich","stied","sties","stilb","stile","stime","stims","stimy","stipa","stipe","stire","stirk","stirp","stirs","stive","stivy","stoae","stoai","stoas","stoat","stobs","stoep","stogy","stoit","stoln","stoma","stond","stong","stonk","stonn","stook","stoor","stope","stops","stopt","stoss","stots","stott","stoun","stoup","stour","stown","stowp","stows","strad","strae","strag","strak","strep","strew","stria","strig","strim","strop","strow","stroy","strum","stubs","stude","studs","stull","stulm","stumm","stums","stuns","stupa","stupe","sture","sturt","styed","styes","styli","stylo","styme","stymy","styre","styte","subah","subas","subby","suber","subha","succi","sucks","sucky","sucre","sudds","sudor","sudsy","suede","suent","suers","suete","suets","suety","sugan","sughs","sugos","suhur","suids","suint","suits","sujee","sukhs","sukuk","sulci","sulfa","sulfo","sulks","sulph","sulus","sumis","summa","sumos","sumph","sumps","sunis","sunks","sunna","sunns","sunup","supes","supra","surah","sural","suras","surat","surds","sured","sures","surfs","surfy","surgy","surra","sused","suses","susus","sutor","sutra","sutta","swabs","swack","swads","swage","swags","swail","swain","swale","swaly","swamy","swang","swank","swans","swaps","swapt","sward","sware","swarf","swart","swats","swayl","sways","sweal","swede","sweed","sweel","sweer","swees","sweir","swelt","swerf","sweys","swies","swigs","swile","swims","swink","swipe","swire","swiss","swith","swits","swive","swizz","swobs","swole","swoln","swops","swopt","swots","swoun","sybbe","sybil","syboe","sybow","sycee","syces","sycon","syens","syker","sykes","sylis","sylph","sylva","symar","synch","syncs","synds","syned","synes","synth","syped","sypes","syphs","syrah","syren","sysop","sythe","syver","taals","taata","taber","tabes","tabid","tabis","tabla","tabor","tabun","tabus","tacan","taces","tacet","tache","tacho","tachs","tacks","tacos","tacts","taels","tafia","taggy","tagma","tahas","tahrs","taiga","taigs","taiko","tails","tains","taira","taish","taits","tajes","takas","takes","takhi","takin","takis","takky","talak","talaq","talar","talas","talcs","talcy","talea","taler","tales","talks","talky","talls","talma","talpa","taluk","talus","tamal","tamed","tames","tamin","tamis","tammy","tamps","tanas","tanga","tangi","tangs","tanhs","tanka","tanks","tanky","tanna","tansy","tanti","tanto","tanty","tapas","taped","tapen","tapes","tapet","tapis","tappa","tapus","taras","tardo","tared","tares","targa","targe","tarns","taroc","tarok","taros","tarps","tarre","tarry","tarsi","tarts","tarty","tasar","tased","taser","tases","tasks","tassa","tasse","tasso","tatar","tater","tates","taths","tatie","tatou","tatts","tatus","taube","tauld","tauon","taupe","tauts","tavah","tavas","taver","tawai","tawas","tawed","tawer","tawie","tawse","tawts","taxed","taxer","taxes","taxis","taxol","taxon","taxor","taxus","tayra","tazza","tazze","teade","teads","teaed","teaks","teals","teams","tears","teats","teaze","techs","techy","tecta","teels","teems","teend","teene","teens","teeny","teers","teffs","teggs","tegua","tegus","tehrs","teiid","teils","teind","teins","telae","telco","teles","telex","telia","telic","tells","telly","teloi","telos","temed","temes","tempi","temps","tempt","temse","tench","tends","tendu","tenes","tenge","tenia","tenne","tenno","tenny","tenon","tents","tenty","tenue","tepal","tepas","tepoy","terai","teras","terce","terek","teres","terfe","terfs","terga","terms","terne","terns","terry","terts","tesla","testa","teste","tests","tetes","teths","tetra","tetri","teuch","teugh","tewed","tewel","tewit","texas","texes","texts","thack","thagi","thaim","thale","thali","thana","thane","thang","thans","thanx","tharm","thars","thaws","thawy","thebe","theca","theed","theek","thees","thegn","theic","thein","thelf","thema","thens","theow","therm","thesp","thete","thews","thewy","thigs","thilk","thill","thine","thins","thiol","thirl","thoft","thole","tholi","thoro","thorp","thous","thowl","thrae","thraw","thrid","thrip","throe","thuds","thugs","thuja","thunk","thurl","thuya","thymi","thymy","tians","tiars","tical","ticca","ticed","tices","tichy","ticks","ticky","tiddy","tided","tides","tiers","tiffs","tifos","tifts","tiges","tigon","tikas","tikes","tikis","tikka","tilak","tiled","tiler","tiles","tills","tilly","tilth","tilts","timbo","timed","times","timon","timps","tinas","tinct","tinds","tinea","tined","tines","tinge","tings","tinks","tinny","tints","tinty","tipis","tippy","tired","tires","tirls","tiros","tirrs","titch","titer","titis","titre","titty","titup","tiyin","tiyns","tizes","tizzy","toads","toady","toaze","tocks","tocky","tocos","todde","toeas","toffs","toffy","tofts","tofus","togae","togas","toged","toges","togue","tohos","toile","toils","toing","toise","toits","tokay","toked","toker","tokes","tokos","tolan","tolar","tolas","toled","toles","tolls","tolly","tolts","tolus","tolyl","toman","tombs","tomes","tomia","tommy","tomos","tondi","tondo","toned","toner","tones","toney","tongs","tonka","tonks","tonne","tonus","tools","tooms","toons","toots","toped","topee","topek","toper","topes","tophe","tophi","tophs","topis","topoi","topos","toppy","toque","torah","toran","toras","torcs","tores","toric","torii","toros","torot","torrs","torse","torsi","torsk","torta","torte","torts","tosas","tosed","toses","toshy","tossy","toted","toter","totes","totty","touks","touns","tours","touse","tousy","touts","touze","touzy","towed","towie","towns","towny","towse","towsy","towts","towze","towzy","toyed","toyer","toyon","toyos","tozed","tozes","tozie","trabs","trads","tragi","traik","trams","trank","tranq","trans","trant","trape","traps","trapt","trass","trats","tratt","trave","trayf","trays","treck","treed","treen","trees","trefa","treif","treks","trema","trems","tress","trest","trets","trews","treyf","treys","triac","tride","trier","tries","triff","trigo","trigs","trike","trild","trill","trims","trine","trins","triol","trior","trios","trips","tripy","trist","troad","troak","troat","trock","trode","trods","trogs","trois","troke","tromp","trona","tronc","trone","tronk","trons","trooz","troth","trots","trows","troys","trued","trues","trugo","trugs","trull","tryer","tryke","tryma","tryps","tsade","tsadi","tsars","tsked","tsuba","tsubo","tuans","tuart","tuath","tubae","tubar","tubas","tubby","tubed","tubes","tucks","tufas","tuffe","tuffs","tufts","tufty","tugra","tuile","tuina","tuism","tuktu","tules","tulpa","tulsi","tumid","tummy","tumps","tumpy","tunas","tunds","tuned","tuner","tunes","tungs","tunny","tupek","tupik","tuple","tuque","turds","turfs","turfy","turks","turme","turms","turns","turnt","turps","turrs","tushy","tusks","tusky","tutee","tutti","tutty","tutus","tuxes","tuyer","twaes","twain","twals","twank","twats","tways","tweel","tween","tweep","tweer","twerk","twerp","twier","twigs","twill","twilt","twink","twins","twiny","twire","twirp","twite","twits","twoer","twyer","tyees","tyers","tyiyn","tykes","tyler","tymps","tynde","tyned","tynes","typal","typed","types","typey","typic","typos","typps","typto","tyran","tyred","tyres","tyros","tythe","tzars","udals","udons","ugali","ugged","uhlan","uhuru","ukase","ulama","ulans","ulema","ulmin","ulnad","ulnae","ulnar","ulnas","ulpan","ulvas","ulyie","ulzie","umami","umbel","umber","umble","umbos","umbre","umiac","umiak","umiaq","ummah","ummas","ummed","umped","umphs","umpie","umpty","umrah","umras","unais","unapt","unarm","unary","unaus","unbag","unban","unbar","unbed","unbid","unbox","uncap","unces","uncia","uncos","uncoy","uncus","undam","undee","undos","undug","uneth","unfix","ungag","unget","ungod","ungot","ungum","unhat","unhip","unica","units","unjam","unked","unket","unkid","unlaw","unlay","unled","unlet","unlid","unman","unmew","unmix","unpay","unpeg","unpen","unpin","unred","unrid","unrig","unrip","unsaw","unsay","unsee","unsew","unsex","unsod","untax","untin","unwet","unwit","unwon","upbow","upbye","updos","updry","upend","upjet","uplay","upled","uplit","upped","upran","uprun","upsee","upsey","uptak","upter","uptie","uraei","urali","uraos","urare","urari","urase","urate","urbex","urbia","urdee","ureal","ureas","uredo","ureic","urena","urent","urged","urger","urges","urial","urite","urman","urnal","urned","urped","ursae","ursid","urson","urubu","urvas","users","usnea","usque","usure","usury","uteri","uveal","uveas","uvula","vacua","vaded","vades","vagal","vagus","vails","vaire","vairs","vairy","vakas","vakil","vales","valis","valse","vamps","vampy","vanda","vaned","vanes","vangs","vants","vaped","vaper","vapes","varan","varas","vardy","varec","vares","varia","varix","varna","varus","varve","vasal","vases","vasts","vasty","vatic","vatus","vauch","vaute","vauts","vawte","vaxes","veale","veals","vealy","veena","veeps","veers","veery","vegas","veges","vegie","vegos","vehme","veils","veily","veins","veiny","velar","velds","veldt","veles","vells","velum","venae","venal","vends","vendu","veney","venge","venin","vents","venus","verbs","verra","verry","verst","verts","vertu","vespa","vesta","vests","vetch","vexed","vexer","vexes","vexil","vezir","vials","viand","vibes","vibex","vibey","viced","vices","vichy","viers","views","viewy","vifda","viffs","vigas","vigia","vilde","viler","villi","vills","vimen","vinal","vinas","vinca","vined","viner","vines","vinew","vinic","vinos","vints","viold","viols","vired","vireo","vires","virga","virge","virid","virls","virtu","visas","vised","vises","visie","visne","vison","visto","vitae","vitas","vitex","vitro","vitta","vivas","vivat","vivda","viver","vives","vizir","vizor","vleis","vlies","vlogs","voars","vocab","voces","voddy","vodou","vodun","voema","vogie","voids","voile","voips","volae","volar","voled","voles","volet","volks","volta","volte","volti","volts","volva","volve","vomer","voted","votes","vouge","voulu","vowed","vower","voxel","vozhd","vraic","vrils","vroom","vrous","vrouw","vrows","vuggs","vuggy","vughs","vughy","vulgo","vulns","vulva","vutty","waacs","wacke","wacko","wacks","wadds","waddy","waded","wader","wades","wadge","wadis","wadts","waffs","wafts","waged","wages","wagga","wagyu","wahoo","waide","waifs","waift","wails","wains","wairs","waite","waits","wakas","waked","waken","waker","wakes","wakfs","waldo","walds","waled","waler","wales","walie","walis","walks","walla","walls","wally","walty","wamed","wames","wamus","wands","waned","wanes","waney","wangs","wanks","wanky","wanle","wanly","wanna","wants","wanty","wanze","waqfs","warbs","warby","wards","wared","wares","warez","warks","warms","warns","warps","warre","warst","warts","wases","washy","wasms","wasps","waspy","wasts","watap","watts","wauff","waugh","wauks","waulk","wauls","waurs","waved","waves","wavey","wawas","wawes","wawls","waxed","waxer","waxes","wayed","wazir","wazoo","weald","weals","weamb","weans","wears","webby","weber","wecht","wedel","wedgy","weeds","weeke","weeks","weels","weems","weens","weeny","weeps","weepy","weest","weete","weets","wefte","wefts","weids","weils","weirs","weise","weize","wekas","welds","welke","welks","welkt","wells","welly","welts","wembs","wends","wenge","wenny","wents","weros","wersh","wests","wetas","wetly","wexed","wexes","whamo","whams","whang","whaps","whare","whata","whats","whaup","whaur","wheal","whear","wheen","wheep","wheft","whelk","whelm","whens","whets","whews","wheys","whids","whift","whigs","whilk","whims","whins","whios","whips","whipt","whirr","whirs","whish","whiss","whist","whits","whity","whizz","whomp","whoof","whoot","whops","whore","whorl","whort","whoso","whows","whump","whups","whyda","wicca","wicks","wicky","widdy","wides","wiels","wifed","wifes","wifey","wifie","wifty","wigan","wigga","wiggy","wikis","wilco","wilds","wiled","wiles","wilga","wilis","wilja","wills","wilts","wimps","winds","wined","wines","winey","winge","wings","wingy","winks","winna","winns","winos","winze","wiped","wiper","wipes","wired","wirer","wires","wirra","wised","wises","wisha","wisht","wisps","wists","witan","wited","wites","withe","withs","withy","wived","wiver","wives","wizen","wizes","woads","woald","wocks","wodge","woful","wojus","woker","wokka","wolds","wolfs","wolly","wolve","wombs","womby","womyn","wonga","wongi","wonks","wonky","wonts","woods","wooed","woofs","woofy","woold","wools","woons","woops","woopy","woose","woosh","wootz","words","works","worms","wormy","worts","wowed","wowee","woxen","wrang","wraps","wrapt","wrast","wrate","wrawl","wrens","wrick","wried","wrier","wries","writs","wroke","wroot","wroth","wryer","wuddy","wudus","wulls","wurst","wuses","wushu","wussy","wuxia","wyled","wyles","wynds","wynns","wyted","wytes","xebec","xenia","xenic","xenon","xeric","xerox","xerus","xoana","xrays","xylan","xylem","xylic","xylol","xylyl","xysti","xysts","yaars","yabas","yabba","yabby","yacca","yacka","yacks","yaffs","yager","yages","yagis","yahoo","yaird","yakka","yakow","yales","yamen","yampy","yamun","yangs","yanks","yapok","yapon","yapps","yappy","yarak","yarco","yards","yarer","yarfa","yarks","yarns","yarrs","yarta","yarto","yates","yauds","yauld","yaups","yawed","yawey","yawls","yawns","yawny","yawps","ybore","yclad","ycled","ycond","ydrad","ydred","yeads","yeahs","yealm","yeans","yeard","years","yecch","yechs","yechy","yedes","yeeds","yeesh","yeggs","yelks","yells","yelms","yelps","yelts","yenta","yente","yerba","yerds","yerks","yeses","yesks","yests","yesty","yetis","yetts","yeuks","yeuky","yeven","yeves","yewen","yexed","yexes","yfere","yiked","yikes","yills","yince","yipes","yippy","yirds","yirks","yirrs","yirth","yites","yitie","ylems","ylike","ylkes","ymolt","ympes","yobbo","yobby","yocks","yodel","yodhs","yodle","yogas","yogee","yoghs","yogic","yogin","yogis","yoick","yojan","yoked","yokel","yoker","yokes","yokul","yolks","yolky","yomim","yomps","yonic","yonis","yonks","yoofs","yoops","yores","yorks","yorps","youks","yourn","yours","yourt","youse","yowed","yowes","yowie","yowls","yowza","yrapt","yrent","yrivd","yrneh","ysame","ytost","yuans","yucas","yucca","yucch","yucko","yucks","yucky","yufts","yugas","yuked","yukes","yukky","yukos","yulan","yules","yummo","yummy","yumps","yupon","yuppy","yurta","yurts","yuzus","zabra","zacks","zaida","zaidy","zaire","zakat","zaman","zambo","zamia","zanja","zante","zanza","zanze","zappy","zarfs","zaris","zatis","zaxes","zayin","zazen","zeals","zebec","zebub","zebus","zedas","zeins","zendo","zerda","zerks","zeros","zests","zetas","zexes","zezes","zhomo","zibet","ziffs","zigan","zilas","zilch","zilla","zills","zimbi","zimbs","zinco","zincs","zincy","zineb","zines","zings","zingy","zinke","zinky","zippo","zippy","ziram","zitis","zizel","zizit","zlote","zloty","zoaea","zobos","zobus","zocco","zoeae","zoeal","zoeas","zoism","zoist","zombi","zonae","zonda","zoned","zoner","zones","zonks","zooea","zooey","zooid","zooks","zooms","zoons","zooty","zoppa","zoppo","zoril","zoris","zorro","zouks","zowee","zowie","zulus","zupan","zupas","zuppa","zurfs","zuzim","zygal","zygon","zymes","zymic"]},Oe=6,Rt=5,Hd=15,cr={...wo,contains:s=>wo.words.includes(s)||wo.valid.includes(s)};function Ib(s){switch(s%10){case 1:return`${s}st`;case 2:return`${s}nd`;case 3:return`${s}rd`;default:return`${s}th`}}const nn=["qwertyuiop","asdfghjkl","zxcvbnm"];function gn(s,e){const t=e??Date.now();switch(s){case ut.daily:return Date.UTC(1970,0,1+Math.floor((t-new Date().getTimezoneOffset()*Ze.MINUTE)/Ze.DAY));case ut.hourly:return t-t%Ze.HOUR;case ut.infinite:return t-t%Ze.SECOND}}const me={default:ut.daily,modes:[{name:"Daily",unit:Ze.DAY,start:16423704e5,seed:gn(ut.daily),historical:!1,streak:!0,useTimeZone:!0},{name:"Hourly",unit:Ze.HOUR,start:16425288e5,seed:gn(ut.hourly),historical:!1,icon:"m50,7h100v33c0,40 -35,40 -35,60c0,20 35,20 35,60v33h-100v-33c0,-40 35,-40 35,-60c0,-20 -35,-20 -35,-60z",streak:!0},{name:"Infinite",unit:Ze.SECOND,start:16424286e5,seed:gn(ut.infinite),historical:!1,icon:"m7,100c0,-50 68,-50 93,0c25,50 93,50 93,0c0,-50 -68,-50 -93,0c-25,50 -93,50 -93,0z"},{name:"Session",unit:0,start:0,seed:0,historical:!1,icon:"m20,20h160v20h-160zm0,40h160v20h-160zm0,40h160v20h-160zm0,40h160v20h-160z",sessionId:""}]};function Hs(s,e){const t=e?gn(s):me.modes[s].seed;return Math.round((t-me.modes[s].start)/me.modes[s].unit)+1}function Wd(s,e,t){const n=Tb(`${t}`);return Math.floor(s+(e-s)*n())}const bs=200,Bo=["Genius","Magnificent","Impressive","Splendid","Great","Phew"];class qi{toString(){return JSON.stringify(this)}}var yn,kr;class Ho extends qi{constructor(t,n){super();oe(this,"active");oe(this,"guesses");oe(this,"validHard");oe(this,"time");oe(this,"wordNumber");oe(this,"board");Jn(this,yn,!1);Jn(this,kr,void 0);ps(this,kr,t),n&&this.parse(n),Os(this,yn)||(this.active=!0,this.guesses=0,this.validHard=!0,this.time=me.modes[t].seed,this.wordNumber=Hs(t),this.board={words:Array(Oe).fill(""),state:Array.from({length:Oe},()=>Array(Rt).fill(""))},ps(this,yn,!0))}get latestWord(){return this.board.words[this.guesses]}get lastState(){return this.board.state[this.guesses-1]}get lastWord(){return this.board.words[this.guesses-1]}checkHardMode(){for(let t=0;t<Rt;++t)if(this.board.state[this.guesses-1][t]===""&&this.board.words[this.guesses-1][t]!==this.board.words[this.guesses][t])return{pos:t,char:this.board.words[this.guesses-1][t],type:""};for(let t=0;t<Rt;++t)if(this.board.state[this.guesses-1][t]===""&&!this.board.words[this.guesses].includes(this.board.words[this.guesses-1][t]))return{pos:t,char:this.board.words[this.guesses-1][t],type:""};return{pos:-1,char:"",type:""}}guess(t){const n=t.split(""),r=Array(Rt).fill("");for(let i=0;i<Rt;++i)n[i]===this.latestWord.charAt(i)&&(r[i]="",n[i]="$");for(let i=0;i<Rt;++i){const o=n.indexOf(this.latestWord[i]);r[i]!==""&&o>=0&&(n[o]="$",r[i]="")}return r}parse(t){const n=JSON.parse(t);n.wordNumber===Hs(Os(this,kr))&&(this.active=n.active,this.guesses=n.guesses,this.validHard=n.validHard,this.time=n.time,this.wordNumber=n.wordNumber,this.board=n.board,ps(this,yn,!0))}}yn=new WeakMap,kr=new WeakMap;let Gd=class extends qi{constructor(t){super();oe(this,"hard",new Array(me.modes.length).fill(!1));oe(this,"dark",!0);oe(this,"colorblind",!1);oe(this,"tutorial",3);if(t){const n=JSON.parse(t);this.hard=n.hard,this.dark=n.dark,this.colorblind=n.colorblind,this.tutorial=n.tutorial}}};var ys;class Ab extends qi{constructor(t){super();oe(this,"played",0);oe(this,"lastGame",0);oe(this,"guesses",{fail:0,1:0,2:0,3:0,4:0,5:0,6:0});oe(this,"streak");oe(this,"maxStreak");Jn(this,ys,!1);typeof t=="string"?this.parse(t):me.modes[t].streak&&(this.streak=0,this.maxStreak=0,ps(this,ys,!0))}parse(t){const n=JSON.parse(t);this.played=n.played,this.lastGame=n.lastGame,this.guesses=n.guesses,n.streak!=null&&(this.streak=n.streak,this.maxStreak=n.maxStreak,ps(this,ys,!0))}addWin(t,n){++this.guesses[t],++this.played,Os(this,ys)&&(this.streak=n.seed-this.lastGame>n.unit?1:this.streak+1,this.maxStreak=Math.max(this.streak,this.maxStreak)),this.lastGame=n.seed}addLoss(t){++this.guesses.fail,++this.played,Os(this,ys)&&(this.streak=0),this.lastGame=t.seed}get hasStreak(){return Os(this,ys)}}ys=new WeakMap;class wr{constructor(e){oe(this,"a","");oe(this,"b","");oe(this,"c","");oe(this,"d","");oe(this,"e","");oe(this,"f","");oe(this,"g","");oe(this,"h","");oe(this,"i","");oe(this,"j","");oe(this,"k","");oe(this,"l","");oe(this,"m","");oe(this,"n","");oe(this,"o","");oe(this,"p","");oe(this,"q","");oe(this,"r","");oe(this,"s","");oe(this,"t","");oe(this,"u","");oe(this,"v","");oe(this,"w","");oe(this,"x","");oe(this,"y","");oe(this,"z","");if(e)for(let t=0;t<Oe;++t)for(let n=0;n<e.words[t].length;++n)(this[e.words[t][n]]===""||e.state[t][n]==="")&&(this[e.words[t][n]]=e.state[t][n])}update(e,t){e.forEach((n,r)=>{(this[t[r]]===""||n==="")&&(this[t[r]]=n)})}}function Wo(s){return s.useTimeZone?s.unit-(Date.now()-(s.seed+new Date().getTimezoneOffset()*Ze.MINUTE)):s.unit-(Date.now()-s.seed)}function Go(s){return!(s.active||s.guesses>0&&s.board.state[s.guesses-1].join("")==="".repeat(Rt))}var _n;class Sb extends qi{constructor(t,n){super();oe(this,"sessionId");oe(this,"currentWordIndex");oe(this,"completed");oe(this,"startTime");oe(this,"endTime");oe(this,"wordResults");oe(this,"currentWord");oe(this,"currentHint");oe(this,"currentWordLength");oe(this,"board");oe(this,"guesses");oe(this,"active");Jn(this,_n,!1);this.sessionId=t,n&&this.parse(n),Os(this,_n)||(this.currentWordIndex=0,this.completed=!1,this.startTime=Date.now(),this.wordResults=[],this.currentWord="",this.currentHint="",this.currentWordLength=0,this.board={words:Array(Oe).fill(""),state:Array.from({length:Oe},()=>Array(Hd).fill(""))},this.guesses=0,this.active=!0,ps(this,_n,!0))}get latestWord(){return this.board.words[this.guesses]}get lastState(){return this.board.state[this.guesses-1]}get lastWord(){return this.board.words[this.guesses-1]}guess(t,n){const r=t.split(""),i=n.split(""),o=Array(t.length).fill("");for(let u=0;u<t.length;++u)r[u]===i[u]&&(o[u]="",r[u]="$",i[u]="$");for(let u=0;u<t.length;++u)if(o[u]!==""){const l=i.indexOf(r[u]);l>=0&&(i[l]="$",o[u]="")}return o}parse(t){try{const n=JSON.parse(t);this.sessionId=n.sessionId,this.currentWordIndex=n.currentWordIndex,this.completed=n.completed,this.startTime=n.startTime,this.endTime=n.endTime,this.wordResults=n.wordResults||[],this.currentWord=n.currentWord||"",this.currentHint=n.currentHint||"",this.currentWordLength=n.currentWordLength||0,this.board=n.board,this.guesses=n.guesses,this.active=n.active,ps(this,_n,!0)}catch{}}}_n=new WeakMap;function Rb(s){return s.length>=3&&s.length<=Hd&&/^[a-zA-Z]+$/.test(s)}const St=class St{constructor(e,t=St.noop){oe(this,"stop");oe(this,"start");oe(this,"value");oe(this,"subscribers");this.subscribers=new Set,this.start=t,this.value=e}set(e,t=!1){if((t||St.safe_not_equal(this.value,e))&&(this.value=e,stop)){const n=!St.subscriber_queue.length;for(const r of this.subscribers)r[1](),St.subscriber_queue.push(r,this.value);if(n){for(let r=0;r<St.subscriber_queue.length;r+=2)St.subscriber_queue[r][0](St.subscriber_queue[r+1]);St.subscriber_queue.length=0}}}update(e){this.set(e(this.value))}subscribe(e,t=St.noop){const n=[e,t];return this.subscribers.add(n),this.subscribers.size===1&&(this.stop=this.start(this.set)||St.noop),e(this.value),()=>{this.subscribers.delete(n),this.subscribers.size===0&&(this.stop(),this.stop=null)}}static safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}static noop(){return null}};oe(St,"subscriber_queue",[]);let Ko=St;const $e=new Ko,ts=qd(new wr),zt=qd(new Gd);function Cb(s){let e,t,n;return{c(){e=z("div"),e.innerHTML=`share
	<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path fill="white" d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"></path></svg>`,V(e,"class","svelte-gyq5p4")},m(r,i){L(r,e,i),t||(n=[ae(e,"click",s[0]),ae(e,"keydown",s[0])],t=!0)},p:re,i:re,o:re,d(r){r&&j(e),t=!1,xe(n)}}}function Pb(s,e,t){let n;Tt(s,$e,u=>t(2,n=u));let{state:r}=e;const i=Pn("toaster");function o(){navigator.clipboard.writeText(`${me.modes[n].name} Wordle+ #${r.wordNumber} ${Go(r)?"X":r.guesses}/${r.board.words.length}

    ${r.board.state.slice(0,r.guesses).map(u=>u.join("")).join(`
    `)}
mikhad.github.io/wordle`),i.pop("Copied")}return s.$$set=u=>{"state"in u&&t(1,r=u.state)},[o,r]}class Vb extends Ce{constructor(e){super(),Re(this,e,Pb,Cb,Ie,{state:1})}}function Db(s){let e,t,n,r,i,o,u;return{c(){e=z("div"),t=z("div"),n=H(s[0]),r=$(),i=z("div"),o=H(s[0]),V(t,"class","front svelte-frmspd"),V(i,"class","back svelte-frmspd"),V(e,"data-animation",s[5]),V(e,"class",u="tile "+s[1]+" "+s[3]+" svelte-frmspd"),Ct(e,"transition-delay",s[2]*bs+"ms"),Se(e,"value",s[0]),Se(e,"pop",s[4])},m(l,c){L(l,e,c),T(e,t),T(t,n),T(e,r),T(e,i),T(i,o)},p(l,[c]){c&1&&ue(n,l[0]),c&1&&ue(o,l[0]),c&32&&V(e,"data-animation",l[5]),c&10&&u!==(u="tile "+l[1]+" "+l[3]+" svelte-frmspd")&&V(e,"class",u),c&4&&Ct(e,"transition-delay",l[2]*bs+"ms"),c&11&&Se(e,"value",l[0]),c&26&&Se(e,"pop",l[4])},i:re,o:re,d(l){l&&j(e)}}}function Nb(s,e,t){let{value:n=""}=e,{state:r}=e,{position:i=0}=e;function o(){setTimeout(()=>t(5,c="bounce"),(Oe+i)*bs)}let u,l=!1,c="";const h=$e.subscribe(()=>{t(5,c=""),t(3,u=""),setTimeout(()=>t(3,u=""),10)});return setTimeout(()=>t(4,l=!0),200),Ri(h),s.$$set=f=>{"value"in f&&t(0,n=f.value),"state"in f&&t(1,r=f.state),"position"in f&&t(2,i=f.position)},s.$$.update=()=>{s.$$.dirty&1&&!n&&t(5,c="")},[n,r,i,u,l,c,o]}class gt extends Ce{constructor(e){super(),Re(this,e,Nb,Db,Ie,{value:0,state:1,position:2,bounce:6})}get bounce(){return this.$$.ctx[6]}}function tc(s,e,t){const n=s.slice();return n[16]=e[t],n[17]=e,n[18]=t,n}function sc(s){let e,t=s[18],n;const r=()=>s[11](e,t),i=()=>s[11](null,t);let o={state:s[3][s[18]],value:s[2].charAt(s[18]),position:s[18]};return e=new gt({props:o}),r(),{c(){se(e.$$.fragment)},m(u,l){Z(e,u,l),n=!0},p(u,l){t!==u[18]&&(i(),t=u[18],r());const c={};l&8&&(c.state=u[3][u[18]]),l&4&&(c.value=u[2].charAt(u[18])),e.$set(c)},i(u){n||(U(e.$$.fragment,u),n=!0)},o(u){q(e.$$.fragment,u),n=!1},d(u){i(),ee(e,u)}}}function zb(s){let e,t,n,r,i=Array(s[6]),o=[];for(let l=0;l<i.length;l+=1)o[l]=sc(tc(s,i,l));const u=l=>q(o[l],1,1,()=>{o[l]=null});return{c(){e=z("div");for(let l=0;l<o.length;l+=1)o[l].c();V(e,"class","board-row svelte-ssibky"),V(e,"data-animation",s[4]),Se(e,"complete",s[0]>s[1])},m(l,c){L(l,e,c);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(e,null);t=!0,n||(r=[ae(e,"contextmenu",ei(s[12])),ae(e,"dblclick",ei(s[13])),ae(e,"touchstart",s[8]),ae(e,"animationend",s[14])],n=!0)},p(l,[c]){if(c&108){i=Array(l[6]);let h;for(h=0;h<i.length;h+=1){const f=tc(l,i,h);o[h]?(o[h].p(f,c),U(o[h],1)):(o[h]=sc(f),o[h].c(),U(o[h],1),o[h].m(e,null))}for(Xe(),h=i.length;h<o.length;h+=1)u(h);Ye()}(!t||c&16)&&V(e,"data-animation",l[4]),(!t||c&3)&&Se(e,"complete",l[0]>l[1])},i(l){if(!t){for(let c=0;c<i.length;c+=1)U(o[c]);t=!0}},o(l){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)q(o[c]);t=!1},d(l){l&&j(e),Ot(o,l),n=!1,xe(r)}}}const Mb=400;function Ob(s,e,t){let n,{guesses:r}=e,{num:i}=e,{value:o=""}=e,{state:u}=e;function l(){t(4,f="shake")}function c(){m.forEach(D=>{D&&typeof D.bounce=="function"&&D.bounce()})}const h=jt();let f="",m=[],g=0;function _(D){Date.now()-g<=Mb?(D.preventDefault(),h("ctx",{x:D.changedTouches[0].clientX,y:D.changedTouches[0].clientY})):g=Date.now()}function E(D,N){Ae[D?"unshift":"push"](()=>{m[N]=D,t(5,m)})}const A=D=>h("ctx",{x:D.clientX,y:D.clientY}),R=D=>h("ctx",{x:D.clientX,y:D.clientY}),P=()=>t(4,f="");return s.$$set=D=>{"guesses"in D&&t(0,r=D.guesses),"num"in D&&t(1,i=D.num),"value"in D&&t(2,o=D.value),"state"in D&&t(3,u=D.state)},s.$$.update=()=>{s.$$.dirty&8&&t(6,n=u.length||Rt)},[r,i,o,u,f,m,n,h,_,l,c,E,A,R,P]}class xb extends Ce{constructor(e){super(),Re(this,e,Ob,zb,Ie,{guesses:0,num:1,value:2,state:3,shake:9,bounce:10})}get shake(){return this.$$.ctx[9]}get bounce(){return this.$$.ctx[10]}}function jb(s){let e,t,n=s[3]>1?"are":"is",r,i,o,u,l,c,h,f=s[3]>1?"s":"",m,g,_,E,A,R,P=s[4]>1?"es":"",D;return{c(){e=z("div"),t=H("Considering all hints, there "),r=H(n),i=H(`:
			`),o=z("br"),u=z("br"),l=$(),c=H(s[3]),h=H(" possible answer"),m=H(f),g=$(),_=z("br"),E=$(),A=H(s[4]),R=H(" valid guess"),D=H(P)},m(N,O){L(N,e,O),T(e,t),T(e,r),T(e,i),T(e,o),T(e,u),T(e,l),T(e,c),T(e,h),T(e,m),T(e,g),T(e,_),T(e,E),T(e,A),T(e,R),T(e,D)},p(N,O){O&8&&n!==(n=N[3]>1?"are":"is")&&ue(r,n),O&8&&ue(c,N[3]),O&8&&f!==(f=N[3]>1?"s":"")&&ue(m,f),O&16&&ue(A,N[4]),O&16&&P!==(P=N[4]>1?"es":"")&&ue(D,P)},i:re,o:re,d(N){N&&j(e)}}}function Lb(s){let e,t,n,r,i,o,u,l=s[3]>1?"s":"",c,h,f,m,g,_,E=s[4]>1?"es":"",A,R,P,D;return P=new Ud({props:{word:s[2],alternates:1}}),{c(){e=z("div"),t=H(`Considering all hints, this row had:
			`),n=z("br"),r=z("br"),i=$(),o=H(s[3]),u=H(" possible answer"),c=H(l),h=$(),f=z("br"),m=$(),g=H(s[4]),_=H(" valid guess"),A=H(E),R=$(),se(P.$$.fragment)},m(N,O){L(N,e,O),T(e,t),T(e,n),T(e,r),T(e,i),T(e,o),T(e,u),T(e,c),T(e,h),T(e,f),T(e,m),T(e,g),T(e,_),T(e,A),L(N,R,O),Z(P,N,O),D=!0},p(N,O){(!D||O&8)&&ue(o,N[3]),(!D||O&8)&&l!==(l=N[3]>1?"s":"")&&ue(c,l),(!D||O&16)&&ue(g,N[4]),(!D||O&16)&&E!==(E=N[4]>1?"es":"")&&ue(A,E);const F={};O&4&&(F.word=N[2]),P.$set(F)},i(N){D||(U(P.$$.fragment,N),D=!0)},o(N){q(P.$$.fragment,N),D=!1},d(N){N&&j(e),N&&j(R),ee(P,N)}}}function Fb(s){let e,t,n,r;const i=[Lb,jb],o=[];function u(l,c){return l[2]!==""?0:1}return t=u(s),n=o[t]=i[t](s),{c(){e=z("div"),n.c(),V(e,"class","ctx-menu svelte-uw0qlf"),Ct(e,"top",s[1]+"px"),Ct(e,"left",s[0]+"px")},m(l,c){L(l,e,c),o[t].m(e,null),r=!0},p(l,[c]){let h=t;t=u(l),t===h?o[t].p(l,c):(Xe(),q(o[h],1,1,()=>{o[h]=null}),Ye(),n=o[t],n?n.p(l,c):(n=o[t]=i[t](l),n.c()),U(n,1),n.m(e,null)),(!r||c&2)&&Ct(e,"top",l[1]+"px"),(!r||c&1)&&Ct(e,"left",l[0]+"px")},i(l){r||(U(n),r=!0)},o(l){q(n),r=!1},d(l){l&&j(e),o[t].d()}}}function $b(s,e,t){let{x:n=0}=e,{y:r=0}=e,{word:i=""}=e,{pAns:o}=e,{pSols:u}=e;const l=+getComputedStyle(document.body).getPropertyValue("--game-width")/2;return s.$$set=c=>{"x"in c&&t(0,n=c.x),"y"in c&&t(1,r=c.y),"word"in c&&t(2,i=c.word),"pAns"in c&&t(3,o=c.pAns),"pSols"in c&&t(4,u=c.pSols)},s.$$.update=()=>{s.$$.dirty&1&&t(0,n=window.innerWidth-n<l?window.innerWidth-l:n)},[n,r,i,o,u]}class Ub extends Ce{constructor(e){super(),Re(this,e,$b,Fb,Ie,{x:0,y:1,word:2,pAns:3,pSols:4})}}function qb(s){const e=s-1;return e*e*e+1}function Sn(s,{delay:e=0,duration:t=400,easing:n=Si}={}){const r=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*r}`}}function Ii(s,{delay:e=0,duration:t=400,easing:n=qb,start:r=0,opacity:i=0}={}){const o=getComputedStyle(s),u=+o.opacity,l=o.transform==="none"?"":o.transform,c=1-r,h=u*(1-i);return{delay:e,duration:t,easing:n,css:(f,m)=>`
			transform: ${l} scale(${1-c*m});
			opacity: ${u-h*m}
		`}}function nc(s,e,t){const n=s.slice();return n[27]=e[t],n[28]=e,n[29]=t,n}function rc(s){let e,t;return e=new Ub({props:{pAns:s[7],pSols:s[8],x:s[9],y:s[10],word:s[11]}}),{c(){se(e.$$.fragment)},m(n,r){Z(e,n,r),t=!0},p(n,r){const i={};r&128&&(i.pAns=n[7]),r&256&&(i.pSols=n[8]),r&512&&(i.x=n[9]),r&1024&&(i.y=n[10]),r&2048&&(i.word=n[11]),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function ic(s){let e,t=s[29],n,r;const i=()=>s[19](e,t),o=()=>s[19](null,t);function u(c){s[20](c,s[29])}let l={num:s[29],guesses:s[2],state:s[1].state[s[29]]};return s[0][s[29]]!==void 0&&(l.value=s[0][s[29]]),e=new xb({props:l}),i(),Ae.push(()=>We(e,"value",u)),{c(){se(e.$$.fragment)},m(c,h){Z(e,c,h),r=!0},p(c,h){s=c,t!==s[29]&&(o(),t=s[29],i());const f={};h&4&&(f.guesses=s[2]),h&2&&(f.state=s[1].state[s[29]]),!n&&h&1&&(n=!0,f.value=s[0][s[29]],Qe(()=>n=!1)),e.$set(f)},i(c){r||(U(e.$$.fragment,c),r=!0)},o(c){q(e.$$.fragment,c),r=!1},d(c){o(),ee(e,c)}}}function oc(s){let e,t;return{c(){e=dt("svg"),t=dt("path"),V(t,"d",s[3]),V(t,"stroke-width","14"),V(t,"class","svelte-aomcqy"),V(e,"xmlns","http://www.w3.org/2000/svg"),V(e,"viewBox","0 0 200 200"),V(e,"fill","none"),V(e,"class","svelte-aomcqy")},m(n,r){L(n,e,r),T(e,t)},p(n,r){r&8&&V(t,"d",n[3])},d(n){n&&j(e)}}}function ac(s){let e,t,n,r,i;return{c(){e=z("div"),e.innerHTML=`double tap a row to see a word&#39;s definition, or how many words can be played there
			<span class="ok">OK</span>`,V(e,"class","tutorial svelte-aomcqy")},m(o,u){L(o,e,u),n=!0,r||(i=[ae(e,"click",s[21]),ae(e,"keydown",s[22])],r=!0)},p:re,i(o){n||(Pt(()=>{n&&(t||(t=Ts(e,Ii,{},!0)),t.run(1))}),n=!0)},o(o){t||(t=Ts(e,Ii,{},!1)),t.run(0),n=!1},d(o){o&&j(e),o&&t&&t.end(),r=!1,xe(i)}}}function Bb(s){let e,t,n,r,i,o,u,l=s[6]&&rc(s),c=s[0],h=[];for(let _=0;_<c.length;_+=1)h[_]=ic(nc(s,c,_));const f=_=>q(h[_],1,1,()=>{h[_]=null});let m=s[3]&&oc(s),g=s[4]&&ac(s);return{c(){l&&l.c(),e=$(),t=z("div");for(let _=0;_<h.length;_+=1)h[_].c();n=$(),m&&m.c(),r=$(),g&&g.c(),V(t,"class","board svelte-aomcqy")},m(_,E){l&&l.m(_,E),L(_,e,E),L(_,t,E);for(let A=0;A<h.length;A+=1)h[A]&&h[A].m(t,null);T(t,n),m&&m.m(t,null),T(t,r),g&&g.m(t,null),i=!0,o||(u=[ae(t,"touchstart",s[13]),ae(t,"touchend",s[14]),ae(t,"touchmove",ei(s[18]))],o=!0)},p(_,[E]){if(_[6]?l?(l.p(_,E),E&64&&U(l,1)):(l=rc(_),l.c(),U(l,1),l.m(e.parentNode,e)):l&&(Xe(),q(l,1,1,()=>{l=null}),Ye()),E&39){c=_[0];let A;for(A=0;A<c.length;A+=1){const R=nc(_,c,A);h[A]?(h[A].p(R,E),U(h[A],1)):(h[A]=ic(R),h[A].c(),U(h[A],1),h[A].m(t,n))}for(Xe(),A=c.length;A<h.length;A+=1)f(A);Ye()}_[3]?m?m.p(_,E):(m=oc(_),m.c(),m.m(t,r)):m&&(m.d(1),m=null),_[4]?g?(g.p(_,E),E&16&&U(g,1)):(g=ac(_),g.c(),U(g,1),g.m(t,null)):g&&(Xe(),q(g,1,1,()=>{g=null}),Ye())},i(_){if(!i){U(l);for(let E=0;E<c.length;E+=1)U(h[E]);U(g),i=!0}},o(_){q(l),h=h.filter(Boolean);for(let E=0;E<h.length;E+=1)q(h[E]);q(g),i=!1},d(_){l&&l.d(_),_&&j(e),_&&j(t),Ot(h,_),m&&m.d(),g&&g.d(),o=!1,xe(u)}}}const Hb=120,Wb=100,Gb=300;function Kb(s,e,t){let{value:n}=e,{board:r}=e,{guesses:i}=e,{icon:o}=e,{tutorial:u}=e;function l(I){m[I].shake()}function c(I){m[I].bounce()}function h(I){(!I||!I.defaultPrevented)&&t(6,g=!1)}const f=jt();let m=[],g=!1,_=0,E=0,A=0,R=0,P="",D,N,O;function F(I){D=I.changedTouches[0].pageX,N=I.changedTouches[0].pageY,O=Date.now()}function v(I){let te=I.changedTouches[0].clientX-D,fe=I.changedTouches[0].clientY-N;Date.now()-O>Gb||Math.abs(te)>=Hb&&Math.abs(fe)<Wb&&f("swipe",{direction:te<0?"left":"right"})}function y(I){zf.call(this,s,I)}function b(I,te){Ae[I?"unshift":"push"](()=>{m[te]=I,t(5,m)})}function S(I,te){s.$$.not_equal(n[te],I)&&(n[te]=I,t(0,n))}const k=()=>f("closeTutPopUp"),C=()=>f("closeTutPopUp");return s.$$set=I=>{"value"in I&&t(0,n=I.value),"board"in I&&t(1,r=I.board),"guesses"in I&&t(2,i=I.guesses),"icon"in I&&t(3,o=I.icon),"tutorial"in I&&t(4,u=I.tutorial)},[n,r,i,o,u,m,g,_,E,A,R,P,f,F,v,l,c,h,y,b,S,k,C]}class Kd extends Ce{constructor(e){super(),Re(this,e,Kb,Bb,Ie,{value:0,board:1,guesses:2,icon:3,tutorial:4,shake:15,bounce:16,hideCtx:17})}get shake(){return this.$$.ctx[15]}get bounce(){return this.$$.ctx[16]}get hideCtx(){return this.$$.ctx[17]}}function Qb(s){let e,t,n,r,i,o,u,l,c,h,f,m,g,_,E,A,R,P,D,N,O,F,v,y,b,S,k,C,I,te,fe,be,Te,Y,W,he,Pe,Me,qe,Q,X,bt,De,it,wt,ot,ie,mt,_e,Ne,Lt,It,Jt,Nt,Ft,Be,Ge;return P=new gt({props:{value:"w",state:""}}),N=new gt({props:{value:"e",state:""}}),F=new gt({props:{value:"a",state:""}}),y=new gt({props:{value:"r",state:""}}),S=new gt({props:{value:"y",state:""}}),fe=new gt({props:{value:"p",state:""}}),Te=new gt({props:{value:"i",state:""}}),W=new gt({props:{value:"l",state:""}}),Pe=new gt({props:{value:"l",state:""}}),qe=new gt({props:{value:"s",state:""}}),it=new gt({props:{value:"v",state:""}}),ot=new gt({props:{value:"a",state:""}}),mt=new gt({props:{value:"g",state:""}}),Ne=new gt({props:{value:"u",state:""}}),It=new gt({props:{value:"e",state:""}}),{c(){e=z("h3"),e.textContent="how to play",t=$(),n=z("div"),r=H("Guess the "),i=z("strong"),i.textContent="WORDLE",o=H(" in "),u=H(Oe),l=H(" tries."),c=$(),h=z("div"),h.textContent=`Each guess must be a valid ${Rt} letter word. Hit the enter button to submit.`,f=$(),m=z("div"),m.textContent=`After each guess, the color of the tiles will change to show how close your guess was to the
	word.`,g=$(),_=z("div"),E=z("div"),E.innerHTML="<strong>Examples</strong>",A=$(),R=z("div"),se(P.$$.fragment),D=$(),se(N.$$.fragment),O=$(),se(F.$$.fragment),v=$(),se(y.$$.fragment),b=$(),se(S.$$.fragment),k=$(),C=z("div"),C.innerHTML="The letter <strong>W</strong> is in the word and in the correct spot.",I=$(),te=z("div"),se(fe.$$.fragment),be=$(),se(Te.$$.fragment),Y=$(),se(W.$$.fragment),he=$(),se(Pe.$$.fragment),Me=$(),se(qe.$$.fragment),Q=$(),X=z("div"),X.innerHTML="The letter <strong>I</strong> is in the word but in the wrong spot.",bt=$(),De=z("div"),se(it.$$.fragment),wt=$(),se(ot.$$.fragment),ie=$(),se(mt.$$.fragment),_e=$(),se(Ne.$$.fragment),Lt=$(),se(It.$$.fragment),Jt=$(),Nt=z("div"),Nt.innerHTML="The letter <strong>U</strong> is not in the word in any spot.",Ft=$(),Be=z("div"),Be.innerHTML=`This is a recreation of the original <a href="https://www.nytimes.com/games/wordle/" target="_blank" rel="noreferrer">Wordle</a>
	by Josh Wardle with additional modes and features, allowing you to play infinite wordles. Switch
	to infinite mode to play an unlimited number of times.
	<br/><br/>
	Open the settings menu to see some of the additional features.
	<br/>
	Written with Svelte, in Typescript by
	<a href="https://github.com/MikhaD" target="_blank" rel="noreferrer">MikhaD</a>.`,V(n,"class","svelte-6daei"),V(h,"class","svelte-6daei"),V(m,"class","svelte-6daei"),V(E,"class","svelte-6daei"),V(R,"class","row svelte-6daei"),V(C,"class","svelte-6daei"),V(te,"class","row svelte-6daei"),V(X,"class","svelte-6daei"),V(De,"class","row svelte-6daei"),V(Nt,"class","svelte-6daei"),V(_,"class","examples svelte-6daei"),Se(_,"complete",s[0]),V(Be,"class","svelte-6daei")},m(ne,vt){L(ne,e,vt),L(ne,t,vt),L(ne,n,vt),T(n,r),T(n,i),T(n,o),T(n,u),T(n,l),L(ne,c,vt),L(ne,h,vt),L(ne,f,vt),L(ne,m,vt),L(ne,g,vt),L(ne,_,vt),T(_,E),T(_,A),T(_,R),Z(P,R,null),T(R,D),Z(N,R,null),T(R,O),Z(F,R,null),T(R,v),Z(y,R,null),T(R,b),Z(S,R,null),T(_,k),T(_,C),T(_,I),T(_,te),Z(fe,te,null),T(te,be),Z(Te,te,null),T(te,Y),Z(W,te,null),T(te,he),Z(Pe,te,null),T(te,Me),Z(qe,te,null),T(_,Q),T(_,X),T(_,bt),T(_,De),Z(it,De,null),T(De,wt),Z(ot,De,null),T(De,ie),Z(mt,De,null),T(De,_e),Z(Ne,De,null),T(De,Lt),Z(It,De,null),T(_,Jt),T(_,Nt),L(ne,Ft,vt),L(ne,Be,vt),Ge=!0},p(ne,[vt]){(!Ge||vt&1)&&Se(_,"complete",ne[0])},i(ne){Ge||(U(P.$$.fragment,ne),U(N.$$.fragment,ne),U(F.$$.fragment,ne),U(y.$$.fragment,ne),U(S.$$.fragment,ne),U(fe.$$.fragment,ne),U(Te.$$.fragment,ne),U(W.$$.fragment,ne),U(Pe.$$.fragment,ne),U(qe.$$.fragment,ne),U(it.$$.fragment,ne),U(ot.$$.fragment,ne),U(mt.$$.fragment,ne),U(Ne.$$.fragment,ne),U(It.$$.fragment,ne),Ge=!0)},o(ne){q(P.$$.fragment,ne),q(N.$$.fragment,ne),q(F.$$.fragment,ne),q(y.$$.fragment,ne),q(S.$$.fragment,ne),q(fe.$$.fragment,ne),q(Te.$$.fragment,ne),q(W.$$.fragment,ne),q(Pe.$$.fragment,ne),q(qe.$$.fragment,ne),q(it.$$.fragment,ne),q(ot.$$.fragment,ne),q(mt.$$.fragment,ne),q(Ne.$$.fragment,ne),q(It.$$.fragment,ne),Ge=!1},d(ne){ne&&j(e),ne&&j(t),ne&&j(n),ne&&j(c),ne&&j(h),ne&&j(f),ne&&j(m),ne&&j(g),ne&&j(_),ee(P),ee(N),ee(F),ee(y),ee(S),ee(fe),ee(Te),ee(W),ee(Pe),ee(qe),ee(it),ee(ot),ee(mt),ee(Ne),ee(It),ne&&j(Ft),ne&&j(Be)}}}function Xb(s,e,t){let{visible:n}=e;return s.$$set=r=>{"visible"in r&&t(0,n=r.visible)},[n]}class Yb extends Ce{constructor(e){super(),Re(this,e,Xb,Qb,Ie,{visible:0})}}function Jb(s){let e,t,n;return{c(){e=z("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-1pg4aff"><path d="M4.609 12c0-4.082 3.309-7.391 7.391-7.391a7.39 7.39 0 0 1 6.523 3.912l-1.653 1.567H22v-5.13l-1.572 1.659C18.652 3.841 15.542 2 12 2 6.477 2 2 6.477 2 12s4.477 10 10 10c4.589 0 8.453-3.09 9.631-7.301l-2.512-.703c-.871 3.113-3.73 5.395-7.119 5.395-4.082 0-7.391-3.309-7.391-7.391z"></path></svg>',V(e,"class","button svelte-1pg4aff")},m(r,i){L(r,e,i),t||(n=[ae(e,"click",s[4]),ae(e,"keydown",s[5])],t=!0)},p:re,d(r){r&&j(e),t=!1,xe(n)}}}function Zb(s){let e,t=`${Math.floor(s[0]/Ze.HOUR)}`.padStart(2,"0")+"",n,r,i=`${Math.floor(s[0]%Ze.HOUR/Ze.MINUTE)}`.padStart(2,"0")+"",o,u,l=`${Math.floor(s[0]%Ze.MINUTE/Ze.SECOND)}`.padStart(2,"0")+"",c;return{c(){e=z("div"),n=H(t),r=H(":"),o=H(i),u=H(":"),c=H(l),V(e,"class","timer svelte-1pg4aff")},m(h,f){L(h,e,f),T(e,n),T(e,r),T(e,o),T(e,u),T(e,c)},p(h,f){f&1&&t!==(t=`${Math.floor(h[0]/Ze.HOUR)}`.padStart(2,"0")+"")&&ue(n,t),f&1&&i!==(i=`${Math.floor(h[0]%Ze.HOUR/Ze.MINUTE)}`.padStart(2,"0")+"")&&ue(o,i),f&1&&l!==(l=`${Math.floor(h[0]%Ze.MINUTE/Ze.SECOND)}`.padStart(2,"0")+"")&&ue(c,l)},d(h){h&&j(e)}}}function ew(s){let e,t,n;function r(u,l){return u[0]>0?Zb:Jb}let i=r(s),o=i(s);return{c(){e=z("h3"),e.textContent="Next wordle",t=$(),n=z("div"),o.c(),V(e,"class","svelte-1pg4aff"),V(n,"class","container svelte-1pg4aff")},m(u,l){L(u,e,l),L(u,t,l),L(u,n,l),o.m(n,null)},p(u,[l]){i===(i=r(u))&&o?o.p(u,l):(o.d(1),o=i(u),o&&(o.c(),o.m(n,null)))},i:re,o:re,d(u){u&&j(e),u&&j(t),u&&j(n),o.d()}}}function tw(s,e,t){let n;Tt(s,$e,h=>t(3,n=h));const r=jt();let i=1e3,o;function u(h){clearInterval(o),t(0,i=Wo(me.modes[h])),i<0&&r("timeup"),o=setInterval(()=>{t(0,i=Wo(me.modes[h])),i<0&&(clearInterval(o),r("timeup"))},Ze.SECOND)}const l=()=>r("reload"),c=()=>r("reload");return s.$$.update=()=>{s.$$.dirty&8&&u(n)},[i,r,u,n,l,c]}class sw extends Ce{constructor(e){super(),Re(this,e,tw,ew,Ie,{reset:2})}get reset(){return this.$$.ctx[2]}}function lc(s,e,t){const n=s.slice();return n[2]=e[t],n}function uc(s){let e,t=s[2]+"",n,r,i;return{c(){e=z("div"),n=H(t),V(e,"class","slice svelte-1dgg1bc")},m(o,u){L(o,e,u),T(e,n),i=!0},p(o,u){(!i||u&1)&&t!==(t=o[2]+"")&&ue(n,t)},i(o){i||(r&&r.end(1),i=!0)},o(o){r=Ff(e,Sn,{duration:200}),i=!1},d(o){o&&j(e),o&&r&&r.end()}}}function nw(s){let e,t,n=s[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=uc(lc(s,n,o));const i=o=>q(r[o],1,1,()=>{r[o]=null});return{c(){e=z("div");for(let o=0;o<r.length;o+=1)r[o].c();V(e,"class","toast svelte-1dgg1bc")},m(o,u){L(o,e,u);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null);t=!0},p(o,[u]){if(u&1){n=o[0];let l;for(l=0;l<n.length;l+=1){const c=lc(o,n,l);r[l]?(r[l].p(c,u),U(r[l],1)):(r[l]=uc(c),r[l].c(),U(r[l],1),r[l].m(e,null))}for(Xe(),l=n.length;l<r.length;l+=1)i(l);Ye()}},i(o){if(!t){for(let u=0;u<n.length;u+=1)U(r[u]);t=!0}},o(o){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)q(r[u]);t=!1},d(o){o&&j(e),Ot(r,o)}}}function rw(s,e,t){function n(i,o=1){t(0,r=[i,...r]),setTimeout(()=>t(0,r=r.slice(0,r.length-1)),o*1e3)}let r=[];return[r,n]}class iw extends Ce{constructor(e){super(),Re(this,e,rw,nw,Ie,{pop:1})}get pop(){return this.$$.ctx[1]}}function ow(s){let e,t,n,r=s[0]+1+"",i,o,u=gs.length+"",l,c,h,f=gs[s[0]]+"",m,g,_,E,A,R,P,D,N;return{c(){e=z("div"),t=z("div"),n=H("Tip "),i=H(r),o=H("/"),l=H(u),c=$(),h=z("div"),m=H(f),g=$(),_=dt("svg"),E=dt("path"),A=$(),R=dt("svg"),P=dt("path"),V(t,"class","number svelte-ksmmv8"),V(h,"class","tip svelte-ksmmv8"),V(E,"d","M75,0L25,50L75,100z"),V(_,"class","left svelte-ksmmv8"),V(_,"xmlns","http://www.w3.org/2000/svg"),V(_,"viewBox","0 0 100 100"),V(P,"d","M25,0L75,50L25,100z"),V(R,"class","right svelte-ksmmv8"),V(R,"xmlns","http://www.w3.org/2000/svg"),V(R,"viewBox","0 0 100 100"),V(e,"class","outer svelte-ksmmv8")},m(O,F){L(O,e,F),T(e,t),T(t,n),T(t,i),T(t,o),T(t,l),T(e,c),T(e,h),T(h,m),T(e,g),T(e,_),T(_,E),T(e,A),T(e,R),T(R,P),D||(N=[ae(_,"click",s[2]),ae(_,"keydown",s[2]),ae(R,"click",s[1]),ae(R,"keypress",s[1])],D=!0)},p(O,[F]){F&1&&r!==(r=O[0]+1+"")&&ue(i,r),F&1&&f!==(f=gs[O[0]]+"")&&ue(m,f)},i:re,o:re,d(O){O&&j(e),D=!1,xe(N)}}}const gs=["You can change the gamemode by clicking WORDLE+ or swiping the board left or right.","Hard mode is game mode specific. Turning it on in one game mode won't change it on the others.","Double tap or right click a word on the board to learn its definition.","Hard mode can be enabled during a game if you haven't violated the hard mode rules yet.","Double tap or right click the next row to see how many possible words can be played there, if you use all the previous information.","Because words are chosen from the list randomly it is possible to get the same word again.","When you see the refresh button in the top left corner it means a new word is ready.","Everyone has the same wordle at the same time. Your word #73 is the same as everyone elses #73.","There are more valid guesses than possible words, ie. not all 5 letter words can be selected as an answer by the game.","Historical games don't count towards your stats. Historical games are when you follow a link to a specific game number.","Only the data for latest historical game is saved for each game mode."];function aw(s,e,t){let{change:n}=e,r=Math.floor(gs.length*Math.random());function i(){t(0,r=(r+1)%gs.length)}function o(){t(0,r=(r-1+gs.length)%gs.length)}return s.$$set=u=>{"change"in u&&t(3,n=u.change)},s.$$.update=()=>{s.$$.dirty&8&&n&&t(0,r=Math.floor(gs.length*Math.random()))},[r,i,o,n]}class lw extends Ce{constructor(e){super(),Re(this,e,aw,ow,Ie,{change:3})}}function uw(s){let e,t,n,r;const i=s[2].default,o=ss(i,s,s[1],null);return{c(){e=dt("svg"),o&&o.c(),V(e,"xmlns","http://www.w3.org/2000/svg"),V(e,"viewBox","0 0 24 24"),V(e,"class","svelte-17ud64h")},m(u,l){L(u,e,l),o&&o.m(e,null),t=!0,n||(r=[ae(e,"click",function(){xt(s[0])&&s[0].apply(this,arguments)}),ae(e,"keypress",function(){xt(s[0])&&s[0].apply(this,arguments)})],n=!0)},p(u,[l]){s=u,o&&o.p&&(!t||l&2)&&rs(o,i,s,s[1],t?ns(i,s[1],l,null):is(s[1]),null)},i(u){t||(U(o,u),t=!0)},o(u){q(o,u),t=!1},d(u){u&&j(e),o&&o.d(u),n=!1,xe(r)}}}function cw(s,e,t){let{$$slots:n={},$$scope:r}=e,{onClick:i=()=>{}}=e;return s.$$set=o=>{"onClick"in o&&t(0,i=o.onClick),"$$scope"in o&&t(1,r=o.$$scope)},[i,r,n]}class Rn extends Ce{constructor(e){super(),Re(this,e,cw,uw,Ie,{onClick:0})}}function hw(s){let e;return{c(){e=dt("path"),V(e,"d","M4.167 4.167c-1.381 1.381-1.381 3.619 0 5L6.5 11.5a1.18 1.18 0 0 1 0 1.667 1.18 1.18 0 0 1-1.667 0L2.5 10.833C.199 8.532.199 4.801 2.5 2.5s6.032-2.301 8.333 0l3.333 3.333c2.301 2.301 2.301 6.032 0 8.333a1.18 1.18 0 0 1-1.667 0 1.18 1.18 0 0 1 0-1.667c1.381-1.381 1.381-3.619 0-5L9.167 4.167c-1.381-1.381-3.619-1.381-5 0zm5.667 14c-2.301-2.301-2.301-6.032 0-8.333a1.18 1.18 0 0 1 1.667 0 1.18 1.18 0 0 1 0 1.667c-1.381 1.381-1.381 3.619 0 5l3.333 3.333c1.381 1.381 3.619 1.381 5 0s1.381-3.619 0-5L17.5 12.5a1.18 1.18 0 0 1 0-1.667 1.18 1.18 0 0 1 1.667 0l2.333 2.333c2.301 2.301 2.301 6.032 0 8.333s-6.032 2.301-8.333 0l-3.333-3.333z")},m(t,n){L(t,e,n)},p:re,d(t){t&&j(e)}}}function dw(s){let e,t,n,r=me.modes[s[1]].name+"",i,o,u,l,c,h,f;return t=new Rn({props:{$$slots:{default:[hw]},$$scope:{ctx:s}}}),{c(){e=z("div"),se(t.$$.fragment),n=H(`
	Copy link to this game (`),i=H(r),o=H(" #"),u=H(s[0]),l=H(")"),V(e,"class","share-historic svelte-11bt4nm")},m(m,g){L(m,e,g),Z(t,e,null),T(e,n),T(e,i),T(e,o),T(e,u),T(e,l),c=!0,h||(f=[ae(e,"click",s[2]),ae(e,"keypress",s[2])],h=!0)},p(m,[g]){const _={};g&16&&(_.$$scope={dirty:g,ctx:m}),t.$set(_),(!c||g&2)&&r!==(r=me.modes[m[1]].name+"")&&ue(i,r),(!c||g&1)&&ue(u,m[0])},i(m){c||(U(t.$$.fragment,m),c=!0)},o(m){q(t.$$.fragment,m),c=!1},d(m){m&&j(e),ee(t),h=!1,xe(f)}}}function fw(s,e,t){let n;Tt(s,$e,u=>t(1,n=u));let{wordNumber:r}=e;const i=Pn("toaster");function o(){i.pop("Copied"),navigator.clipboard.writeText(`${window.location.href}/${r}`)}return s.$$set=u=>{"wordNumber"in u&&t(0,r=u.wordNumber)},[r,n,o]}class mw extends Ce{constructor(e){super(),Re(this,e,fw,dw,Ie,{wordNumber:0})}}function cc(s,e,t){const n=s.slice();return n[20]=e[t],n[22]=t,n}function hc(s){let e,t,n,r;return{c(){e=z("form"),t=z("input"),V(t,"type","text"),V(t,"placeholder","Example: "+window.location+"/1"),V(t,"class","svelte-l3vk6s"),Se(t,"valid",s[0])},m(i,o){L(i,e,o),T(e,t),bn(t,s[2]),n||(r=[ae(t,"input",s[11]),ae(t,"input",s[12]),ae(t,"keydown",s[9])],n=!0)},p(i,o){o&4&&t.value!==i[2]&&bn(t,i[2]),o&1&&Se(t,"valid",i[0])},d(i){i&&j(e),n=!1,xe(r)}}}function dc(s){let e,t=s[20]+"",n;return{c(){e=z("option"),n=H(t),e.__value=s[22],e.value=e.__value},m(r,i){L(r,e,i),T(e,n)},p:re,d(r){r&&j(e)}}}function pw(s){let e,t,n=s[4],r,i,o,u,l,c,h,f,m,g,_,E,A,R=Hs(s[4],!0)-1+"",P,D,N,O,F,v=hc(s),y=s[5],b=[];for(let S=0;S<y.length;S+=1)b[S]=dc(cc(s,y,S));return{c(){e=z("h3"),e.textContent="Play a historical game",t=$(),v.c(),r=$(),i=z("div"),i.textContent="Paste in a link",o=$(),u=z("h3"),u.textContent="or",l=$(),c=z("div"),h=z("form"),f=z("input"),m=$(),g=z("select");for(let S=0;S<b.length;S+=1)b[S].c();_=$(),E=z("div"),A=H("Enter a game number between 1 and "),P=H(R),D=$(),N=z("div"),N.textContent="play",V(i,"class","svelte-l3vk6s"),V(f,"type","number"),V(f,"placeholder","Example: 1"),V(f,"class","svelte-l3vk6s"),Se(f,"valid",s[1]),V(h,"class","svelte-l3vk6s"),V(g,"class","svelte-l3vk6s"),s[4]===void 0&&Pt(()=>s[15].call(g)),V(c,"class","number svelte-l3vk6s"),V(E,"class","svelte-l3vk6s"),V(N,"class","button svelte-l3vk6s"),Se(N,"disabled",!s[0]&&!s[1])},m(S,k){L(S,e,k),L(S,t,k),v.m(S,k),L(S,r,k),L(S,i,k),L(S,o,k),L(S,u,k),L(S,l,k),L(S,c,k),T(c,h),T(h,f),bn(f,s[3]),T(c,m),T(c,g);for(let C=0;C<b.length;C+=1)b[C]&&b[C].m(g,null);si(g,s[4],!0),L(S,_,k),L(S,E,k),T(E,A),T(E,P),L(S,D,k),L(S,N,k),O||(F=[ae(f,"input",s[13]),ae(f,"input",s[14]),ae(f,"keydown",s[9]),ae(g,"change",s[15]),ae(N,"click",s[8]),ae(N,"keydown",s[8])],O=!0)},p(S,[k]){if(k&16&&Ie(n,n=S[4])?(v.d(1),v=hc(S),v.c(),v.m(r.parentNode,r)):v.p(S,k),k&8&&eh(f.value)!==S[3]&&bn(f,S[3]),k&2&&Se(f,"valid",S[1]),k&32){y=S[5];let C;for(C=0;C<y.length;C+=1){const I=cc(S,y,C);b[C]?b[C].p(I,k):(b[C]=dc(I),b[C].c(),b[C].m(g,null))}for(;C<b.length;C+=1)b[C].d(1);b.length=y.length}k&16&&si(g,S[4]),k&16&&R!==(R=Hs(S[4],!0)-1+"")&&ue(P,R),k&3&&Se(N,"disabled",!S[0]&&!S[1])},i:re,o:re,d(S){S&&j(e),S&&j(t),v.d(S),S&&j(r),S&&j(i),S&&j(o),S&&j(u),S&&j(l),S&&j(c),Ot(b,S),S&&j(_),S&&j(E),S&&j(D),S&&j(N),O=!1,xe(F)}}}function gw(s,e,t){let n;Tt(s,$e,v=>t(4,n=v));let{showSettings:r}=e;const i=Pn("toaster"),o=me.modes.map(v=>v.name.toLowerCase());let u=!1,l=!1,c="",h="",f,m;function g(){t(2,c=""),t(3,h=""),t(0,u=!1),t(1,l=!1)}function _(v,y){return!isNaN(v)&&v>0&&v<y?(m=v,!0):!1}function E(){const v=c.slice(c.indexOf("#")+1).toLowerCase().split("/");return v.length!==2||!(v[0]in ut)||!_(+v[1],Hs(ut[v[0]],!0))?!1:(f=ut[v[0]],!0)}function A(v){if(!u&&!l)return;const y=l?n:f,b=me.modes[y];b.historical=!0,b.seed=gn(n,(m-1)*b.unit+b.start),$e.set(y,!0),v.currentTarget.dispatchEvent(Jo("close",null,{bubbles:!0})),t(10,r=!1),i.pop(`${ut[n]} wordle #${m}`,2),g()}$e.subscribe(()=>{r||g()});function R(v){v.key==="Enter"&&(v.preventDefault(),v.currentTarget.blur(),A(v))}function P(){c=this.value,t(2,c)}const D=()=>t(0,u=E());function N(){h=eh(this.value),t(3,h)}const O=()=>t(1,l=_(+h,Hs(n,!0)));function F(){n=th(this),$e.set(n)}return s.$$set=v=>{"showSettings"in v&&t(10,r=v.showSettings)},[u,l,c,h,n,o,_,E,A,R,r,P,D,N,O,F]}class yw extends Ce{constructor(e){super(),Re(this,e,gw,pw,Ie,{showSettings:10})}}function _w(s){let e,t,n,r,i,o;return{c(){e=z("section"),t=z("div"),n=H(s[0]),r=$(),i=z("div"),o=H(s[1]),V(t,"class","stat svelte-dvu5v6"),V(i,"class","name svelte-dvu5v6"),V(e,"class","svelte-dvu5v6")},m(u,l){L(u,e,l),T(e,t),T(t,n),T(e,r),T(e,i),T(i,o)},p(u,[l]){l&1&&ue(n,u[0]),l&2&&ue(o,u[1])},i:re,o:re,d(u){u&&j(e)}}}function bw(s,e,t){let{stat:n}=e,{name:r}=e;return s.$$set=i=>{"stat"in i&&t(0,n=i.stat),"name"in i&&t(1,r=i.name)},[n,r]}class ww extends Ce{constructor(e){super(),Re(this,e,bw,_w,Ie,{stat:0,name:1})}}function fc(s,e,t){const n=s.slice();return n[3]=e[t],n}function mc(s){let e,t;return e=new ww({props:{name:s[3][0],stat:s[3][1]}}),{c(){se(e.$$.fragment)},m(n,r){Z(e,n,r),t=!0},p(n,r){const i={};r&1&&(i.name=n[3][0]),r&1&&(i.stat=n[3][1]),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function vw(s){let e,t,n=me.modes[s[1]].name+"",r,i,o,u,l,c=s[0],h=[];for(let m=0;m<c.length;m+=1)h[m]=mc(fc(s,c,m));const f=m=>q(h[m],1,1,()=>{h[m]=null});return{c(){e=z("h3"),t=H("Statistics ("),r=H(n),i=H(")"),o=$(),u=z("div");for(let m=0;m<h.length;m+=1)h[m].c();V(u,"class","svelte-ljn64v")},m(m,g){L(m,e,g),T(e,t),T(e,r),T(e,i),L(m,o,g),L(m,u,g);for(let _=0;_<h.length;_+=1)h[_]&&h[_].m(u,null);l=!0},p(m,[g]){if((!l||g&2)&&n!==(n=me.modes[m[1]].name+"")&&ue(r,n),g&1){c=m[0];let _;for(_=0;_<c.length;_+=1){const E=fc(m,c,_);h[_]?(h[_].p(E,g),U(h[_],1)):(h[_]=mc(E),h[_].c(),U(h[_],1),h[_].m(u,null))}for(Xe(),_=c.length;_<h.length;_+=1)f(_);Ye()}},i(m){if(!l){for(let g=0;g<c.length;g+=1)U(h[g]);l=!0}},o(m){h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)q(h[g]);l=!1},d(m){m&&j(e),m&&j(o),m&&j(u),Ot(h,m)}}}function kw(s,e,t){let n;Tt(s,$e,o=>t(1,n=o));let{data:r}=e,i;return s.$$set=o=>{"data"in o&&t(2,r=o.data)},s.$$.update=()=>{s.$$.dirty&5&&(t(0,i=[["Played",r.played],["Win %",Math.round((r.played-r.guesses.fail)/r.played*100)||0],["Average Guesses",(Object.entries(r.guesses).reduce((o,u)=>isNaN(+u[0])?o:o+ +u[0]*u[1],0)/r.played||0).toFixed(1)]]),r.guesses.fail>0&&i.push(["Lost",r.guesses.fail]),r.hasStreak&&(i.push(["Current Streak",r.streak]),i.push(["Max Streak",r.maxStreak])))},[i,n,r]}class Ew extends Ce{constructor(e){super(),Re(this,e,kw,vw,Ie,{data:2})}}function pc(s,e,t){const n=s.slice();n[3]=e[t],n[6]=t;const r=Number(n[3][0]);return n[4]=r,n}function gc(s){let e,t,n=s[3][0]+"",r,i,o,u=s[3][1]+"",l,c;return{c(){e=z("div"),t=z("span"),r=H(n),i=$(),o=z("div"),l=H(u),c=$(),V(t,"class","guess svelte-1pserw8"),V(o,"class","bar svelte-1pserw8"),Ct(o,"width",s[3][1]/s[2]*100+"%"),Se(o,"this",s[4]===s[0].guesses&&!s[0].active&&!Go(s[0])),V(e,"class","graph svelte-1pserw8")},m(h,f){L(h,e,f),T(e,t),T(t,r),T(e,i),T(e,o),T(o,l),T(e,c)},p(h,f){f&2&&n!==(n=h[3][0]+"")&&ue(r,n),f&2&&u!==(u=h[3][1]+"")&&ue(l,u),f&6&&Ct(o,"width",h[3][1]/h[2]*100+"%"),f&3&&Se(o,"this",h[4]===h[0].guesses&&!h[0].active&&!Go(h[0]))},d(h){h&&j(e)}}}function yc(s,e){let t,n=!isNaN(e[4]),r,i=n&&gc(e);return{key:s,first:null,c(){t=Us(),i&&i.c(),r=Us(),this.first=t},m(o,u){L(o,t,u),i&&i.m(o,u),L(o,r,u)},p(o,u){e=o,u&2&&(n=!isNaN(e[4])),n?i?i.p(e,u):(i=gc(e),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(o){o&&j(t),i&&i.d(o),o&&j(r)}}}function Tw(s){let e,t,n,r=[],i=new Map,o=Object.entries(s[1]);const u=l=>l[3][0];for(let l=0;l<o.length;l+=1){let c=pc(s,o,l),h=u(c);i.set(h,r[l]=yc(h,c))}return{c(){e=z("h3"),e.textContent="guess distribution",t=$(),n=z("div");for(let l=0;l<r.length;l+=1)r[l].c();V(n,"class","container svelte-1pserw8")},m(l,c){L(l,e,c),L(l,t,c),L(l,n,c);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(n,null)},p(l,[c]){c&7&&(o=Object.entries(l[1]),r=qf(r,c,u,1,l,o,i,n,Uf,yc,null,pc))},i:re,o:re,d(l){l&&j(e),l&&j(t),l&&j(n);for(let c=0;c<r.length;c+=1)r[c].d()}}}function Iw(s,e,t){let n,{game:r}=e,{distribution:i}=e;return s.$$set=o=>{"game"in o&&t(0,r=o.game),"distribution"in o&&t(1,i=o.distribution)},s.$$.update=()=>{s.$$.dirty&2&&t(2,n=Object.entries(i).reduce((o,u)=>isNaN(Number(u[0]))?o:Math.max(u[1],o),1))},[r,i,n]}class Aw extends Ce{constructor(e){super(),Re(this,e,Iw,Tw,Ie,{game:0,distribution:1})}}function Sw(s){let e,t,n,r,i,o;const u=s[4].default,l=ss(u,s,s[3],null);return{c(){e=z("div"),t=H(s[0]),l&&l.c(),V(e,"class",n=jl(s[1])+" svelte-1ymomqm"),Se(e,"big",s[0].length!==1)},m(c,h){L(c,e,h),T(e,t),l&&l.m(e,null),r=!0,i||(o=ae(e,"click",s[5]),i=!0)},p(c,[h]){(!r||h&1)&&ue(t,c[0]),l&&l.p&&(!r||h&8)&&rs(l,u,c,c[3],r?ns(u,c[3],h,null):is(c[3]),null),(!r||h&2&&n!==(n=jl(c[1])+" svelte-1ymomqm"))&&V(e,"class",n),(!r||h&3)&&Se(e,"big",c[0].length!==1)},i(c){r||(U(l,c),r=!0)},o(c){q(l,c),r=!1},d(c){c&&j(e),l&&l.d(c),i=!1,o()}}}function Rw(s,e,t){let{$$slots:n={},$$scope:r}=e,{letter:i}=e,{state:o=""}=e;const u=jt(),l=()=>u("keystroke",i);return s.$$set=c=>{"letter"in c&&t(0,i=c.letter),"state"in c&&t(1,o=c.state),"$$scope"in c&&t(3,r=c.$$scope)},[i,o,u,r,n,l]}class vr extends Ce{constructor(e){super(),Re(this,e,Rw,Sw,Ie,{letter:0,state:1})}}function _c(s,e,t){const n=s.slice();return n[14]=e[t],n}function bc(s,e,t){const n=s.slice();return n[14]=e[t],n}function wc(s,e,t){const n=s.slice();return n[14]=e[t],n}function vc(s){let e,t;return e=new vr({props:{letter:s[14],state:s[2][s[14]]}}),e.$on("keystroke",s[9]),{c(){se(e.$$.fragment)},m(n,r){Z(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.state=n[2][n[14]]),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function kc(s){let e,t;return e=new vr({props:{letter:s[14],state:s[2][s[14]]}}),e.$on("keystroke",s[10]),{c(){se(e.$$.fragment)},m(n,r){Z(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.state=n[2][n[14]]),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function Ec(s){let e,t;return e=new vr({props:{letter:s[14],state:s[2][s[14]]}}),e.$on("keystroke",s[12]),{c(){se(e.$$.fragment)},m(n,r){Z(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.state=n[2][n[14]]),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function Cw(s){let e,t;return{c(){e=dt("svg"),t=dt("path"),V(t,"d","M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H7.07L2.4 12l4.66-7H22v14zm-11.59-2L14 13.41 17.59 17 19 15.59 15.41 12 19 8.41 17.59 7 14 10.59 10.41 7 9 8.41 12.59 12 9 15.59z"),V(e,"xmlns","http://www.w3.org/2000/svg"),V(e,"viewBox","0 0 24 24"),V(e,"class","svelte-bldt10")},m(n,r){L(n,e,r),T(e,t)},p:re,d(n){n&&j(e)}}}function Pw(s){let e,t,n,r,i,o,u,l,c,h,f,m,g,_,E=nn[0],A=[];for(let y=0;y<E.length;y+=1)A[y]=vc(wc(s,E,y));const R=y=>q(A[y],1,1,()=>{A[y]=null});let P=nn[1],D=[];for(let y=0;y<P.length;y+=1)D[y]=kc(bc(s,P,y));const N=y=>q(D[y],1,1,()=>{D[y]=null});l=new vr({props:{letter:"ENTER"}}),l.$on("keystroke",s[11]);let O=nn[2],F=[];for(let y=0;y<O.length;y+=1)F[y]=Ec(_c(s,O,y));const v=y=>q(F[y],1,1,()=>{F[y]=null});return f=new vr({props:{letter:"",$$slots:{default:[Cw]},$$scope:{ctx:s}}}),f.$on("keystroke",s[5]),{c(){e=$(),t=z("div"),n=z("div");for(let y=0;y<A.length;y+=1)A[y].c();r=$(),i=z("div");for(let y=0;y<D.length;y+=1)D[y].c();o=$(),u=z("div"),se(l.$$.fragment),c=$();for(let y=0;y<F.length;y+=1)F[y].c();h=$(),se(f.$$.fragment),V(n,"class","row svelte-bldt10"),V(i,"class","row svelte-bldt10"),V(u,"class","row svelte-bldt10"),V(t,"class","keyboard svelte-bldt10"),Se(t,"preventChange",s[1])},m(y,b){L(y,e,b),L(y,t,b),T(t,n);for(let S=0;S<A.length;S+=1)A[S]&&A[S].m(n,null);T(t,r),T(t,i);for(let S=0;S<D.length;S+=1)D[S]&&D[S].m(i,null);T(t,o),T(t,u),Z(l,u,null),T(u,c);for(let S=0;S<F.length;S+=1)F[S]&&F[S].m(u,null);T(u,h),Z(f,u,null),m=!0,g||(_=ae(document.body,"keydown",s[6]),g=!0)},p(y,[b]){if(b&20){E=nn[0];let k;for(k=0;k<E.length;k+=1){const C=wc(y,E,k);A[k]?(A[k].p(C,b),U(A[k],1)):(A[k]=vc(C),A[k].c(),U(A[k],1),A[k].m(n,null))}for(Xe(),k=E.length;k<A.length;k+=1)R(k);Ye()}if(b&20){P=nn[1];let k;for(k=0;k<P.length;k+=1){const C=bc(y,P,k);D[k]?(D[k].p(C,b),U(D[k],1)):(D[k]=kc(C),D[k].c(),U(D[k],1),D[k].m(i,null))}for(Xe(),k=P.length;k<D.length;k+=1)N(k);Ye()}if(b&20){O=nn[2];let k;for(k=0;k<O.length;k+=1){const C=_c(y,O,k);F[k]?(F[k].p(C,b),U(F[k],1)):(F[k]=Ec(C),F[k].c(),U(F[k],1),F[k].m(u,h))}for(Xe(),k=O.length;k<F.length;k+=1)v(k);Ye()}const S={};b&2097152&&(S.$$scope={dirty:b,ctx:y}),f.$set(S),(!m||b&2)&&Se(t,"preventChange",y[1])},i(y){if(!m){for(let b=0;b<E.length;b+=1)U(A[b]);for(let b=0;b<P.length;b+=1)U(D[b]);U(l.$$.fragment,y);for(let b=0;b<O.length;b+=1)U(F[b]);U(f.$$.fragment,y),m=!0}},o(y){A=A.filter(Boolean);for(let b=0;b<A.length;b+=1)q(A[b]);D=D.filter(Boolean);for(let b=0;b<D.length;b+=1)q(D[b]);q(l.$$.fragment,y),F=F.filter(Boolean);for(let b=0;b<F.length;b+=1)q(F[b]);q(f.$$.fragment,y),m=!1},d(y){y&&j(e),y&&j(t),Ot(A,y),Ot(D,y),ee(l),Ot(F,y),ee(f),g=!1,_()}}}function Vw(s,e,t){let n;Tt(s,ts,R=>t(2,n=R));let{value:r=""}=e,{disabled:i=!1}=e,{maxLength:o=Rt}=e,u=!0;const l=jt();function c(R){!i&&r.length<o&&(l("keystroke",R),t(7,r+=R))}function h(){i||t(7,r=r.slice(0,r.length-1))}function f(R){if(!R.defaultPrevented){if(!i&&!R.ctrlKey&&!R.altKey){if(R.key&&/^[a-z]$/.test(R.key.toLowerCase()))return c(R.key.toLowerCase());if(R.key==="Backspace")return h();if(R.key==="Enter")return l("submitWord")}R.key==="Escape"&&l("esc")}}const m=$e.subscribe(()=>{t(1,u=!0),setTimeout(()=>t(1,u=!1),200)});Ri(m);const g=R=>c(R.detail),_=R=>c(R.detail),E=()=>!i&&l("submitWord"),A=R=>c(R.detail);return s.$$set=R=>{"value"in R&&t(7,r=R.value),"disabled"in R&&t(0,i=R.disabled),"maxLength"in R&&t(8,o=R.maxLength)},[i,u,n,l,c,h,f,r,o,g,_,E,A]}class Qd extends Ce{constructor(e){super(),Re(this,e,Vw,Pw,Ie,{value:7,disabled:0,maxLength:8})}}function Tc(s){let e;return{c(){e=z("span"),e.textContent="",V(e,"class","image-indicator svelte-1vfo0j9")},m(t,n){L(t,e,n)},d(t){t&&j(e)}}}function Ic(s){let e,t,n,r,i=s[3]&&Ac(s);return{c(){e=z("div"),t=z("img"),r=$(),i&&i.c(),xl(t.src,n=s[1])||V(t,"src",n),V(t,"alt","Hint illustration"),V(t,"class","svelte-1vfo0j9"),V(e,"class","popup svelte-1vfo0j9")},m(o,u){L(o,e,u),T(e,t),T(e,r),i&&i.m(e,null),s[9](e)},p(o,u){u&2&&!xl(t.src,n=o[1])&&V(t,"src",n),o[3]?i?i.p(o,u):(i=Ac(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(o){o&&j(e),i&&i.d(),s[9](null)}}}function Ac(s){let e,t,n;return{c(){e=z("button"),e.textContent="",V(e,"class","close-btn svelte-1vfo0j9")},m(r,i){L(r,e,i),t||(n=ae(e,"click",s[7]),t=!0)},p:re,d(r){r&&j(e),t=!1,n()}}}function Dw(s){let e,t,n,r,i,o,u,l,c,h=s[1]&&Tc(),f=s[2]&&s[1]&&Ic(s);return{c(){e=z("div"),t=z("div"),n=z("strong"),n.textContent="Hint:",r=$(),i=H(s[0]),o=$(),h&&h.c(),u=$(),f&&f.c(),V(n,"class","svelte-1vfo0j9"),V(t,"class","hint svelte-1vfo0j9"),V(e,"class","hint-container svelte-1vfo0j9")},m(m,g){L(m,e,g),T(e,t),T(t,n),T(t,r),T(t,i),T(t,o),h&&h.m(t,null),T(e,u),f&&f.m(e,null),s[10](e),l||(c=[ae(t,"mouseenter",function(){xt(s[3]?void 0:s[6])&&(s[3]?void 0:s[6]).apply(this,arguments)}),ae(t,"mouseleave",function(){xt(s[3]?void 0:s[7])&&(s[3]?void 0:s[7]).apply(this,arguments)}),ae(t,"click",s[8])],l=!0)},p(m,[g]){s=m,g&1&&ue(i,s[0]),s[1]?h||(h=Tc(),h.c(),h.m(t,null)):h&&(h.d(1),h=null),s[2]&&s[1]?f?f.p(s,g):(f=Ic(s),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i:re,o:re,d(m){m&&j(e),h&&h.d(),f&&f.d(),s[10](null),l=!1,xe(c)}}}function Nw(s,e,t){let{hint:n=""}=e,{image:r=void 0}=e,i=!1,o=!1,u=null,l=null;jt(),o=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);function c(){r&&t(2,i=!0)}function h(){t(2,i=!1)}function f(){o&&r&&t(2,i=!i)}function m(E){u&&l&&!u.contains(E.target)&&!l.contains(E.target)&&h()}Er(()=>{window.addEventListener("click",m)}),Ri(()=>{window.removeEventListener("click",m)});function g(E){Ae[E?"unshift":"push"](()=>{u=E,t(4,u)})}function _(E){Ae[E?"unshift":"push"](()=>{l=E,t(5,l)})}return s.$$set=E=>{"hint"in E&&t(0,n=E.hint),"image"in E&&t(1,r=E.image)},[n,r,i,o,u,l,c,h,f,g,_]}class zw extends Ce{constructor(e){super(),Re(this,e,Nw,Dw,Ie,{hint:0,image:1})}}function Sc(s){let e,t;return e=new zw({props:{hint:s[2].hint,image:s[2].image}}),{c(){se(e.$$.fragment)},m(n,r){Z(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.hint=n[2].hint),r&4&&(i.image=n[2].image),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function Mw(s){var ot,ie,mt;let e,t,n,r,i=(((ot=s[1])==null?void 0:ot.name)||"Session")+"",o,u,l,c,h=s[0].currentWordIndex+1+"",f,m,g=(((ie=s[1])==null?void 0:ie.words.length)||0)+"",_,E,A,R,P,D,N,O=Rc(s[4]-s[0].startTime)+"",F,v,y,b,S,k,C=s[0].wordResults.filter(Cc).length+"",I,te,fe=(((mt=s[1])==null?void 0:mt.words.length)||0)+"",be,Te,Y,W,he,Pe,Me,qe,Q,X=s[2]&&Sc(s);function bt(_e){s[9](_e)}let De={board:s[0].board,guesses:s[0].guesses,icon:"",tutorial:!1};s[0].board.words!==void 0&&(De.value=s[0].board.words),W=new Kd({props:De}),s[8](W),Ae.push(()=>We(W,"value",bt));function it(_e){s[10](_e)}let wt={disabled:!s[0].active,maxLength:s[0].currentWordLength};return s[0].board.words[s[0].guesses===Oe?0:s[0].guesses]!==void 0&&(wt.value=s[0].board.words[s[0].guesses===Oe?0:s[0].guesses]),Me=new Qd({props:wt}),Ae.push(()=>We(Me,"value",it)),Me.$on("submitWord",s[5]),{c(){e=z("main"),t=z("div"),n=z("div"),r=z("h2"),o=H(i),u=$(),l=z("div"),c=H("Word "),f=H(h),m=H(" of "),_=H(g),E=$(),A=z("div"),R=z("div"),P=z("span"),P.textContent="Time",D=$(),N=z("span"),F=H(O),v=$(),y=z("div"),b=z("span"),b.textContent="Words",S=$(),k=z("span"),I=H(C),te=H("/"),be=H(fe),Te=$(),X&&X.c(),Y=$(),se(W.$$.fragment),Pe=$(),se(Me.$$.fragment),V(r,"class","svelte-1gn9yew"),V(l,"class","progress svelte-1gn9yew"),V(n,"class","session-info svelte-1gn9yew"),V(P,"class","stat-label svelte-1gn9yew"),V(N,"class","stat-value svelte-1gn9yew"),V(R,"class","stat svelte-1gn9yew"),V(b,"class","stat-label svelte-1gn9yew"),V(k,"class","stat-value svelte-1gn9yew"),V(y,"class","stat svelte-1gn9yew"),V(A,"class","session-stats svelte-1gn9yew"),V(t,"class","session-header svelte-1gn9yew"),V(e,"class","session-game svelte-1gn9yew"),Ct(e,"--rows",Oe),Ct(e,"--cols",s[0].currentWordLength)},m(_e,Ne){L(_e,e,Ne),T(e,t),T(t,n),T(n,r),T(r,o),T(n,u),T(n,l),T(l,c),T(l,f),T(l,m),T(l,_),T(t,E),T(t,A),T(A,R),T(R,P),T(R,D),T(R,N),T(N,F),T(A,v),T(A,y),T(y,b),T(y,S),T(y,k),T(k,I),T(k,te),T(k,be),T(e,Te),X&&X.m(e,null),T(e,Y),Z(W,e,null),T(e,Pe),Z(Me,e,null),Q=!0},p(_e,[Ne]){var Jt,Nt,Ft;(!Q||Ne&2)&&i!==(i=(((Jt=_e[1])==null?void 0:Jt.name)||"Session")+"")&&ue(o,i),(!Q||Ne&1)&&h!==(h=_e[0].currentWordIndex+1+"")&&ue(f,h),(!Q||Ne&2)&&g!==(g=(((Nt=_e[1])==null?void 0:Nt.words.length)||0)+"")&&ue(_,g),(!Q||Ne&17)&&O!==(O=Rc(_e[4]-_e[0].startTime)+"")&&ue(F,O),(!Q||Ne&1)&&C!==(C=_e[0].wordResults.filter(Cc).length+"")&&ue(I,C),(!Q||Ne&2)&&fe!==(fe=(((Ft=_e[1])==null?void 0:Ft.words.length)||0)+"")&&ue(be,fe),_e[2]?X?(X.p(_e,Ne),Ne&4&&U(X,1)):(X=Sc(_e),X.c(),U(X,1),X.m(e,Y)):X&&(Xe(),q(X,1,1,()=>{X=null}),Ye());const Lt={};Ne&1&&(Lt.board=_e[0].board),Ne&1&&(Lt.guesses=_e[0].guesses),!he&&Ne&1&&(he=!0,Lt.value=_e[0].board.words,Qe(()=>he=!1)),W.$set(Lt);const It={};Ne&1&&(It.disabled=!_e[0].active),Ne&1&&(It.maxLength=_e[0].currentWordLength),!qe&&Ne&1&&(qe=!0,It.value=_e[0].board.words[_e[0].guesses===Oe?0:_e[0].guesses],Qe(()=>qe=!1)),Me.$set(It),(!Q||Ne&1)&&Ct(e,"--cols",_e[0].currentWordLength)},i(_e){Q||(U(X),U(W.$$.fragment,_e),U(Me.$$.fragment,_e),Q=!0)},o(_e){q(X),q(W.$$.fragment,_e),q(Me.$$.fragment,_e),Q=!1},d(_e){_e&&j(e),X&&X.d(),s[8](null),ee(W),ee(Me)}}}function Rc(s){const e=Math.floor(s/1e3),t=Math.floor(e/60),n=e%60;return t>0?`${t}:${n.toString().padStart(2,"0")}`:`${n}s`}const Cc=s=>s.completed;function Ow(s,e,t){let n;Tt(s,ts,N=>t(12,n=N));let{sessionState:r}=e,{currentPlayerEntry:i}=e,{toaster:o}=e;Zo("toaster",o);const u=jt();let l=null,c=null,h,f=Date.now(),m=Date.now();const g=setInterval(()=>{t(4,m=Date.now())},1e3);function _(){if(!c||!l)return;const N=r.latestWord,O=r.currentWord,F=bs*O.length+800;if(N.length!==O.length){o.pop(`Word must be ${O.length} letters`),h.shake(r.guesses);return}if(!Rb(N)){o.pop("Not a valid word"),h.shake(r.guesses);return}const v=r.guess(N,O);if(t(0,r.board.state[r.guesses]=v,r),t(0,r.guesses++,r),t(6,i.totalGuesses++,i),n.update(r.lastState,r.lastWord),ts.set(n),v.every(b=>b==="")){h.bounce(r.guesses-1),setTimeout(()=>o.pop(Bo[Math.min(r.guesses-1,Bo.length-1)]),F);const b={word:O,guesses:r.guesses,timeSpent:Date.now()-f,completed:!0};r.wordResults.push(b),t(6,i.wordsCompleted++,i),t(6,i.totalTime=Date.now()-r.startTime,i),setTimeout(()=>{r.currentWordIndex+1<l.words.length?E():A()},F*1.4)}else if(r.guesses>=Oe){const b={word:O,guesses:r.guesses,timeSpent:Date.now()-f,completed:!1};r.wordResults.push(b),setTimeout(()=>{o.pop(`The word was: ${O.toUpperCase()}`),setTimeout(()=>{r.currentWordIndex+1<l.words.length?E():A()},2e3)},F)}}function E(){if(l&&(t(0,r.currentWordIndex++,r),r.currentWordIndex<l.words.length)){const N=l.words[r.currentWordIndex];t(0,r.currentWord=N.word.toLowerCase(),r),t(0,r.currentHint=N.hint,r),t(0,r.currentWordLength=N.length,r),t(0,r.guesses=0,r),t(0,r.active=!0,r),t(0,r.board={words:Array(Oe).fill(""),state:Array.from({length:Oe},()=>Array(N.length).fill(""))},r),qt(ts,n=new wr(r.board),n),f=Date.now(),o.pop(`Word ${r.currentWordIndex+1} of ${l.words.length}`)}}function A(){t(0,r.completed=!0,r),t(0,r.endTime=Date.now(),r),t(0,r.active=!1,r),t(6,i.completedAt=r.endTime,i),u("complete",i)}Er(()=>{f=Date.now()}),Ri(()=>clearInterval(g));function R(N){Ae[N?"unshift":"push"](()=>{h=N,t(3,h)})}function P(N){s.$$.not_equal(r.board.words,N)&&(r.board.words=N,t(0,r))}function D(N){s.$$.not_equal(r.board.words[r.guesses===Oe?0:r.guesses],N)&&(r.board.words[r.guesses===Oe?0:r.guesses]=N,t(0,r))}return s.$$set=N=>{"sessionState"in N&&t(0,r=N.sessionState),"currentPlayerEntry"in N&&t(6,i=N.currentPlayerEntry),"toaster"in N&&t(7,o=N.toaster)},s.$$.update=()=>{s.$$.dirty&3&&(t(1,l=Ti(r.sessionId)),l&&r.currentWordIndex<l.words.length&&t(2,c=l.words[r.currentWordIndex]))},[r,l,c,h,m,_,i,o,R,P,D]}class xw extends Ce{constructor(e){super(),Re(this,e,Ow,Mw,Ie,{sessionState:0,currentPlayerEntry:6,toaster:7})}}function Pc(s){let e,t,n,r,i,o=s[1].words.length+"",u,l,c,h,f,m,g=s[1].words.map(Dc).join(", ")+"",_,E,A,R,P,D,N;return{c(){e=z("div"),t=z("div"),n=z("span"),n.textContent="Words:",r=$(),i=z("span"),u=H(o),l=$(),c=z("div"),h=z("span"),h.textContent="Lengths:",f=$(),m=z("span"),_=H(g),E=$(),A=z("div"),R=z("span"),R.textContent="Session Key:",P=$(),D=z("span"),N=H(s[0]),V(n,"class","detail-label svelte-1mfytwl"),V(i,"class","detail-value svelte-1mfytwl"),V(t,"class","detail svelte-1mfytwl"),V(h,"class","detail-label svelte-1mfytwl"),V(m,"class","detail-value svelte-1mfytwl"),V(c,"class","detail svelte-1mfytwl"),V(R,"class","detail-label svelte-1mfytwl"),V(D,"class","detail-value svelte-1mfytwl"),V(A,"class","detail svelte-1mfytwl"),V(e,"class","session-details svelte-1mfytwl")},m(O,F){L(O,e,F),T(e,t),T(t,n),T(t,r),T(t,i),T(i,u),T(e,l),T(e,c),T(c,h),T(c,f),T(c,m),T(m,_),T(e,E),T(e,A),T(A,R),T(A,P),T(A,D),T(D,N)},p(O,F){F&2&&o!==(o=O[1].words.length+"")&&ue(u,o),F&2&&g!==(g=O[1].words.map(Dc).join(", ")+"")&&ue(_,g),F&1&&ue(N,O[0])},d(O){O&&j(e)}}}function Vc(s){let e,t;return{c(){e=z("div"),t=H(s[3]),V(e,"class","error svelte-1mfytwl")},m(n,r){L(n,e,r),T(e,t)},p(n,r){r&8&&ue(t,n[3])},d(n){n&&j(e)}}}function jw(s){let e;return{c(){e=H("Start Playing")},m(t,n){L(t,e,n)},d(t){t&&j(e)}}}function Lw(s){let e;return{c(){e=H("Starting...")},m(t,n){L(t,e,n)},d(t){t&&j(e)}}}function Fw(s){var Te,Y;let e,t,n,r=(((Te=s[1])==null?void 0:Te.name)||"")+"",i,o,u,l,c=(((Y=s[1])==null?void 0:Y.words.length)||0)+"",h,f,m,g,_,E,A,R,P,D,N,O,F,v,y,b,S,k,C=s[1]&&Pc(s),I=s[3]&&Vc(s);function te(W,he){return W[4]?Lw:jw}let fe=te(s),be=fe(s);return{c(){e=z("div"),t=z("div"),n=z("h2"),i=H(r),o=$(),u=z("p"),l=H("Play through "),h=H(c),f=H(" words with hints and compete on the leaderboard!"),m=$(),C&&C.c(),g=$(),_=z("div"),E=z("div"),A=z("label"),A.textContent="Enter Your Name:",R=$(),P=z("input"),D=$(),I&&I.c(),N=$(),O=z("div"),F=z("button"),be.c(),y=$(),b=z("div"),b.innerHTML=`<h3 class="svelte-1mfytwl">How to Play:</h3> 
		<ul class="svelte-1mfytwl"><li class="svelte-1mfytwl">Guess each word using the provided hints</li> 
			<li class="svelte-1mfytwl">Words can be of different lengths (3-15 letters)</li> 
			<li class="svelte-1mfytwl">You have 6 attempts per word</li> 
			<li class="svelte-1mfytwl">Your total time and guesses are tracked</li> 
			<li class="svelte-1mfytwl">Compete with other players on the leaderboard!</li></ul>`,V(n,"class","svelte-1mfytwl"),V(u,"class","session-description svelte-1mfytwl"),V(t,"class","session-header svelte-1mfytwl"),V(A,"for","player-name"),V(A,"class","svelte-1mfytwl"),V(P,"id","player-name"),V(P,"type","text"),V(P,"placeholder","Your display name"),V(P,"maxlength","20"),P.disabled=s[4],V(P,"class","svelte-1mfytwl"),V(E,"class","input-group svelte-1mfytwl"),V(F,"class","start-button svelte-1mfytwl"),F.disabled=v=!s[1]||!s[2].trim()||s[4],V(O,"class","button-group svelte-1mfytwl"),V(_,"class","input-section svelte-1mfytwl"),V(b,"class","info-section svelte-1mfytwl"),V(e,"class","session-player-selector svelte-1mfytwl")},m(W,he){L(W,e,he),T(e,t),T(t,n),T(n,i),T(t,o),T(t,u),T(u,l),T(u,h),T(u,f),T(t,m),C&&C.m(t,null),T(e,g),T(e,_),T(_,E),T(E,A),T(E,R),T(E,P),bn(P,s[2]),T(_,D),I&&I.m(_,null),T(_,N),T(_,O),T(O,F),be.m(F,null),T(e,y),T(e,b),S||(k=[ae(P,"input",s[7]),ae(P,"keypress",s[6]),ae(F,"click",s[5])],S=!0)},p(W,[he]){var Pe,Me;he&2&&r!==(r=(((Pe=W[1])==null?void 0:Pe.name)||"")+"")&&ue(i,r),he&2&&c!==(c=(((Me=W[1])==null?void 0:Me.words.length)||0)+"")&&ue(h,c),W[1]?C?C.p(W,he):(C=Pc(W),C.c(),C.m(t,null)):C&&(C.d(1),C=null),he&16&&(P.disabled=W[4]),he&4&&P.value!==W[2]&&bn(P,W[2]),W[3]?I?I.p(W,he):(I=Vc(W),I.c(),I.m(_,N)):I&&(I.d(1),I=null),fe!==(fe=te(W))&&(be.d(1),be=fe(W),be&&(be.c(),be.m(F,null))),he&22&&v!==(v=!W[1]||!W[2].trim()||W[4])&&(F.disabled=v)},i:re,o:re,d(W){W&&j(e),C&&C.d(),I&&I.d(),be.d(),S=!1,xe(k)}}}const Dc=s=>s.length;function $w(s,e,t){let{sessionId:n}=e;const r=jt();let i="",o="",u=!1,l=null;async function c(){if(!l){t(3,o="Session not found");return}if(!i.trim()){t(3,o="Please enter your name");return}const m=i.trim();t(4,u=!0),t(3,o="");try{r("start",{sessionId:n,playerName:m})}catch{t(3,o="Failed to check session status. Please try again."),t(4,u=!1)}}function h(m){m.key==="Enter"&&!u&&c()}function f(){i=this.value,t(2,i)}return s.$$set=m=>{"sessionId"in m&&t(0,n=m.sessionId)},s.$$.update=()=>{s.$$.dirty&3&&(t(1,l=Ti(n)),l||t(3,o="Session not found"))},[n,l,i,o,u,c,h,f]}class Uw extends Ce{constructor(e){super(),Re(this,e,$w,Fw,Ie,{sessionId:0})}}function qw(s){let e;return{c(){e=dt("path"),V(e,"d","M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z")},m(t,n){L(t,e,n)},p:re,d(t){t&&j(e)}}}function Nc(s){let e,t;return e=new Rn({props:{onClick:s[7],$$slots:{default:[Bw]},$$scope:{ctx:s}}}),{c(){se(e.$$.fragment)},m(n,r){Z(e,n,r),t=!0},p(n,r){const i={};r&16384&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function Bw(s){let e,t,n;return{c(){e=dt("path"),V(e,"d","M4.609 12c0-4.082 3.309-7.391 7.391-7.391a7.39 7.39 0 0 1 6.523 3.912l-1.653 1.567H22v-5.13l-1.572 1.659C18.652 3.841 15.542 2 12 2 6.477 2 2 6.477 2 12s4.477 10 10 10c4.589 0 8.453-3.09 9.631-7.301l-2.512-.703c-.871 3.113-3.73 5.395-7.119 5.395-4.082 0-7.391-3.309-7.391-7.391z")},m(r,i){L(r,e,i),n=!0},p:re,i(r){n||(Pt(()=>{n&&(t||(t=Ts(e,Sn,{duration:200},!0)),t.run(1))}),n=!0)},o(r){t||(t=Ts(e,Sn,{duration:200},!1)),t.run(0),n=!1},d(r){r&&j(e),r&&t&&t.end()}}}function zc(s){let e,t;return e=new Rn({props:{onClick:s[10],$$slots:{default:[Hw]},$$scope:{ctx:s}}}),{c(){se(e.$$.fragment)},m(n,r){Z(e,n,r),t=!0},p(n,r){const i={};r&16384&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function Hw(s){let e,t,n;return{c(){e=dt("path"),V(e,"d","M16,11V3H8v6H2v12h20V11H16z M10,5h4v14h-4V5z M4,11h4v8H4V11z M20,19h-4v-6h4V19z")},m(r,i){L(r,e,i),n=!0},p:re,i(r){n||(Pt(()=>{n&&(t||(t=Ts(e,Sn,{duration:200},!0)),t.run(1))}),n=!0)},o(r){t||(t=Ts(e,Sn,{duration:200},!1)),t.run(0),n=!1},d(r){r&&j(e),r&&t&&t.end()}}}function Ww(s){let e;return{c(){e=dt("path"),V(e,"d","M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z")},m(t,n){L(t,e,n)},p:re,d(t){t&&j(e)}}}function Mc(s){let e,t,n,r,i;return{c(){e=z("div"),e.innerHTML=`Swipe board or tap WORDLE+ to change game mode
			<span class="ok">OK</span>`,V(e,"class","tutorial")},m(o,u){L(o,e,u),n=!0,r||(i=[ae(e,"click",s[12]),ae(e,"keydown",s[13])],r=!0)},p:re,i(o){n||(Pt(()=>{n&&(t||(t=Ts(e,Ii,{},!0)),t.run(1))}),n=!0)},o(o){t||(t=Ts(e,Ii,{},!1)),t.run(0),n=!1},d(o){o&&j(e),o&&t&&t.end(),r=!1,xe(i)}}}function Gw(s){let e,t,n,r,i,o,u,l,c,h,f,m,g,_;n=new Rn({props:{onClick:s[6],$$slots:{default:[qw]},$$scope:{ctx:s}}});let E=s[0]&&Nc(s),A=s[1]&&zc(s);h=new Rn({props:{onClick:s[11],$$slots:{default:[Ww]},$$scope:{ctx:s}}});let R=s[2]&&Mc(s);return{c(){e=z("header"),t=z("div"),se(n.$$.fragment),r=$(),E&&E.c(),i=$(),o=z("h1"),o.textContent="wordle+",u=$(),l=z("div"),A&&A.c(),c=$(),se(h.$$.fragment),f=$(),R&&R.c(),V(t,"class","icons svelte-2k6r7n"),V(o,"class","svelte-2k6r7n"),V(l,"class","icons svelte-2k6r7n"),V(e,"class","svelte-2k6r7n")},m(P,D){L(P,e,D),T(e,t),Z(n,t,null),T(t,r),E&&E.m(t,null),T(e,i),T(e,o),T(e,u),T(e,l),A&&A.m(l,null),T(l,c),Z(h,l,null),T(e,f),R&&R.m(e,null),m=!0,g||(_=[ae(o,"click",ti(s[8])),ae(o,"contextmenu",ti(ei(s[9])))],g=!0)},p(P,[D]){const N={};D&16384&&(N.$$scope={dirty:D,ctx:P}),n.$set(N),P[0]?E?(E.p(P,D),D&1&&U(E,1)):(E=Nc(P),E.c(),U(E,1),E.m(t,null)):E&&(Xe(),q(E,1,1,()=>{E=null}),Ye()),P[1]?A?(A.p(P,D),D&2&&U(A,1)):(A=zc(P),A.c(),U(A,1),A.m(l,c)):A&&(Xe(),q(A,1,1,()=>{A=null}),Ye());const O={};D&16384&&(O.$$scope={dirty:D,ctx:P}),h.$set(O),P[2]?R?(R.p(P,D),D&4&&U(R,1)):(R=Mc(P),R.c(),U(R,1),R.m(e,null)):R&&(Xe(),q(R,1,1,()=>{R=null}),Ye())},i(P){m||(U(n.$$.fragment,P),U(E),U(A),U(h.$$.fragment,P),U(R),m=!0)},o(P){q(n.$$.fragment,P),q(E),q(A),q(h.$$.fragment,P),q(R),m=!1},d(P){P&&j(e),ee(n),E&&E.d(),A&&A.d(),ee(h),R&&R.d(),g=!1,xe(_)}}}function Kw(s,e,t){let n;Tt(s,$e,R=>t(4,n=R));let{showStats:r}=e,{tutorial:i}=e,{showRefresh:o}=e,{toaster:u=Pn("toaster")}=e;const l=jt();$e.subscribe(R=>{Wo(me.modes[R])>0&&t(0,o=!1)});const c=()=>l("tutorial"),h=()=>l("reload"),f=()=>{qt($e,n=(n+1)%me.modes.length,n),u.pop(me.modes[n].name)},m=()=>{qt($e,n=(n-1+me.modes.length)%me.modes.length,n),u.pop(me.modes[n].name)},g=()=>l("stats"),_=()=>l("settings"),E=()=>l("closeTutPopUp"),A=()=>l("closeTutPopUp");return s.$$set=R=>{"showStats"in R&&t(1,r=R.showStats),"tutorial"in R&&t(2,i=R.tutorial),"showRefresh"in R&&t(0,o=R.showRefresh),"toaster"in R&&t(3,u=R.toaster)},[o,r,i,u,n,l,c,h,f,m,g,_,E,A]}class Qw extends Ce{constructor(e){super(),Re(this,e,Kw,Gw,Ie,{showStats:1,tutorial:2,showRefresh:0,toaster:3})}}const Xw=s=>({}),Oc=s=>({});function Yw(s){let e;return{c(){e=dt("path"),V(e,"d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z")},m(t,n){L(t,e,n)},p:re,d(t){t&&j(e)}}}function Jw(s){let e,t,n,r,i,o,u,l,c,h,f,m;r=new Rn({props:{$$slots:{default:[Yw]},$$scope:{ctx:s}}});const g=s[3].default,_=ss(g,s,s[4],null),E=s[3].footer,A=ss(E,s,s[4],Oc);return{c(){e=z("div"),t=z("div"),n=z("div"),se(r.$$.fragment),i=$(),o=z("div"),_&&_.c(),u=$(),l=z("div"),A&&A.c(),V(n,"class","exit svelte-5i44vt"),V(o,"class","content svelte-5i44vt"),V(l,"class","footer svelte-5i44vt"),V(t,"class","modal svelte-5i44vt"),V(e,"class",c="overlay "+(s[1]?"fullscreen":"popup")+" svelte-5i44vt"),Se(e,"visible",s[0])},m(R,P){L(R,e,P),T(e,t),T(t,n),Z(r,n,null),T(t,i),T(t,o),_&&_.m(o,null),T(t,u),T(t,l),A&&A.m(l,null),h=!0,f||(m=[ae(n,"click",s[2]),ae(n,"keydown",s[2]),ae(o,"close",s[2]),ae(e,"click",ti(s[2])),ae(e,"keydown",ti(s[2]))],f=!0)},p(R,[P]){const D={};P&16&&(D.$$scope={dirty:P,ctx:R}),r.$set(D),_&&_.p&&(!h||P&16)&&rs(_,g,R,R[4],h?ns(g,R[4],P,null):is(R[4]),null),A&&A.p&&(!h||P&16)&&rs(A,E,R,R[4],h?ns(E,R[4],P,Xw):is(R[4]),Oc),(!h||P&2&&c!==(c="overlay "+(R[1]?"fullscreen":"popup")+" svelte-5i44vt"))&&V(e,"class",c),(!h||P&3)&&Se(e,"visible",R[0])},i(R){h||(U(r.$$.fragment,R),U(_,R),U(A,R),h=!0)},o(R){q(r.$$.fragment,R),q(_,R),q(A,R),h=!1},d(R){R&&j(e),ee(r),_&&_.d(R),A&&A.d(R),f=!1,xe(m)}}}function Zw(s,e,t){let{$$slots:n={},$$scope:r}=e,{visible:i=!1}=e,{fullscreen:o=!1}=e;const u=jt();function l(){t(0,i=!1),u("close")}return s.$$set=c=>{"visible"in c&&t(0,i=c.visible),"fullscreen"in c&&t(1,o=c.fullscreen),"$$scope"in c&&t(4,r=c.$$scope)},[i,o,l,n,r]}class Wr extends Ce{constructor(e){super(),Re(this,e,Zw,Jw,Ie,{visible:0,fullscreen:1})}}function e1(s){let e,t,n;return{c(){e=z("div"),V(e,"disabled",s[1]),V(e,"class","svelte-16o9p8g"),Se(e,"checked",s[0])},m(r,i){L(r,e,i),t||(n=ae(e,"click",s[2]),t=!0)},p(r,[i]){i&2&&V(e,"disabled",r[1]),i&1&&Se(e,"checked",r[0])},i:re,o:re,d(r){r&&j(e),t=!1,n()}}}function t1(s,e,t){let{value:n}=e,{disabled:r=!1}=e;const i=o=>!r&&t(0,n=!n);return s.$$set=o=>{"value"in o&&t(0,n=o.value),"disabled"in o&&t(1,r=o.disabled)},[n,r,i]}class s1 extends Ce{constructor(e){super(),Re(this,e,t1,e1,Ie,{value:0,disabled:1})}}function xc(s,e,t){const n=s.slice();return n[4]=e[t],n[6]=t,n}function jc(s){let e,t=s[4]+"",n;return{c(){e=z("option"),n=H(t),e.__value=s[6],e.value=e.__value},m(r,i){L(r,e,i),T(e,n)},p(r,i){i&2&&t!==(t=r[4]+"")&&ue(n,t)},d(r){r&&j(e)}}}function n1(s){let e,t,n,r=s[1],i=[];for(let o=0;o<r.length;o+=1)i[o]=jc(xc(s,r,o));return{c(){e=z("select");for(let o=0;o<i.length;o+=1)i[o].c();e.disabled=s[2],s[0]===void 0&&Pt(()=>s[3].call(e))},m(o,u){L(o,e,u);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(e,null);si(e,s[0],!0),t||(n=ae(e,"change",s[3]),t=!0)},p(o,[u]){if(u&2){r=o[1];let l;for(l=0;l<r.length;l+=1){const c=xc(o,r,l);i[l]?i[l].p(c,u):(i[l]=jc(c),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=r.length}u&4&&(e.disabled=o[2]),u&1&&si(e,o[0])},i:re,o:re,d(o){o&&j(e),Ot(i,o),t=!1,n()}}}function r1(s,e,t){let{value:n}=e,{options:r}=e,{disabled:i=!1}=e;function o(){n=th(this),t(0,n)}return s.$$set=u=>{"value"in u&&t(0,n=u.value),"options"in u&&t(1,r=u.options),"disabled"in u&&t(2,i=u.disabled)},[n,r,i,o]}class i1 extends Ce{constructor(e){super(),Re(this,e,r1,n1,Ie,{value:0,options:1,disabled:2})}}const o1=s=>({}),Lc=s=>({}),a1=s=>({}),Fc=s=>({}),l1=s=>({}),$c=s=>({});function u1(s){let e,t,n,r;function i(l){s[7](l)}var o=s[4][s[1]];function u(l){let c={options:l[2],disabled:l[3]};return l[0]!==void 0&&(c.value=l[0]),{props:c}}return o&&(e=Ll(o,u(s)),Ae.push(()=>We(e,"value",i))),{c(){e&&se(e.$$.fragment),n=Us()},m(l,c){e&&Z(e,l,c),L(l,n,c),r=!0},p(l,c){const h={};if(c&4&&(h.options=l[2]),c&8&&(h.disabled=l[3]),!t&&c&1&&(t=!0,h.value=l[0],Qe(()=>t=!1)),c&2&&o!==(o=l[4][l[1]])){if(e){Xe();const f=e;q(f.$$.fragment,1,0,()=>{ee(f,1)}),Ye()}o?(e=Ll(o,u(l)),Ae.push(()=>We(e,"value",i)),se(e.$$.fragment),U(e.$$.fragment,1),Z(e,n.parentNode,n)):e=null}else o&&e.$set(h)},i(l){r||(e&&U(e.$$.fragment,l),r=!0)},o(l){e&&q(e.$$.fragment,l),r=!1},d(l){l&&j(n),e&&ee(e,l)}}}function c1(s){let e;const t=s[6].custom,n=ss(t,s,s[5],Lc);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&32)&&rs(n,t,r,r[5],e?ns(t,r[5],i,o1):is(r[5]),Lc)},i(r){e||(U(n,r),e=!0)},o(r){q(n,r),e=!1},d(r){n&&n.d(r)}}}function h1(s){let e,t,n,r,i,o,u,l,c;const h=s[6].title,f=ss(h,s,s[5],$c),m=s[6].desc,g=ss(m,s,s[5],Fc),_=[c1,u1],E=[];function A(R,P){return R[1]==="custom"?0:1}return u=A(s),l=E[u]=_[u](s),{c(){e=z("div"),t=z("div"),n=z("div"),f&&f.c(),r=$(),i=z("div"),g&&g.c(),o=$(),l.c(),V(n,"class","title svelte-40b4uj"),V(i,"class","desc svelte-40b4uj"),V(e,"class","setting svelte-40b4uj")},m(R,P){L(R,e,P),T(e,t),T(t,n),f&&f.m(n,null),T(t,r),T(t,i),g&&g.m(i,null),T(e,o),E[u].m(e,null),c=!0},p(R,[P]){f&&f.p&&(!c||P&32)&&rs(f,h,R,R[5],c?ns(h,R[5],P,l1):is(R[5]),$c),g&&g.p&&(!c||P&32)&&rs(g,m,R,R[5],c?ns(m,R[5],P,a1):is(R[5]),Fc);let D=u;u=A(R),u===D?E[u].p(R,P):(Xe(),q(E[D],1,1,()=>{E[D]=null}),Ye(),l=E[u],l?l.p(R,P):(l=E[u]=_[u](R),l.c()),U(l,1),l.m(e,null))},i(R){c||(U(f,R),U(g,R),U(l),c=!0)},o(R){q(f,R),q(g,R),q(l),c=!1},d(R){R&&j(e),f&&f.d(R),g&&g.d(R),E[u].d()}}}function d1(s,e,t){let{$$slots:n={},$$scope:r}=e,{value:i}=e,{type:o}=e,{options:u=[]}=e,{disabled:l=!1}=e;const c={switch:s1,dropdown:i1};function h(f){i=f,t(0,i)}return s.$$set=f=>{"value"in f&&t(0,i=f.value),"type"in f&&t(1,o=f.type),"options"in f&&t(2,u=f.options),"disabled"in f&&t(3,l=f.disabled),"$$scope"in f&&t(5,r=f.$$scope)},[i,o,u,l,c,r,n,h]}class er extends Ce{constructor(e){super(),Re(this,e,d1,h1,Ie,{value:0,type:1,options:2,disabled:3})}}function f1(s){let e;return{c(){e=H("Hard Mode")},m(t,n){L(t,e,n)},d(t){t&&j(e)}}}function m1(s){let e;return{c(){e=H("Any revealed hints must be used in subsequent guesses")},m(t,n){L(t,e,n)},d(t){t&&j(e)}}}function p1(s){let e;return{c(){e=H("Dark Theme")},m(t,n){L(t,e,n)},d(t){t&&j(e)}}}function g1(s){let e;return{c(){e=H("Color Blind Mode")},m(t,n){L(t,e,n)},d(t){t&&j(e)}}}function y1(s){let e;return{c(){e=H("High contrast colors")},m(t,n){L(t,e,n)},d(t){t&&j(e)}}}function _1(s){let e;return{c(){e=H("Game Mode")},m(t,n){L(t,e,n)},d(t){t&&j(e)}}}function b1(s){let e;return{c(){e=H("The game mode determines how often the word refreshes")},m(t,n){L(t,e,n)},d(t){t&&j(e)}}}function w1(s){let e;return{c(){e=H("Play Historical Game")},m(t,n){L(t,e,n)},d(t){t&&j(e)}}}function v1(s){let e;return{c(){e=H("Play a previous word by pasting in a link or setting the date number")},m(t,n){L(t,e,n)},d(t){t&&j(e)}}}function k1(s){let e,t,n,r;return{c(){e=dt("svg"),t=dt("path"),V(t,"d","M19.391 12c0-4.082-3.309-7.391-7.391-7.391a7.39 7.39 0 0 0-6.523 3.912l1.653 1.567H2v-5.13l1.572 1.659A9.99 9.99 0 0 1 12 2a10 10 0 1 1 0 20c-4.589 0-8.453-3.09-9.631-7.301l2.512-.703c.871 3.113 3.73 5.395 7.119 5.395 4.082 0 7.391-3.309 7.391-7.391zM12 7.5a1 1 0 0 1 1 1v3.062l3.288 3.031a1 1 0 0 1-1.356 1.471L11 12.438V8.5a1 1 0 0 1 1-1z"),V(e,"class","custom svelte-1ktskry"),V(e,"xmlns","http://www.w3.org/2000/svg"),V(e,"viewBox","0 0 24 24")},m(i,o){L(i,e,o),T(e,t),n||(r=ae(e,"click",s[11]),n=!0)},p:re,d(i){i&&j(e),n=!1,r()}}}function E1(s){let e,t,n,r,i,o,u,l,c,h,f,m,g,_,E,A,R,P,D,N,O,F,v,y;function b(W){s[6](W)}let S={type:"switch",disabled:!s[0].validHard,$$slots:{desc:[m1],title:[f1]},$$scope:{ctx:s}};s[1].hard[s[2]]!==void 0&&(S.value=s[1].hard[s[2]]),o=new er({props:S}),Ae.push(()=>We(o,"value",b));function k(W){s[8](W)}let C={type:"switch",$$slots:{title:[p1]},$$scope:{ctx:s}};s[1].dark!==void 0&&(C.value=s[1].dark),c=new er({props:C}),Ae.push(()=>We(c,"value",k));function I(W){s[9](W)}let te={type:"switch",$$slots:{desc:[y1],title:[g1]},$$scope:{ctx:s}};s[1].colorblind!==void 0&&(te.value=s[1].colorblind),m=new er({props:te}),Ae.push(()=>We(m,"value",I));function fe(W){s[10](W)}let be={type:"dropdown",options:me.modes.map(T1),$$slots:{desc:[b1],title:[_1]},$$scope:{ctx:s}};s[2]!==void 0&&(be.value=s[2]),E=new er({props:be}),Ae.push(()=>We(E,"value",fe));function Te(W){s[12](W)}let Y={type:"custom",$$slots:{custom:[k1],desc:[v1],title:[w1]},$$scope:{ctx:s}};return s[2]!==void 0&&(Y.value=s[2]),P=new er({props:Y}),Ae.push(()=>We(P,"value",Te)),{c(){e=z("div"),t=z("div"),n=z("h3"),n.textContent="settings",r=$(),i=z("div"),se(o.$$.fragment),l=$(),se(c.$$.fragment),f=$(),se(m.$$.fragment),_=$(),se(E.$$.fragment),R=$(),se(P.$$.fragment),N=$(),O=z("div"),O.innerHTML=`<a href="https://github.com/MikhaD/wordle" target="_blank" rel="noreferrer">Leave a </a> 
			<a href="https://github.com/MikhaD/wordle/issues" target="_blank" rel="noreferrer">Report a Bug</a>`,V(O,"class","links svelte-1ktskry"),V(t,"class","settings-top"),V(e,"class","outer svelte-1ktskry")},m(W,he){L(W,e,he),T(e,t),T(t,n),T(t,r),T(t,i),Z(o,i,null),T(t,l),Z(c,t,null),T(t,f),Z(m,t,null),T(t,_),Z(E,t,null),T(t,R),Z(P,t,null),T(t,N),T(t,O),F=!0,v||(y=ae(i,"click",s[7]),v=!0)},p(W,[he]){const Pe={};he&1&&(Pe.disabled=!W[0].validHard),he&8192&&(Pe.$$scope={dirty:he,ctx:W}),!u&&he&6&&(u=!0,Pe.value=W[1].hard[W[2]],Qe(()=>u=!1)),o.$set(Pe);const Me={};he&8192&&(Me.$$scope={dirty:he,ctx:W}),!h&&he&2&&(h=!0,Me.value=W[1].dark,Qe(()=>h=!1)),c.$set(Me);const qe={};he&8192&&(qe.$$scope={dirty:he,ctx:W}),!g&&he&2&&(g=!0,qe.value=W[1].colorblind,Qe(()=>g=!1)),m.$set(qe);const Q={};he&8192&&(Q.$$scope={dirty:he,ctx:W}),!A&&he&4&&(A=!0,Q.value=W[2],Qe(()=>A=!1)),E.$set(Q);const X={};he&8192&&(X.$$scope={dirty:he,ctx:W}),!D&&he&4&&(D=!0,X.value=W[2],Qe(()=>D=!1)),P.$set(X)},i(W){F||(U(o.$$.fragment,W),U(c.$$.fragment,W),U(m.$$.fragment,W),U(E.$$.fragment,W),U(P.$$.fragment,W),F=!0)},o(W){q(o.$$.fragment,W),q(c.$$.fragment,W),q(m.$$.fragment,W),q(E.$$.fragment,W),q(P.$$.fragment,W),F=!1},d(W){W&&j(e),ee(o),ee(c),ee(m),ee(E),ee(P),v=!1,y()}}}const T1=s=>s.name;function I1(s,e,t){let n,r;Tt(s,zt,A=>t(1,n=A)),Tt(s,$e,A=>t(2,r=A));let{state:i}=e;const o=Pn("toaster"),u=jt();let l;Er(()=>{t(5,l=document.documentElement)});function c(A){s.$$.not_equal(n.hard[r],A)&&(n.hard[r]=A,zt.set(n))}const h=()=>{i.validHard||o.pop("Game has already violated hard mode")};function f(A){s.$$.not_equal(n.dark,A)&&(n.dark=A,zt.set(n))}function m(A){s.$$.not_equal(n.colorblind,A)&&(n.colorblind=A,zt.set(n))}function g(A){r=A,$e.set(r)}const _=()=>u("historical");function E(A){r=A,$e.set(r)}return s.$$set=A=>{"state"in A&&t(0,i=A.state)},s.$$.update=()=>{s.$$.dirty&34&&l&&(n.dark?l.classList.remove("light"):l.classList.add("light"),n.colorblind?l.classList.add("colorblind"):l.classList.remove("colorblind"),localStorage.setItem("settings",n.toString()))},[i,n,r,o,u,l,c,h,f,m,g,_,E]}class A1 extends Ce{constructor(e){super(),Re(this,e,I1,E1,Ie,{state:0})}}function S1(s){let e,t;return e=new Yb({props:{visible:s[5]}}),{c(){se(e.$$.fragment)},m(n,r){Z(e,n,r),t=!0},p(n,r){const i={};r[0]&32&&(i.visible=n[5]),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function R1(s){let e,t,n,r;return e=new Ew({props:{data:s[1]}}),n=new Aw({props:{distribution:s[1].guesses,game:s[2]}}),{c(){se(e.$$.fragment),t=$(),se(n.$$.fragment)},m(i,o){Z(e,i,o),L(i,t,o),Z(n,i,o),r=!0},p(i,o){const u={};o[0]&2&&(u.data=i[1]),e.$set(u);const l={};o[0]&2&&(l.distribution=i[1].guesses),o[0]&4&&(l.game=i[2]),n.$set(l)},i(i){r||(U(e.$$.fragment,i),U(n.$$.fragment,i),r=!0)},o(i){q(e.$$.fragment,i),q(n.$$.fragment,i),r=!1},d(i){ee(e,i),i&&j(t),ee(n,i)}}}function C1(s){let e;return{c(){e=z("h2"),e.textContent="Statistics not available for historical games",V(e,"class","historical svelte-zu82m8")},m(t,n){L(t,e,n)},p:re,i:re,o:re,d(t){t&&j(e)}}}function P1(s){let e,t,n={slot:"1"};return e=new sw({props:n}),s[32](e),e.$on("timeup",s[33]),e.$on("reload",s[17]),{c(){se(e.$$.fragment)},m(r,i){Z(e,r,i),t=!0},p(r,i){const o={};e.$set(o)},i(r){t||(U(e.$$.fragment,r),t=!0)},o(r){q(e.$$.fragment,r),t=!1},d(r){s[32](null),ee(e,r)}}}function V1(s){let e,t;return e=new Vb({props:{slot:"2",state:s[2]}}),{c(){se(e.$$.fragment)},m(n,r){Z(e,n,r),t=!0},p(n,r){const i={};r[0]&4&&(i.state=n[2]),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function D1(s){let e,t,n,r;return{c(){e=z("div"),e.textContent="give up",V(e,"class","button concede svelte-zu82m8")},m(i,o){L(i,e,o),n||(r=[ae(e,"click",s[16]),ae(e,"keydown",s[16])],n=!0)},p:re,i(i){t||Pt(()=>{t=Lf(e,Sn,{delay:300}),t.start()})},o:re,d(i){i&&j(e),n=!1,xe(r)}}}function N1(s){let e,t;return e=new Ud({props:{word:s[0],alternates:2}}),{c(){se(e.$$.fragment)},m(n,r){Z(e,n,r),t=!0},p(n,r){const i={};r[0]&1&&(i.word=n[0]),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function z1(s){let e,t,n,r,i,o,u,l,c,h,f;const m=[C1,R1],g=[];function _(P,D){return P[4].modes[P[12]].historical?0:1}e=_(s),t=g[e]=m[e](s),r=new Z_({props:{visible:!s[2].active,$$slots:{2:[V1],1:[P1]},$$scope:{ctx:s}}}),o=new mw({props:{wordNumber:s[2].wordNumber}});const E=[N1,D1],A=[];function R(P,D){return P[2].active?1:0}return l=R(s),c=A[l]=E[l](s),{c(){t.c(),n=$(),se(r.$$.fragment),i=$(),se(o.$$.fragment),u=$(),c.c(),h=Us()},m(P,D){g[e].m(P,D),L(P,n,D),Z(r,P,D),L(P,i,D),Z(o,P,D),L(P,u,D),A[l].m(P,D),L(P,h,D),f=!0},p(P,D){let N=e;e=_(P),e===N?g[e].p(P,D):(Xe(),q(g[N],1,1,()=>{g[N]=null}),Ye(),t=g[e],t?t.p(P,D):(t=g[e]=m[e](P),t.c()),U(t,1),t.m(n.parentNode,n));const O={};D[0]&4&&(O.visible=!P[2].active),D[0]&2564|D[1]&16384&&(O.$$scope={dirty:D,ctx:P}),r.$set(O);const F={};D[0]&4&&(F.wordNumber=P[2].wordNumber),o.$set(F);let v=l;l=R(P),l===v?A[l].p(P,D):(Xe(),q(A[v],1,1,()=>{A[v]=null}),Ye(),c=A[l],c?c.p(P,D):(c=A[l]=E[l](P),c.c()),U(c,1),c.m(h.parentNode,h))},i(P){f||(U(t),U(r.$$.fragment,P),U(o.$$.fragment,P),U(c),f=!0)},o(P){q(t),q(r.$$.fragment,P),q(o.$$.fragment,P),q(c),f=!1},d(P){g[e].d(P),P&&j(n),ee(r,P),P&&j(i),ee(o,P),P&&j(u),A[l].d(P),P&&j(h)}}}function Uc(s){let e,t,n;return{c(){e=z("div"),e.textContent="give up",V(e,"class","button concede svelte-zu82m8")},m(r,i){L(r,e,i),t||(n=[ae(e,"click",s[16]),ae(e,"keydown",s[16])],t=!0)},p:re,d(r){r&&j(e),t=!1,xe(n)}}}function M1(s){let e,t,n,r,i;e=new A1({props:{state:s[2]}}),e.$on("historical",s[36]);let o=s[2].active&&Uc(s);return r=new lw({props:{change:s[6]}}),{c(){se(e.$$.fragment),t=$(),o&&o.c(),n=$(),se(r.$$.fragment)},m(u,l){Z(e,u,l),L(u,t,l),o&&o.m(u,l),L(u,n,l),Z(r,u,l),i=!0},p(u,l){const c={};l[0]&4&&(c.state=u[2]),e.$set(c),u[2].active?o?o.p(u,l):(o=Uc(u),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null);const h={};l[0]&64&&(h.change=u[6]),r.$set(h)},i(u){i||(U(e.$$.fragment,u),U(r.$$.fragment,u),i=!0)},o(u){q(e.$$.fragment,u),q(r.$$.fragment,u),i=!1},d(u){ee(e,u),u&&j(t),o&&o.d(u),u&&j(n),ee(r,u)}}}function O1(s){let e,t,n,r,i,o,u=s[4].modes[s[12]].name+"",l,c,h=s[2].wordNumber+"",f,m,g;return{c(){e=z("a"),e.textContent="Original Wordle",t=$(),n=z("div"),r=z("div"),r.textContent=`v${s[14]}`,i=$(),o=z("div"),l=H(u),c=H(" word #"),f=H(h),V(e,"href","https://www.nytimes.com/games/wordle/"),V(e,"target","_blank"),V(e,"rel","noreferrer"),V(o,"title","double click to reset your stats"),V(o,"class","word")},m(_,E){L(_,e,E),L(_,t,E),L(_,n,E),T(n,r),T(n,i),T(n,o),T(o,l),T(o,c),T(o,f),m||(g=ae(o,"dblclick",s[35]),m=!0)},p(_,E){E[0]&4112&&u!==(u=_[4].modes[_[12]].name+"")&&ue(l,u),E[0]&4&&h!==(h=_[2].wordNumber+"")&&ue(f,h)},d(_){_&&j(e),_&&j(t),_&&j(n),m=!1,g()}}}function x1(s){let e,t,n;function r(o){s[38](o)}let i={};return s[6]!==void 0&&(i.showSettings=s[6]),e=new yw({props:i}),Ae.push(()=>We(e,"showSettings",r)),{c(){se(e.$$.fragment)},m(o,u){Z(e,o,u),n=!0},p(o,u){const l={};!t&&u[0]&64&&(t=!0,l.showSettings=o[6],Qe(()=>t=!1)),e.$set(l)},i(o){n||(U(e.$$.fragment,o),n=!0)},o(o){q(e.$$.fragment,o),n=!1},d(o){ee(e,o)}}}function j1(s){let e,t,n,r,i,o,u,l,c,h,f,m,g,_,E,A,R,P,D,N,O,F,v,y,b;function S(Q){s[19](Q)}let k={tutorial:s[13].tutorial===2,showStats:s[1].played>0||s[4].modes[s[12]].historical&&!s[2].active};s[9]!==void 0&&(k.showRefresh=s[9]),n=new Qw({props:k}),Ae.push(()=>We(n,"showRefresh",S)),n.$on("closeTutPopUp",ao(s[20])),n.$on("stats",s[21]),n.$on("tutorial",s[22]),n.$on("settings",s[23]),n.$on("reload",s[17]);function C(Q){s[25](Q)}let I={tutorial:s[13].tutorial===1,board:s[2].board,guesses:s[2].guesses,icon:s[4].modes[s[12]].icon};s[2].board.words!==void 0&&(I.value=s[2].board.words),o=new Kd({props:I}),s[24](o),Ae.push(()=>We(o,"value",C)),o.$on("closeTutPopUp",ao(s[26])),o.$on("swipe",s[18]);function te(Q){s[27](Q)}let fe={disabled:!s[2].active||s[13].tutorial===3||s[8]};s[2].board.words[s[2].guesses===Oe?0:s[2].guesses]!==void 0&&(fe.value=s[2].board.words[s[2].guesses===Oe?0:s[2].guesses]),c=new Qd({props:fe}),Ae.push(()=>We(c,"value",te)),c.$on("keystroke",s[28]),c.$on("submitWord",s[15]),c.$on("esc",s[29]);function be(Q){s[30](Q)}let Te={fullscreen:s[13].tutorial===0,$$slots:{default:[S1]},$$scope:{ctx:s}};s[5]!==void 0&&(Te.visible=s[5]),m=new Wr({props:Te}),Ae.push(()=>We(m,"visible",be)),m.$on("close",ao(s[31]));function Y(Q){s[34](Q)}let W={$$slots:{default:[z1]},$$scope:{ctx:s}};s[7]!==void 0&&(W.visible=s[7]),E=new Wr({props:W}),Ae.push(()=>We(E,"visible",Y));function he(Q){s[37](Q)}let Pe={fullscreen:!0,$$slots:{footer:[O1],default:[M1]},$$scope:{ctx:s}};s[6]!==void 0&&(Pe.visible=s[6]),P=new Wr({props:Pe}),Ae.push(()=>We(P,"visible",he));function Me(Q){s[39](Q)}let qe={$$slots:{default:[x1]},$$scope:{ctx:s}};return s[8]!==void 0&&(qe.visible=s[8]),O=new Wr({props:qe}),Ae.push(()=>We(O,"visible",Me)),{c(){e=$(),t=z("main"),se(n.$$.fragment),i=$(),se(o.$$.fragment),l=$(),se(c.$$.fragment),f=$(),se(m.$$.fragment),_=$(),se(E.$$.fragment),R=$(),se(P.$$.fragment),N=$(),se(O.$$.fragment),Ct(t,"--rows",Oe),Ct(t,"--cols",Rt),V(t,"class","svelte-zu82m8"),Se(t,"guesses",s[2].guesses!==0)},m(Q,X){L(Q,e,X),L(Q,t,X),Z(n,t,null),T(t,i),Z(o,t,null),T(t,l),Z(c,t,null),L(Q,f,X),Z(m,Q,X),L(Q,_,X),Z(E,Q,X),L(Q,R,X),Z(P,Q,X),L(Q,N,X),Z(O,Q,X),v=!0,y||(b=[ae(document.body,"click",function(){xt(s[10].hideCtx)&&s[10].hideCtx.apply(this,arguments)}),ae(document.body,"contextmenu",function(){xt(s[10].hideCtx)&&s[10].hideCtx.apply(this,arguments)})],y=!0)},p(Q,X){s=Q;const bt={};X[0]&8192&&(bt.tutorial=s[13].tutorial===2),X[0]&4118&&(bt.showStats=s[1].played>0||s[4].modes[s[12]].historical&&!s[2].active),!r&&X[0]&512&&(r=!0,bt.showRefresh=s[9],Qe(()=>r=!1)),n.$set(bt);const De={};X[0]&8192&&(De.tutorial=s[13].tutorial===1),X[0]&4&&(De.board=s[2].board),X[0]&4&&(De.guesses=s[2].guesses),X[0]&4112&&(De.icon=s[4].modes[s[12]].icon),!u&&X[0]&4&&(u=!0,De.value=s[2].board.words,Qe(()=>u=!1)),o.$set(De);const it={};X[0]&8452&&(it.disabled=!s[2].active||s[13].tutorial===3||s[8]),!h&&X[0]&4&&(h=!0,it.value=s[2].board.words[s[2].guesses===Oe?0:s[2].guesses],Qe(()=>h=!1)),c.$set(it),(!v||X[0]&4)&&Se(t,"guesses",s[2].guesses!==0);const wt={};X[0]&8192&&(wt.fullscreen=s[13].tutorial===0),X[0]&32|X[1]&16384&&(wt.$$scope={dirty:X,ctx:s}),!g&&X[0]&32&&(g=!0,wt.visible=s[5],Qe(()=>g=!1)),m.$set(wt);const ot={};X[0]&6679|X[1]&16384&&(ot.$$scope={dirty:X,ctx:s}),!A&&X[0]&128&&(A=!0,ot.visible=s[7],Qe(()=>A=!1)),E.$set(ot);const ie={};X[0]&4444|X[1]&16384&&(ie.$$scope={dirty:X,ctx:s}),!D&&X[0]&64&&(D=!0,ie.visible=s[6],Qe(()=>D=!1)),P.$set(ie);const mt={};X[0]&64|X[1]&16384&&(mt.$$scope={dirty:X,ctx:s}),!F&&X[0]&256&&(F=!0,mt.visible=s[8],Qe(()=>F=!1)),O.$set(mt)},i(Q){v||(U(n.$$.fragment,Q),U(o.$$.fragment,Q),U(c.$$.fragment,Q),U(m.$$.fragment,Q),U(E.$$.fragment,Q),U(P.$$.fragment,Q),U(O.$$.fragment,Q),v=!0)},o(Q){q(n.$$.fragment,Q),q(o.$$.fragment,Q),q(c.$$.fragment,Q),q(m.$$.fragment,Q),q(E.$$.fragment,Q),q(P.$$.fragment,Q),q(O.$$.fragment,Q),v=!1},d(Q){Q&&j(e),Q&&j(t),ee(n),s[24](null),ee(o),ee(c),Q&&j(f),ee(m,Q),Q&&j(_),ee(E,Q),Q&&j(R),ee(P,Q),Q&&j(N),ee(O,Q),y=!1,xe(b)}}}function L1(s,e,t){let n,r,i;Tt(s,$e,ie=>t(12,n=ie)),Tt(s,ts,ie=>t(40,r=ie)),Tt(s,zt,ie=>t(13,i=ie));let{word:o}=e,{stats:u}=e,{game:l}=e,{toaster:c}=e;Zo("toaster",c);const h=Pn("version"),f=bs*Oe+800;let m=i.tutorial===3,g=!1,_=!1,E=!1,A=!1,R,P;function D(){if(l.latestWord.length!==Rt)c.pop("Not enough letters"),R.shake(l.guesses);else if(cr.contains(l.latestWord)){if(l.guesses>0){const ie=l.checkHardMode();if(i.hard[n]){if(ie.type===""){c.pop(`${Ib(ie.pos+1)} letter must be ${ie.char.toUpperCase()}`),R.shake(l.guesses);return}else if(ie.type===""){c.pop(`Guess must contain ${ie.char.toUpperCase()}`),R.shake(l.guesses);return}}else ie.type!==""&&t(2,l.validHard=!1,l)}t(2,l.board.state[l.guesses]=l.guess(o),l),t(2,++l.guesses,l),r.update(l.lastState,l.lastWord),ts.set(r),l.lastWord===o?N():l.guesses===Oe&&O()}else c.pop("Not in word list"),R.shake(l.guesses)}function N(){R.bounce(l.guesses-1),t(2,l.active=!1,l),setTimeout(()=>c.pop(Bo[l.guesses-1]),bs*Rt+bs),setTimeout(y,f*1.4),me.modes[n].historical||(u.addWin(l.guesses,me.modes[n]),t(1,u),localStorage.setItem(`stats-${n}`,u.toString()))}function O(){t(2,l.active=!1,l),setTimeout(y,f),me.modes[n].historical||(u.addLoss(me.modes[n]),t(1,u),localStorage.setItem(`stats-${n}`,u.toString()))}function F(){t(6,g=!1),setTimeout(y,bs),O()}function v(){t(4,me.modes[n].historical=!1,me),t(4,me.modes[n].seed=gn(n),me),t(2,l=new Ho(n,localStorage.getItem(`state-${n}`))),t(0,o=cr.words[Wd(0,cr.words.length,me.modes[n].seed)]),qt(ts,r=new wr,r),t(7,_=!1),t(9,A=!1),P.reset(n)}function y(){l.active||t(7,_=!0)}function b(ie){switch(ie.detail.direction){case"left":qt($e,n=(n+1)%me.modes.length,n),c.pop(me.modes[n].name);break;case"right":qt($e,n=(n-1+me.modes.length)%me.modes.length,n),c.pop(me.modes[n].name);break}}Er(()=>{l.active||setTimeout(y,f)});function S(ie){A=ie,t(9,A)}const k=()=>qt(zt,i.tutorial=1,i),C=()=>t(7,_=!0),I=()=>t(5,m=!0),te=()=>t(6,g=!0);function fe(ie){Ae[ie?"unshift":"push"](()=>{R=ie,t(10,R)})}function be(ie){s.$$.not_equal(l.board.words,ie)&&(l.board.words=ie,t(2,l))}const Te=()=>qt(zt,i.tutorial=0,i);function Y(ie){s.$$.not_equal(l.board.words[l.guesses===Oe?0:l.guesses],ie)&&(l.board.words[l.guesses===Oe?0:l.guesses]=ie,t(2,l))}const W=()=>{i.tutorial&&qt(zt,i.tutorial=0,i),R.hideCtx()},he=()=>{t(5,m=!1),t(7,_=!1),t(6,g=!1)};function Pe(ie){m=ie,t(5,m)}const Me=()=>i.tutorial===3&&qt(zt,--i.tutorial,i);function qe(ie){Ae[ie?"unshift":"push"](()=>{P=ie,t(11,P)})}const Q=()=>t(9,A=!0);function X(ie){_=ie,t(7,_)}const bt=()=>{localStorage.clear(),c.pop("localStorage cleared")},De=()=>t(8,E=!0);function it(ie){g=ie,t(6,g)}function wt(ie){g=ie,t(6,g)}function ot(ie){E=ie,t(8,E)}return s.$$set=ie=>{"word"in ie&&t(0,o=ie.word),"stats"in ie&&t(1,u=ie.stats),"game"in ie&&t(2,l=ie.game),"toaster"in ie&&t(3,c=ie.toaster)},[o,u,l,c,me,m,g,_,E,A,R,P,n,i,h,D,F,v,b,S,k,C,I,te,fe,be,Te,Y,W,he,Pe,Me,qe,Q,X,bt,De,it,wt,ot]}class F1 extends Ce{constructor(e){super(),Re(this,e,L1,j1,Ie,{word:0,stats:1,game:2,toaster:3},null,[-1,-1])}}function qc(s,e,t){const n=s.slice();return n[8]=e[t],n[10]=t,n}function Bc(s){let e,t;return{c(){e=z("h3"),t=H(s[0]),V(e,"class","svelte-1fhabyx")},m(n,r){L(n,e,r),T(e,t)},p(n,r){r&1&&ue(t,n[0])},d(n){n&&j(e)}}}function Hc(s){let e,t,n,r,i,o,u,l,c,h=Gc(s[4])+"",f,m,g,_,E,A,R=s[1].wordsCompleted+"",P,D,N,O,F,v,y=s[1].totalGuesses+"",b,S,k,C,I,te,fe=Ai(s[1].totalTime)+"",be;return{c(){e=z("div"),t=z("h3"),t.textContent="Your Results",n=$(),r=z("div"),i=z("div"),o=z("div"),o.textContent="Rank",u=$(),l=z("div"),c=H(s[4]),f=H(h),m=$(),g=z("div"),_=z("div"),_.textContent="Words Completed",E=$(),A=z("div"),P=H(R),D=$(),N=z("div"),O=z("div"),O.textContent="Total Guesses",F=$(),v=z("div"),b=H(y),S=$(),k=z("div"),C=z("div"),C.textContent="Total Time",I=$(),te=z("div"),be=H(fe),V(t,"class","svelte-1fhabyx"),V(o,"class","stat-label svelte-1fhabyx"),V(l,"class","stat-value svelte-1fhabyx"),V(i,"class","stat svelte-1fhabyx"),V(_,"class","stat-label svelte-1fhabyx"),V(A,"class","stat-value svelte-1fhabyx"),V(g,"class","stat svelte-1fhabyx"),V(O,"class","stat-label svelte-1fhabyx"),V(v,"class","stat-value svelte-1fhabyx"),V(N,"class","stat svelte-1fhabyx"),V(C,"class","stat-label svelte-1fhabyx"),V(te,"class","stat-value svelte-1fhabyx"),V(k,"class","stat svelte-1fhabyx"),V(r,"class","stats-grid svelte-1fhabyx"),V(e,"class","player-stats svelte-1fhabyx")},m(Te,Y){L(Te,e,Y),T(e,t),T(e,n),T(e,r),T(r,i),T(i,o),T(i,u),T(i,l),T(l,c),T(l,f),T(r,m),T(r,g),T(g,_),T(g,E),T(g,A),T(A,P),T(r,D),T(r,N),T(N,O),T(N,F),T(N,v),T(v,b),T(r,S),T(r,k),T(k,C),T(k,I),T(k,te),T(te,be)},p(Te,Y){Y&16&&ue(c,Te[4]),Y&16&&h!==(h=Gc(Te[4])+"")&&ue(f,h),Y&2&&R!==(R=Te[1].wordsCompleted+"")&&ue(P,R),Y&2&&y!==(y=Te[1].totalGuesses+"")&&ue(b,y),Y&2&&fe!==(fe=Ai(Te[1].totalTime)+"")&&ue(be,fe)},d(Te){Te&&j(e)}}}function $1(s){let e,t=s[2],n=[];for(let r=0;r<t.length;r+=1)n[r]=Wc(qc(s,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Us()},m(r,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(r,i);L(r,e,i)},p(r,i){if(i&12){t=r[2];let o;for(o=0;o<t.length;o+=1){const u=qc(r,t,o);n[o]?n[o].p(u,i):(n[o]=Wc(u),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(r){Ot(n,r),r&&j(e)}}}function U1(s){let e;return{c(){e=z("div"),e.innerHTML=`<p class="svelte-1fhabyx">No players have completed this session yet.</p> 
				<p class="svelte-1fhabyx">Be the first to make it to the leaderboard!</p>`,V(e,"class","empty-state svelte-1fhabyx")},m(t,n){L(t,e,n)},p:re,d(t){t&&j(e)}}}function q1(s){let e,t=s[10]+1+"",n;return{c(){e=H("#"),n=H(t)},m(r,i){L(r,e,i),L(r,n,i)},d(r){r&&j(e),r&&j(n)}}}function B1(s){let e;return{c(){e=H("")},m(t,n){L(t,e,n)},d(t){t&&j(e)}}}function H1(s){let e;return{c(){e=H("")},m(t,n){L(t,e,n)},d(t){t&&j(e)}}}function W1(s){let e;return{c(){e=H("")},m(t,n){L(t,e,n)},d(t){t&&j(e)}}}function Wc(s){let e,t,n,r,i=s[8].playerName+"",o,u,l,c=s[8].wordsCompleted+"",h,f,m,g=s[8].totalGuesses+"",_,E,A,R=Ai(s[8].totalTime)+"",P,D;function N(v,y){return v[10]===0?W1:v[10]===1?H1:v[10]===2?B1:q1}let F=N(s)(s);return{c(){e=z("div"),t=z("div"),F.c(),n=$(),r=z("div"),o=H(i),u=$(),l=z("div"),h=H(c),f=$(),m=z("div"),_=H(g),E=$(),A=z("div"),P=H(R),D=$(),V(t,"class","rank-col svelte-1fhabyx"),V(r,"class","name-col svelte-1fhabyx"),V(l,"class","words-col svelte-1fhabyx"),V(m,"class","guesses-col svelte-1fhabyx"),V(A,"class","time-col svelte-1fhabyx"),V(e,"class","table-row svelte-1fhabyx"),Se(e,"current-player",s[8].playerUid===s[3]),Se(e,"top-three",s[10]<3)},m(v,y){L(v,e,y),T(e,t),F.m(t,null),T(e,n),T(e,r),T(r,o),T(e,u),T(e,l),T(l,h),T(e,f),T(e,m),T(m,_),T(e,E),T(e,A),T(A,P),T(e,D)},p(v,y){y&4&&i!==(i=v[8].playerName+"")&&ue(o,i),y&4&&c!==(c=v[8].wordsCompleted+"")&&ue(h,c),y&4&&g!==(g=v[8].totalGuesses+"")&&ue(_,g),y&4&&R!==(R=Ai(v[8].totalTime)+"")&&ue(P,R),y&12&&Se(e,"current-player",v[8].playerUid===v[3])},d(v){v&&j(e),F.d()}}}function G1(s){let e,t,n,r,i,o,u,l,c,h=s[0]&&Bc(s),f=s[1]&&Hc(s);function m(E,A){return E[2].length===0?U1:$1}let g=m(s),_=g(s);return{c(){e=z("div"),t=z("div"),n=z("h2"),n.textContent=" Leaderboard",r=$(),h&&h.c(),i=$(),f&&f.c(),o=$(),u=z("div"),l=z("div"),l.innerHTML=`<div class="rank-col svelte-1fhabyx">Rank</div> 
			<div class="name-col svelte-1fhabyx">Player</div> 
			<div class="words-col svelte-1fhabyx">Words</div> 
			<div class="guesses-col svelte-1fhabyx">Guesses</div> 
			<div class="time-col svelte-1fhabyx">Time</div>`,c=$(),_.c(),V(n,"class","svelte-1fhabyx"),V(t,"class","header svelte-1fhabyx"),V(l,"class","table-header svelte-1fhabyx"),V(u,"class","leaderboard-table svelte-1fhabyx"),V(e,"class","leaderboard svelte-1fhabyx")},m(E,A){L(E,e,A),T(e,t),T(t,n),T(t,r),h&&h.m(t,null),T(e,i),f&&f.m(e,null),T(e,o),T(e,u),T(u,l),T(u,c),_.m(u,null)},p(E,[A]){E[0]?h?h.p(E,A):(h=Bc(E),h.c(),h.m(t,null)):h&&(h.d(1),h=null),E[1]?f?f.p(E,A):(f=Hc(E),f.c(),f.m(e,o)):f&&(f.d(1),f=null),g===(g=m(E))&&_?_.p(E,A):(_.d(1),_=g(E),_&&(_.c(),_.m(u,null)))},i:re,o:re,d(E){E&&j(e),h&&h.d(),f&&f.d(),_.d()}}}function Ai(s){const e=Math.floor(s/1e3),t=Math.floor(e/60),n=e%60;return t>0?`${t}m ${n}s`:`${n}s`}function Gc(s){return s===1?"st":s===2?"nd":s===3?"rd":"th"}function K1(s,e,t){let n,{sessionId:r}=e,{currentPlayerEntry:i=null}=e;const u=oa({apiKey:"AIzaSyBTos_hTrK-w8v_04sv5huFokRIEPEJgmI",authDomain:"wordlesession.firebaseapp.com",projectId:"wordlesession",storageBucket:"wordlesession.firebasestorage.app",messagingSenderId:"274940936333",appId:"1:274940936333:web:3c9fc73014ab56afdaa2c4"}),l=Pd(u);let c=localStorage.getItem("playerUid"),h=[];return Er(()=>{i||t(3,c="");const f=q_(A_(l,r),m=>{const g=[];m.forEach(_=>g.push(_.data())),g.sort((_,E)=>E.wordsCompleted!==_.wordsCompleted?E.wordsCompleted-_.wordsCompleted:_.totalGuesses!==E.totalGuesses?_.totalGuesses-E.totalGuesses:_.totalTime!==E.totalTime?_.totalTime-E.totalTime:_.completedAt-E.completedAt),t(2,h=g)});return()=>f()}),s.$$set=f=>{"sessionId"in f&&t(0,r=f.sessionId),"currentPlayerEntry"in f&&t(1,i=f.currentPlayerEntry)},s.$$.update=()=>{s.$$.dirty&6&&t(4,n=i?h.findIndex(f=>f.playerUid===i.playerUid)+1:0)},[r,i,h,c,n]}class Q1 extends Ce{constructor(e){super(),Re(this,e,K1,G1,Ie,{sessionId:0,currentPlayerEntry:1})}}function Kc(s){let e,t,n,r;const i=[Z1,J1,Y1,X1],o=[];function u(l,c){return l[7]?0:l[6]?1:l[1]?2:3}return e=u(s),t=o[e]=i[e](s),{c(){t.c(),n=Us()},m(l,c){o[e].m(l,c),L(l,n,c),r=!0},p(l,c){let h=e;e=u(l),e===h?o[e].p(l,c):(Xe(),q(o[h],1,1,()=>{o[h]=null}),Ye(),t=o[e],t?t.p(l,c):(t=o[e]=i[e](l),t.c()),U(t,1),t.m(n.parentNode,n))},i(l){r||(U(t),r=!0)},o(l){q(t),r=!1},d(l){o[e].d(l),l&&j(n)}}}function X1(s){let e,t,n,r;function i(l){s[16](l)}function o(l){s[17](l)}let u={stats:s[3],toaster:s[5]};return s[4]!==void 0&&(u.word=s[4]),s[0]!==void 0&&(u.game=s[0]),e=new F1({props:u}),Ae.push(()=>We(e,"word",i)),Ae.push(()=>We(e,"game",o)),{c(){se(e.$$.fragment)},m(l,c){Z(e,l,c),r=!0},p(l,c){const h={};c&8&&(h.stats=l[3]),c&32&&(h.toaster=l[5]),!t&&c&16&&(t=!0,h.word=l[4],Qe(()=>t=!1)),!n&&c&1&&(n=!0,h.game=l[0],Qe(()=>n=!1)),e.$set(h)},i(l){r||(U(e.$$.fragment,l),r=!0)},o(l){q(e.$$.fragment,l),r=!1},d(l){ee(e,l)}}}function Y1(s){let e,t,n,r;function i(l){s[13](l)}function o(l){s[14](l)}let u={toaster:s[5]};return s[1]!==void 0&&(u.sessionState=s[1]),s[2]!==void 0&&(u.currentPlayerEntry=s[2]),e=new xw({props:u}),Ae.push(()=>We(e,"sessionState",i)),Ae.push(()=>We(e,"currentPlayerEntry",o)),e.$on("complete",s[15]),{c(){se(e.$$.fragment)},m(l,c){Z(e,l,c),r=!0},p(l,c){const h={};c&32&&(h.toaster=l[5]),!t&&c&2&&(t=!0,h.sessionState=l[1],Qe(()=>t=!1)),!n&&c&4&&(n=!0,h.currentPlayerEntry=l[2],Qe(()=>n=!1)),e.$set(h)},i(l){r||(U(e.$$.fragment,l),r=!0)},o(l){q(e.$$.fragment,l),r=!1},d(l){ee(e,l)}}}function J1(s){var n;let e,t;return e=new Uw({props:{sessionId:((n=s[1])==null?void 0:n.sessionId)||s[8].get("session")||""}}),e.$on("start",s[9]),{c(){se(e.$$.fragment)},m(r,i){Z(e,r,i),t=!0},p(r,i){var u;const o={};i&2&&(o.sessionId=((u=r[1])==null?void 0:u.sessionId)||r[8].get("session")||""),e.$set(o)},i(r){t||(U(e.$$.fragment,r),t=!0)},o(r){q(e.$$.fragment,r),t=!1},d(r){ee(e,r)}}}function Z1(s){var n;let e,t;return e=new Q1({props:{sessionId:((n=s[1])==null?void 0:n.sessionId)||s[8].get("session")||"",currentPlayerEntry:s[2]}}),{c(){se(e.$$.fragment)},m(r,i){Z(e,r,i),t=!0},p(r,i){var u;const o={};i&2&&(o.sessionId=((u=r[1])==null?void 0:u.sessionId)||r[8].get("session")||""),i&4&&(o.currentPlayerEntry=r[2]),e.$set(o)},i(r){t||(U(e.$$.fragment,r),t=!0)},o(r){q(e.$$.fragment,r),t=!1},d(r){ee(e,r)}}}function ev(s){let e,t,n,r,i={};e=new iw({props:i}),s[12](e);let o=s[5]&&Kc(s);return{c(){se(e.$$.fragment),t=$(),o&&o.c(),n=Us()},m(u,l){Z(e,u,l),L(u,t,l),o&&o.m(u,l),L(u,n,l),r=!0},p(u,[l]){const c={};e.$set(c),u[5]?o?(o.p(u,l),l&32&&U(o,1)):(o=Kc(u),o.c(),U(o,1),o.m(n.parentNode,n)):o&&(Xe(),q(o,1,1,()=>{o=null}),Ye())},i(u){r||(U(e.$$.fragment,u),U(o),r=!0)},o(u){q(e.$$.fragment,u),q(o),r=!1},d(u){s[12](null),ee(e,u),u&&j(t),o&&o.d(u),u&&j(n)}}}document.title="Wordle+ | An infinite word guessing game";function tv(s){localStorage.setItem(`session-${s.sessionId}`,s.toString())}function sv(s,e,t){let n;Tt(s,$e,Y=>t(18,n=Y));let{version:r}=e;Zo("version",r),localStorage.setItem("version",r);let i,o,u,l,c=null,h=!1,f=!1,m=null;zt.set(new Gd(localStorage.getItem("settings"))),zt.subscribe(Y=>localStorage.setItem("settings",JSON.stringify(Y)));const _=oa({apiKey:"AIzaSyBTos_hTrK-w8v_04sv5huFokRIEPEJgmI",authDomain:"wordlesession.firebaseapp.com",projectId:"wordlesession",storageBucket:"wordlesession.firebasestorage.app",messagingSenderId:"274940936333",appId:"1:274940936333:web:3c9fc73014ab56afdaa2c4"}),E=Pd(_),A=new URLSearchParams(window.location.search),R=A.get("session"),P=A.get("leaderboard")==="true",D=window.location.hash.slice(1).split("/"),N=isNaN(ut[D[0]])?R?ut.session:+localStorage.getItem("mode")||me.default:ut[D[0]];$e.set(N),!isNaN(+D[1])&&+D[1]<Hs(N)&&n!==ut.session&&(me.modes[N].seed=(+D[1]-1)*me.modes[N].unit+me.modes[N].start,me.modes[N].historical=!0),$e.subscribe(Y=>{if(Y===ut.session){if(R){const W=Ti(R),he=localStorage.getItem(`session-${W.id}-leaderboard`);W?P?(t(2,m=null),t(7,f=!0)):localStorage.getItem("player")?he?(t(2,m=JSON.parse(he)),m.completedAt!=null?t(7,f=!0):F(W.id)):F(W.id):t(6,h=!0):t(6,h=!0)}}else t(6,h=!1),t(7,f=!1),t(1,c=null),O()});function O(){localStorage.setItem("mode",`${n}`),window.location.hash=ut[n],t(3,i=new Ab(localStorage.getItem(`stats-${n}`)||n)),t(4,o=cr.words[Wd(0,cr.words.length,me.modes[n].seed)]),me.modes[n].historical?t(0,u=new Ho(n,localStorage.getItem(`state-${n}-h`))):t(0,u=new Ho(n,localStorage.getItem(`state-${n}`))),ts.set(new wr(u.board))}function F(Y){const W=Ti(Y);if(W){if(t(1,c=new Sb(Y,localStorage.getItem(`session-${Y}`))),ts.set(new wr(c.board)),m||t(2,m={playerName:localStorage.getItem("player")||"",playerUid:localStorage.getItem("playerUid"),sessionId:c.sessionId,totalGuesses:0,totalTime:Date.now()-c.startTime,completedAt:null,wordsCompleted:0}),c.currentWordIndex===0&&!c.currentWord){const he=W.words[0];t(1,c.currentWord=he.word.toLowerCase(),c),t(1,c.currentHint=he.hint,c),t(1,c.currentWordLength=he.length,c),t(1,c.board={words:Array(Oe).fill(""),state:Array.from({length:Oe},()=>Array(he.length).fill(""))},c)}t(6,h=!1),t(7,f=!1)}}function v(Y){const{sessionId:W,playerName:he}=Y.detail;localStorage.setItem("player",he);let Pe=localStorage.getItem("playerUid");Pe||(Pe=crypto.randomUUID(),localStorage.setItem("playerUid",Pe)),F(W)}async function y(Y){t(7,f=!0)}function b(Y){me.modes[n].historical?localStorage.setItem(`state-${n}-h`,Y.toString()):localStorage.setItem(`state-${n}`,Y.toString())}async function S(Y){const W=S_(E,Y.sessionId,localStorage.getItem("playerUid"));await U_(W,Y,{merge:!0})}function k(Y){localStorage.setItem(`session-${Y.sessionId}-leaderboard`,JSON.stringify(Y)),S(Y).catch(W=>{console.error("Failed to update player data in Firestore:",W)})}function C(Y){Ae[Y?"unshift":"push"](()=>{l=Y,t(5,l)})}function I(Y){c=Y,t(1,c)}function te(Y){m=Y,t(2,m)}const fe=Y=>y(Y.detail);function be(Y){o=Y,t(4,o)}function Te(Y){u=Y,t(0,u)}return s.$$set=Y=>{"version"in Y&&t(11,r=Y.version)},s.$$.update=()=>{s.$$.dirty&1&&u&&b(u),s.$$.dirty&2&&c&&tv(c),s.$$.dirty&4&&m&&k(m)},[u,c,m,i,o,l,h,f,A,v,y,r,C,I,te,fe,be,Te]}class nv extends Ce{constructor(e){super(),Re(this,e,sv,ev,Ie,{version:11})}}//! IF ANYTHING IN THIS FILE IS CHANGED MAKE SURE setVersion.js HAS ALSO BEEN UPDATED
new nv({target:document.body,props:{version:"1.5.2"}});

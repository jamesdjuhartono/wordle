var Tf=Object.defineProperty;var If=(s,e,t)=>e in s?Tf(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var ee=(s,e,t)=>(If(s,typeof e!="symbol"?e+"":e,t),t),jl=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var Os=(s,e,t)=>(jl(s,e,"read from private field"),t?t.call(s):e.get(s)),Yn=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)},ys=(s,e,t,n)=>(jl(s,e,"write to private field"),n?n.call(s,t):e.set(s,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function ae(){}const Ri=s=>s;function Af(s,e){for(const t in e)s[t]=e[t];return s}function Sf(s){return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"}function Qc(s){return s()}function Fl(){return Object.create(null)}function $e(s){s.forEach(Qc)}function rs(s){return typeof s=="function"}function Se(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}function Rf(s){return Object.keys(s).length===0}function Cf(s,...e){if(s==null)return ae;const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function At(s,e,t){s.$$.on_destroy.push(Cf(e,t))}function is(s,e,t,n){if(s){const r=Xc(s,e,t,n);return s[0](r)}}function Xc(s,e,t,n){return s[1]&&n?Af(t.ctx.slice(),s[1](n(e))):t.ctx}function os(s,e,t,n){if(s[2]&&n){const r=s[2](n(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const i=[],o=Math.max(e.dirty.length,r.length);for(let u=0;u<o;u+=1)i[u]=e.dirty[u]|r[u];return i}return e.dirty|r}return e.dirty}function as(s,e,t,n,r,i){if(r){const o=Xc(e,t,n,i);s.p(o,r)}}function ls(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function co(s){let e=!1;return function(...t){e||(e=!0,s.call(this,...t))}}function $l(s){return s??""}function jt(s,e,t){return s.set(t),e}const Yc=typeof window<"u";let Jo=Yc?()=>window.performance.now():()=>Date.now(),Zo=Yc?s=>requestAnimationFrame(s):ae;const dn=new Set;function Jc(s){dn.forEach(e=>{e.c(s)||(dn.delete(e),e.f())}),dn.size!==0&&Zo(Jc)}function ea(s){let e;return dn.size===0&&Zo(Jc),{promise:new Promise(t=>{dn.add(e={c:s,f:t})}),abort(){dn.delete(e)}}}function E(s,e){s.appendChild(e)}function Zc(s){if(!s)return document;const e=s.getRootNode?s.getRootNode():s.ownerDocument;return e&&e.host?e:s.ownerDocument}function Pf(s){const e=N("style");return Vf(Zc(s),e),e.sheet}function Vf(s,e){return E(s.head||s,e),e.sheet}function j(s,e,t){s.insertBefore(e,t||null)}function L(s){s.parentNode&&s.parentNode.removeChild(s)}function Lt(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function N(s){return document.createElement(s)}function ut(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function H(s){return document.createTextNode(s)}function $(){return H(" ")}function qs(){return H("")}function ce(s,e,t,n){return s.addEventListener(e,t,n),()=>s.removeEventListener(e,t,n)}function ti(s){return function(e){return e.preventDefault(),s.call(this,e)}}function si(s){return function(e){e.target===this&&s.call(this,e)}}function D(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function eh(s){return s===""?null:+s}function Df(s){return Array.from(s.childNodes)}function ue(s,e){e=""+e,s.data!==e&&(s.data=e)}function vn(s,e){s.value=e??""}function Pt(s,e,t,n){t==null?s.style.removeProperty(e):s.style.setProperty(e,t,n?"important":"")}function ni(s,e,t){for(let n=0;n<s.options.length;n+=1){const r=s.options[n];if(r.__value===e){r.selected=!0;return}}(!t||e!==void 0)&&(s.selectedIndex=-1)}function th(s){const e=s.querySelector(":checked");return e&&e.__value}function Re(s,e,t){s.classList[t?"add":"remove"](e)}function ta(s,e,{bubbles:t=!1,cancelable:n=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(s,t,n,e),r}function Ul(s,e){return new s(e)}const ri=new Map;let ii=0;function Nf(s){let e=5381,t=s.length;for(;t--;)e=(e<<5)-e^s.charCodeAt(t);return e>>>0}function zf(s,e){const t={stylesheet:Pf(e),rules:{}};return ri.set(s,t),t}function oi(s,e,t,n,r,i,o,u=0){const l=16.666/n;let c=`{
`;for(let k=0;k<=1;k+=l){const S=e+(t-e)*i(k);c+=k*100+`%{${o(S,1-S)}}
`}const h=c+`100% {${o(t,1-t)}}
}`,f=`__svelte_${Nf(h)}_${u}`,m=Zc(s),{stylesheet:g,rules:_}=ri.get(m)||zf(m,s);_[f]||(_[f]=!0,g.insertRule(`@keyframes ${f} ${h}`,g.cssRules.length));const I=s.style.animation||"";return s.style.animation=`${I?`${I}, `:""}${f} ${n}ms linear ${r}ms 1 both`,ii+=1,f}function ai(s,e){const t=(s.style.animation||"").split(", "),n=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),r=t.length-n.length;r&&(s.style.animation=n.join(", "),ii-=r,ii||Mf())}function Mf(){Zo(()=>{ii||(ri.forEach(s=>{const{ownerNode:e}=s.stylesheet;e&&L(e)}),ri.clear())})}let ur;function ts(s){ur=s}function Vn(){if(!ur)throw new Error("Function called outside component initialization");return ur}function Ci(s){Vn().$$.on_mount.push(s)}function sh(s){Vn().$$.on_destroy.push(s)}function Qt(){const s=Vn();return(e,t,{cancelable:n=!1}={})=>{const r=s.$$.callbacks[e];if(r){const i=ta(e,t,{cancelable:n});return r.slice().forEach(o=>{o.call(s,i)}),!i.defaultPrevented}return!0}}function sa(s,e){return Vn().$$.context.set(s,e),e}function Dn(s){return Vn().$$.context.get(s)}function Of(s,e){const t=s.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const an=[],Pe=[];let fn=[];const To=[],xf=Promise.resolve();let Io=!1;function Lf(){Io||(Io=!0,xf.then(na))}function Vt(s){fn.push(s)}function Ge(s){To.push(s)}const ho=new Set;let nn=0;function na(){if(nn!==0)return;const s=ur;do{try{for(;nn<an.length;){const e=an[nn];nn++,ts(e),jf(e.$$)}}catch(e){throw an.length=0,nn=0,e}for(ts(null),an.length=0,nn=0;Pe.length;)Pe.pop()();for(let e=0;e<fn.length;e+=1){const t=fn[e];ho.has(t)||(ho.add(t),t())}fn.length=0}while(an.length);for(;To.length;)To.pop()();Io=!1,ho.clear(),ts(s)}function jf(s){if(s.fragment!==null){s.update(),$e(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Vt)}}function Ff(s){const e=[],t=[];fn.forEach(n=>s.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),fn=e}let Jn;function ra(){return Jn||(Jn=Promise.resolve(),Jn.then(()=>{Jn=null})),Jn}function js(s,e,t){s.dispatchEvent(ta(`${e?"intro":"outro"}${t}`))}const Kr=new Set;let $t;function Je(){$t={r:0,c:[],p:$t}}function Ze(){$t.r||$e($t.c),$t=$t.p}function U(s,e){s&&s.i&&(Kr.delete(s),s.i(e))}function B(s,e,t,n){if(s&&s.o){if(Kr.has(s))return;Kr.add(s),$t.c.push(()=>{Kr.delete(s),n&&(t&&s.d(1),n())}),s.o(e)}else n&&n()}const ia={duration:0};function $f(s,e,t){const n={direction:"in"};let r=e(s,t,n),i=!1,o,u,l=0;function c(){o&&ai(s,o)}function h(){const{delay:m=0,duration:g=300,easing:_=Ri,tick:I=ae,css:k}=r||ia;k&&(o=oi(s,0,1,g,m,_,k,l++)),I(0,1);const S=Jo()+m,C=S+g;u&&u.abort(),i=!0,Vt(()=>js(s,!0,"start")),u=ea(V=>{if(i){if(V>=C)return I(1,0),js(s,!0,"end"),c(),i=!1;if(V>=S){const z=_((V-S)/g);I(z,1-z)}}return i})}let f=!1;return{start(){f||(f=!0,ai(s),rs(r)?(r=r(n),ra().then(h)):h())},invalidate(){f=!1},end(){i&&(c(),i=!1)}}}function Uf(s,e,t){const n={direction:"out"};let r=e(s,t,n),i=!0,o;const u=$t;u.r+=1;function l(){const{delay:c=0,duration:h=300,easing:f=Ri,tick:m=ae,css:g}=r||ia;g&&(o=oi(s,1,0,h,c,f,g));const _=Jo()+c,I=_+h;Vt(()=>js(s,!1,"start")),ea(k=>{if(i){if(k>=I)return m(0,1),js(s,!1,"end"),--u.r||$e(u.c),!1;if(k>=_){const S=f((k-_)/h);m(1-S,S)}}return i})}return rs(r)?ra().then(()=>{r=r(n),l()}):l(),{end(c){c&&r.tick&&r.tick(1,0),i&&(o&&ai(s,o),i=!1)}}}function Is(s,e,t,n){const r={direction:"both"};let i=e(s,t,r),o=n?0:1,u=null,l=null,c=null;function h(){c&&ai(s,c)}function f(g,_){const I=g.b-o;return _*=Math.abs(I),{a:o,b:g.b,d:I,duration:_,start:g.start,end:g.start+_,group:g.group}}function m(g){const{delay:_=0,duration:I=300,easing:k=Ri,tick:S=ae,css:C}=i||ia,V={start:Jo()+_,b:g};g||(V.group=$t,$t.r+=1),u||l?l=V:(C&&(h(),c=oi(s,o,g,I,_,k,C)),g&&S(0,1),u=f(V,I),Vt(()=>js(s,g,"start")),ea(z=>{if(l&&z>l.start&&(u=f(l,I),l=null,js(s,u.b,"start"),C&&(h(),c=oi(s,o,u.b,u.duration,0,k,i.css))),u){if(z>=u.end)S(o=u.b,1-o),js(s,u.b,"end"),l||(u.b?h():--u.group.r||$e(u.group.c)),u=null;else if(z>=u.start){const O=z-u.start;o=u.a+u.d*k(O/u.duration),S(o,1-o)}}return!!(u||l)}))}return{run(g){rs(i)?ra().then(()=>{i=i(r),m(g)}):m(g)},end(){h(),u=l=null}}}function ql(s,e){const t=e.token={};function n(r,i,o,u){if(e.token!==t)return;e.resolved=u;let l=e.ctx;o!==void 0&&(l=l.slice(),l[o]=u);const c=r&&(e.current=r)(l);let h=!1;e.block&&(e.blocks?e.blocks.forEach((f,m)=>{m!==i&&f&&(Je(),B(f,1,1,()=>{e.blocks[m]===f&&(e.blocks[m]=null)}),Ze())}):e.block.d(1),c.c(),U(c,1),c.m(e.mount(),e.anchor),h=!0),e.block=c,e.blocks&&(e.blocks[i]=c),h&&na()}if(Sf(s)){const r=Vn();if(s.then(i=>{ts(r),n(e.then,1,e.value,i),ts(null)},i=>{if(ts(r),n(e.catch,2,e.error,i),ts(null),!e.hasCatch)throw i}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,s),!0;e.resolved=s}}function qf(s,e,t){const n=e.slice(),{resolved:r}=s;s.current===s.then&&(n[s.value]=r),s.current===s.catch&&(n[s.error]=r),s.block.p(n,t)}function Bf(s,e){s.d(1),e.delete(s.key)}function Hf(s,e,t,n,r,i,o,u,l,c,h,f){let m=s.length,g=i.length,_=m;const I={};for(;_--;)I[s[_].key]=_;const k=[],S=new Map,C=new Map,V=[];for(_=g;_--;){const v=f(r,i,_),y=t(v);let w=o.get(y);w?n&&V.push(()=>w.p(v,e)):(w=c(y,v),w.c()),S.set(y,k[_]=w),y in I&&C.set(y,Math.abs(_-I[y]))}const z=new Set,O=new Set;function F(v){U(v,1),v.m(u,h),o.set(v.key,v),h=v.first,g--}for(;m&&g;){const v=k[g-1],y=s[m-1],w=v.key,T=y.key;v===y?(h=v.first,m--,g--):S.has(T)?!o.has(w)||z.has(w)?F(v):O.has(T)?m--:C.get(w)>C.get(T)?(O.add(w),F(v)):(z.add(T),m--):(l(y,o),m--)}for(;m--;){const v=s[m];S.has(v.key)||l(v,o)}for(;g;)F(k[g-1]);return $e(V),k}function He(s,e,t){const n=s.$$.props[e];n!==void 0&&(s.$$.bound[n]=t,t(s.$$.ctx[n]))}function ne(s){s&&s.c()}function te(s,e,t,n){const{fragment:r,after_update:i}=s.$$;r&&r.m(e,t),n||Vt(()=>{const o=s.$$.on_mount.map(Qc).filter(rs);s.$$.on_destroy?s.$$.on_destroy.push(...o):$e(o),s.$$.on_mount=[]}),i.forEach(Vt)}function se(s,e){const t=s.$$;t.fragment!==null&&(Ff(t.after_update),$e(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Wf(s,e){s.$$.dirty[0]===-1&&(an.push(s),Lf(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function De(s,e,t,n,r,i,o,u=[-1]){const l=ur;ts(s);const c=s.$$={fragment:null,ctx:[],props:i,update:ae,not_equal:r,bound:Fl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Fl(),dirty:u,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let h=!1;if(c.ctx=t?t(s,e.props||{},(f,m,...g)=>{const _=g.length?g[0]:m;return c.ctx&&r(c.ctx[f],c.ctx[f]=_)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](_),h&&Wf(s,f)),m}):[],c.update(),h=!0,$e(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const f=Df(e.target);c.fragment&&c.fragment.l(f),f.forEach(L)}else c.fragment&&c.fragment.c();e.intro&&U(s.$$.fragment),te(s,e.target,e.anchor,e.customElement),na()}ts(l)}class Ne{$destroy(){se(this,1),this.$destroy=ae}$on(e,t){if(!rs(t))return ae;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!Rf(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Gf=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=function(s){const e=[];let t=0;for(let n=0;n<s.length;n++){let r=s.charCodeAt(n);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&n+1<s.length&&(s.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(s.charCodeAt(++n)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Kf=function(s){const e=[];let t=0,n=0;for(;t<s.length;){const r=s[t++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const i=s[t++];e[n++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=s[t++],o=s[t++],u=s[t++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=s[t++],o=s[t++];e[n++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},rh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<s.length;r+=3){const i=s[r],o=r+1<s.length,u=o?s[r+1]:0,l=r+2<s.length,c=l?s[r+2]:0,h=i>>2,f=(i&3)<<4|u>>4;let m=(u&15)<<2|c>>6,g=c&63;l||(g=64,o||(m=64)),n.push(t[h],t[f],t[m],t[g])}return n.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(nh(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Kf(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<s.length;){const i=t[s.charAt(r++)],u=r<s.length?t[s.charAt(r)]:0;++r;const c=r<s.length?t[s.charAt(r)]:64;++r;const f=r<s.length?t[s.charAt(r)]:64;if(++r,i==null||u==null||c==null||f==null)throw new Qf;const m=i<<2|u>>4;if(n.push(m),c!==64){const g=u<<4&240|c>>2;if(n.push(g),f!==64){const _=c<<6&192|f;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Qf extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xf=function(s){const e=nh(s);return rh.encodeByteArray(e,!0)},li=function(s){return Xf(s).replace(/\./g,"")},Yf=function(s){try{return rh.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=()=>Jf().__FIREBASE_DEFAULTS__,em=()=>{if(typeof process>"u"||typeof process.env>"u")return;const s={}.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},tm=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Yf(s[1]);return e&&JSON.parse(e)},oa=()=>{try{return Gf()||Zf()||em()||tm()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},sm=s=>{var e,t;return(t=(e=oa())==null?void 0:e.emulatorHosts)==null?void 0:t[s]},nm=s=>{const e=sm(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},ih=()=>{var s;return(s=oa())==null?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function im(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",r=s.iat||0,i=s.sub||s.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...s},u="";return[li(JSON.stringify(t)),li(JSON.stringify(o)),u].join(".")}const rr={};function am(){const s={prod:[],emulator:[]};for(const e of Object.keys(rr))rr[e]?s.emulator.push(e):s.prod.push(e);return s}function lm(s){let e=document.getElementById(s),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),t=!0),{created:t,element:e}}let Bl=!1;function um(s,e){if(typeof window>"u"||typeof document>"u"||!aa(window.location.host)||rr[s]===e||rr[s]||Bl)return;rr[s]=e;function t(m){return`__firebase__banner__${m}`}const n="__firebase__banner",i=am().prod.length>0;function o(){const m=document.getElementById(n);m&&m.remove()}function u(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Bl=!0,o()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=lm(n),g=t("text"),_=document.getElementById(g)||document.createElement("span"),I=t("learnmore"),k=document.getElementById(I)||document.createElement("a"),S=t("preprendIcon"),C=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const V=m.element;u(V),h(k,I);const z=c();l(C,S),V.append(C,_,k,z),document.body.appendChild(V)}i?(_.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hm(){var e;const s=(e=oa())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dm(){return!hm()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fm(){try{return typeof indexedDB=="object"}catch{return!1}}function mm(){return new Promise((s,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(n),s(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var i;e(((i=r.error)==null?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="FirebaseError";class Nn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=pm,Object.setPrototypeOf(this,Nn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oh.prototype.create)}}class oh{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?gm(i,n):"Error",u=`${this.serviceName}: ${o} (${r}).`;return new Nn(r,u,n)}}function gm(s,e){return s.replace(ym,(t,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const ym=/\{\$([^}]+)}/g;function ui(s,e){if(s===e)return!0;const t=Object.keys(s),n=Object.keys(e);for(const r of t){if(!n.includes(r))return!1;const i=s[r],o=e[r];if(Hl(i)&&Hl(o)){if(!ui(i,o))return!1}else if(i!==o)return!1}for(const r of n)if(!t.includes(r))return!1;return!0}function Hl(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(s){return s&&s._delegate?s._delegate:s}class cr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new rm;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(n)return null;throw r}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wm(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:r});n.resolve(i)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);n===u&&o.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:bm(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bm(s){return s===xs?void 0:s}function wm(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _m(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Te||(Te={}));const km={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},Em=Te.INFO,Tm={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},Im=(s,e,...t)=>{if(e<s.logLevel)return;const n=new Date().toISOString(),r=Tm[e];if(r)console[r](`[${n}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ah{constructor(e){this.name=e,this._logLevel=Em,this._logHandler=Im,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?km[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const Am=(s,e)=>e.some(t=>s instanceof t);let Wl,Gl;function Sm(){return Wl||(Wl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rm(){return Gl||(Gl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lh=new WeakMap,Ao=new WeakMap,uh=new WeakMap,fo=new WeakMap,la=new WeakMap;function Cm(s){const e=new Promise((t,n)=>{const r=()=>{s.removeEventListener("success",i),s.removeEventListener("error",o)},i=()=>{t(vs(s.result)),r()},o=()=>{n(s.error),r()};s.addEventListener("success",i),s.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&lh.set(t,s)}).catch(()=>{}),la.set(e,s),e}function Pm(s){if(Ao.has(s))return;const e=new Promise((t,n)=>{const r=()=>{s.removeEventListener("complete",i),s.removeEventListener("error",o),s.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(s.error||new DOMException("AbortError","AbortError")),r()};s.addEventListener("complete",i),s.addEventListener("error",o),s.addEventListener("abort",o)});Ao.set(s,e)}let So={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Ao.get(s);if(e==="objectStoreNames")return s.objectStoreNames||uh.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vs(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Vm(s){So=s(So)}function Dm(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=s.call(mo(this),e,...t);return uh.set(n,e.sort?e.sort():[e]),vs(n)}:Rm().includes(s)?function(...e){return s.apply(mo(this),e),vs(lh.get(this))}:function(...e){return vs(s.apply(mo(this),e))}}function Nm(s){return typeof s=="function"?Dm(s):(s instanceof IDBTransaction&&Pm(s),Am(s,Sm())?new Proxy(s,So):s)}function vs(s){if(s instanceof IDBRequest)return Cm(s);if(fo.has(s))return fo.get(s);const e=Nm(s);return e!==s&&(fo.set(s,e),la.set(e,s)),e}const mo=s=>la.get(s);function zm(s,e,{blocked:t,upgrade:n,blocking:r,terminated:i}={}){const o=indexedDB.open(s,e),u=vs(o);return n&&o.addEventListener("upgradeneeded",l=>{n(vs(o.result),l.oldVersion,l.newVersion,vs(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),u.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),u}const Mm=["get","getKey","getAll","getAllKeys","count"],Om=["put","add","delete","clear"],po=new Map;function Kl(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(po.get(e))return po.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,r=Om.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(r||Mm.includes(t)))return;const i=async function(o,...u){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(u.shift())),(await Promise.all([c[t](...u),r&&l.done]))[0]};return po.set(e,i),i}Vm(s=>({...s,get:(e,t,n)=>Kl(e,t)||s.get(e,t,n),has:(e,t)=>!!Kl(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Lm(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function Lm(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ro="@firebase/app",Ql="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new ah("@firebase/app"),jm="@firebase/app-compat",Fm="@firebase/analytics-compat",$m="@firebase/analytics",Um="@firebase/app-check-compat",qm="@firebase/app-check",Bm="@firebase/auth",Hm="@firebase/auth-compat",Wm="@firebase/database",Gm="@firebase/data-connect",Km="@firebase/database-compat",Qm="@firebase/functions",Xm="@firebase/functions-compat",Ym="@firebase/installations",Jm="@firebase/installations-compat",Zm="@firebase/messaging",ep="@firebase/messaging-compat",tp="@firebase/performance",sp="@firebase/performance-compat",np="@firebase/remote-config",rp="@firebase/remote-config-compat",ip="@firebase/storage",op="@firebase/storage-compat",ap="@firebase/firestore",lp="@firebase/ai",up="@firebase/firestore-compat",cp="firebase",hp="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="[DEFAULT]",dp={[Ro]:"fire-core",[jm]:"fire-core-compat",[$m]:"fire-analytics",[Fm]:"fire-analytics-compat",[qm]:"fire-app-check",[Um]:"fire-app-check-compat",[Bm]:"fire-auth",[Hm]:"fire-auth-compat",[Wm]:"fire-rtdb",[Gm]:"fire-data-connect",[Km]:"fire-rtdb-compat",[Qm]:"fire-fn",[Xm]:"fire-fn-compat",[Ym]:"fire-iid",[Jm]:"fire-iid-compat",[Zm]:"fire-fcm",[ep]:"fire-fcm-compat",[tp]:"fire-perf",[sp]:"fire-perf-compat",[np]:"fire-rc",[rp]:"fire-rc-compat",[ip]:"fire-gcs",[op]:"fire-gcs-compat",[ap]:"fire-fst",[up]:"fire-fst-compat",[lp]:"fire-vertex","fire-js":"fire-js",[cp]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Map,fp=new Map,Po=new Map;function Xl(s,e){try{s.container.addComponent(e)}catch(t){us.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function hi(s){const e=s.name;if(Po.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;Po.set(e,s);for(const t of ci.values())Xl(t,s);for(const t of fp.values())Xl(t,s);return!0}function mp(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function pp(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ks=new oh("app","Firebase",gp);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=hp;function ua(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const n={name:Co,automaticDataCollectionEnabled:!0,...e},r=n.name;if(typeof r!="string"||!r)throw ks.create("bad-app-name",{appName:String(r)});if(t||(t=ih()),!t)throw ks.create("no-options");const i=ci.get(r);if(i){if(ui(t,i.options)&&ui(n,i.config))return i;throw ks.create("duplicate-app",{appName:r})}const o=new vm(r);for(const l of Po.values())o.addComponent(l);const u=new yp(t,n,o);return ci.set(r,u),u}function bp(s=Co){const e=ci.get(s);if(!e&&s===Co&&ih())return ua();if(!e)throw ks.create("no-app",{appName:s});return e}function mn(s,e,t){let n=dp[s]??s;t&&(n+=`-${t}`);const r=n.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const o=[`Unable to register library "${n}" with version "${e}":`];r&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),r&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(o.join(" "));return}hi(new cr(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="firebase-heartbeat-database",vp=1,hr="firebase-heartbeat-store";let go=null;function ch(){return go||(go=zm(wp,vp,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(hr)}catch(t){console.warn(t)}}}}).catch(s=>{throw ks.create("idb-open",{originalErrorMessage:s.message})})),go}async function kp(s){try{const t=(await ch()).transaction(hr),n=await t.objectStore(hr).get(hh(s));return await t.done,n}catch(e){if(e instanceof Nn)us.warn(e.message);else{const t=ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});us.warn(t.message)}}}async function Yl(s,e){try{const n=(await ch()).transaction(hr,"readwrite");await n.objectStore(hr).put(e,hh(s)),await n.done}catch(t){if(t instanceof Nn)us.warn(t.message);else{const n=ks.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});us.warn(n.message)}}}function hh(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=1024,Tp=30;class Ip{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Sp(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Jl();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>Tp){const o=Rp(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){us.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Jl(),{heartbeatsToSend:n,unsentEntries:r}=Ap(this._heartbeatsCache.heartbeats),i=li(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return us.warn(t),""}}}function Jl(){return new Date().toISOString().substring(0,10)}function Ap(s,e=Ep){const t=[];let n=s.slice();for(const r of s){const i=t.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Zl(t)>e){i.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Zl(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class Sp{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fm()?mm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await kp(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Yl(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Yl(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Zl(s){return li(JSON.stringify({version:2,heartbeats:s})).length}function Rp(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let n=1;n<s.length;n++)s[n].date<t&&(t=s[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(s){hi(new cr("platform-logger",e=>new xm(e),"PRIVATE")),hi(new cr("heartbeat",e=>new Ip(e),"PRIVATE")),mn(Ro,Ql,s),mn(Ro,Ql,"esm2020"),mn("fire-js","")}Cp("");var eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,dh;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,y){function w(){}w.prototype=y.prototype,v.D=y.prototype,v.prototype=new w,v.prototype.constructor=v,v.C=function(T,A,P){for(var R=Array(arguments.length-2),he=2;he<arguments.length;he++)R[he-2]=arguments[he];return y.prototype[A].apply(T,R)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(v,y,w){w||(w=0);var T=Array(16);if(typeof y=="string")for(var A=0;16>A;++A)T[A]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(A=0;16>A;++A)T[A]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=v.g[0],w=v.g[1],A=v.g[2];var P=v.g[3],R=y+(P^w&(A^P))+T[0]+3614090360&4294967295;y=w+(R<<7&4294967295|R>>>25),R=P+(A^y&(w^A))+T[1]+3905402710&4294967295,P=y+(R<<12&4294967295|R>>>20),R=A+(w^P&(y^w))+T[2]+606105819&4294967295,A=P+(R<<17&4294967295|R>>>15),R=w+(y^A&(P^y))+T[3]+3250441966&4294967295,w=A+(R<<22&4294967295|R>>>10),R=y+(P^w&(A^P))+T[4]+4118548399&4294967295,y=w+(R<<7&4294967295|R>>>25),R=P+(A^y&(w^A))+T[5]+1200080426&4294967295,P=y+(R<<12&4294967295|R>>>20),R=A+(w^P&(y^w))+T[6]+2821735955&4294967295,A=P+(R<<17&4294967295|R>>>15),R=w+(y^A&(P^y))+T[7]+4249261313&4294967295,w=A+(R<<22&4294967295|R>>>10),R=y+(P^w&(A^P))+T[8]+1770035416&4294967295,y=w+(R<<7&4294967295|R>>>25),R=P+(A^y&(w^A))+T[9]+2336552879&4294967295,P=y+(R<<12&4294967295|R>>>20),R=A+(w^P&(y^w))+T[10]+4294925233&4294967295,A=P+(R<<17&4294967295|R>>>15),R=w+(y^A&(P^y))+T[11]+2304563134&4294967295,w=A+(R<<22&4294967295|R>>>10),R=y+(P^w&(A^P))+T[12]+1804603682&4294967295,y=w+(R<<7&4294967295|R>>>25),R=P+(A^y&(w^A))+T[13]+4254626195&4294967295,P=y+(R<<12&4294967295|R>>>20),R=A+(w^P&(y^w))+T[14]+2792965006&4294967295,A=P+(R<<17&4294967295|R>>>15),R=w+(y^A&(P^y))+T[15]+1236535329&4294967295,w=A+(R<<22&4294967295|R>>>10),R=y+(A^P&(w^A))+T[1]+4129170786&4294967295,y=w+(R<<5&4294967295|R>>>27),R=P+(w^A&(y^w))+T[6]+3225465664&4294967295,P=y+(R<<9&4294967295|R>>>23),R=A+(y^w&(P^y))+T[11]+643717713&4294967295,A=P+(R<<14&4294967295|R>>>18),R=w+(P^y&(A^P))+T[0]+3921069994&4294967295,w=A+(R<<20&4294967295|R>>>12),R=y+(A^P&(w^A))+T[5]+3593408605&4294967295,y=w+(R<<5&4294967295|R>>>27),R=P+(w^A&(y^w))+T[10]+38016083&4294967295,P=y+(R<<9&4294967295|R>>>23),R=A+(y^w&(P^y))+T[15]+3634488961&4294967295,A=P+(R<<14&4294967295|R>>>18),R=w+(P^y&(A^P))+T[4]+3889429448&4294967295,w=A+(R<<20&4294967295|R>>>12),R=y+(A^P&(w^A))+T[9]+568446438&4294967295,y=w+(R<<5&4294967295|R>>>27),R=P+(w^A&(y^w))+T[14]+3275163606&4294967295,P=y+(R<<9&4294967295|R>>>23),R=A+(y^w&(P^y))+T[3]+4107603335&4294967295,A=P+(R<<14&4294967295|R>>>18),R=w+(P^y&(A^P))+T[8]+1163531501&4294967295,w=A+(R<<20&4294967295|R>>>12),R=y+(A^P&(w^A))+T[13]+2850285829&4294967295,y=w+(R<<5&4294967295|R>>>27),R=P+(w^A&(y^w))+T[2]+4243563512&4294967295,P=y+(R<<9&4294967295|R>>>23),R=A+(y^w&(P^y))+T[7]+1735328473&4294967295,A=P+(R<<14&4294967295|R>>>18),R=w+(P^y&(A^P))+T[12]+2368359562&4294967295,w=A+(R<<20&4294967295|R>>>12),R=y+(w^A^P)+T[5]+4294588738&4294967295,y=w+(R<<4&4294967295|R>>>28),R=P+(y^w^A)+T[8]+2272392833&4294967295,P=y+(R<<11&4294967295|R>>>21),R=A+(P^y^w)+T[11]+1839030562&4294967295,A=P+(R<<16&4294967295|R>>>16),R=w+(A^P^y)+T[14]+4259657740&4294967295,w=A+(R<<23&4294967295|R>>>9),R=y+(w^A^P)+T[1]+2763975236&4294967295,y=w+(R<<4&4294967295|R>>>28),R=P+(y^w^A)+T[4]+1272893353&4294967295,P=y+(R<<11&4294967295|R>>>21),R=A+(P^y^w)+T[7]+4139469664&4294967295,A=P+(R<<16&4294967295|R>>>16),R=w+(A^P^y)+T[10]+3200236656&4294967295,w=A+(R<<23&4294967295|R>>>9),R=y+(w^A^P)+T[13]+681279174&4294967295,y=w+(R<<4&4294967295|R>>>28),R=P+(y^w^A)+T[0]+3936430074&4294967295,P=y+(R<<11&4294967295|R>>>21),R=A+(P^y^w)+T[3]+3572445317&4294967295,A=P+(R<<16&4294967295|R>>>16),R=w+(A^P^y)+T[6]+76029189&4294967295,w=A+(R<<23&4294967295|R>>>9),R=y+(w^A^P)+T[9]+3654602809&4294967295,y=w+(R<<4&4294967295|R>>>28),R=P+(y^w^A)+T[12]+3873151461&4294967295,P=y+(R<<11&4294967295|R>>>21),R=A+(P^y^w)+T[15]+530742520&4294967295,A=P+(R<<16&4294967295|R>>>16),R=w+(A^P^y)+T[2]+3299628645&4294967295,w=A+(R<<23&4294967295|R>>>9),R=y+(A^(w|~P))+T[0]+4096336452&4294967295,y=w+(R<<6&4294967295|R>>>26),R=P+(w^(y|~A))+T[7]+1126891415&4294967295,P=y+(R<<10&4294967295|R>>>22),R=A+(y^(P|~w))+T[14]+2878612391&4294967295,A=P+(R<<15&4294967295|R>>>17),R=w+(P^(A|~y))+T[5]+4237533241&4294967295,w=A+(R<<21&4294967295|R>>>11),R=y+(A^(w|~P))+T[12]+1700485571&4294967295,y=w+(R<<6&4294967295|R>>>26),R=P+(w^(y|~A))+T[3]+2399980690&4294967295,P=y+(R<<10&4294967295|R>>>22),R=A+(y^(P|~w))+T[10]+4293915773&4294967295,A=P+(R<<15&4294967295|R>>>17),R=w+(P^(A|~y))+T[1]+2240044497&4294967295,w=A+(R<<21&4294967295|R>>>11),R=y+(A^(w|~P))+T[8]+1873313359&4294967295,y=w+(R<<6&4294967295|R>>>26),R=P+(w^(y|~A))+T[15]+4264355552&4294967295,P=y+(R<<10&4294967295|R>>>22),R=A+(y^(P|~w))+T[6]+2734768916&4294967295,A=P+(R<<15&4294967295|R>>>17),R=w+(P^(A|~y))+T[13]+1309151649&4294967295,w=A+(R<<21&4294967295|R>>>11),R=y+(A^(w|~P))+T[4]+4149444226&4294967295,y=w+(R<<6&4294967295|R>>>26),R=P+(w^(y|~A))+T[11]+3174756917&4294967295,P=y+(R<<10&4294967295|R>>>22),R=A+(y^(P|~w))+T[2]+718787259&4294967295,A=P+(R<<15&4294967295|R>>>17),R=w+(P^(A|~y))+T[9]+3951481745&4294967295,v.g[0]=v.g[0]+y&4294967295,v.g[1]=v.g[1]+(A+(R<<21&4294967295|R>>>11))&4294967295,v.g[2]=v.g[2]+A&4294967295,v.g[3]=v.g[3]+P&4294967295}n.prototype.u=function(v,y){y===void 0&&(y=v.length);for(var w=y-this.blockSize,T=this.B,A=this.h,P=0;P<y;){if(A==0)for(;P<=w;)r(this,v,P),P+=this.blockSize;if(typeof v=="string"){for(;P<y;)if(T[A++]=v.charCodeAt(P++),A==this.blockSize){r(this,T),A=0;break}}else for(;P<y;)if(T[A++]=v[P++],A==this.blockSize){r(this,T),A=0;break}}this.h=A,this.o+=y},n.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var y=1;y<v.length-8;++y)v[y]=0;var w=8*this.o;for(y=v.length-8;y<v.length;++y)v[y]=w&255,w/=256;for(this.u(v),v=Array(16),y=w=0;4>y;++y)for(var T=0;32>T;T+=8)v[w++]=this.g[y]>>>T&255;return v};function i(v,y){var w=u;return Object.prototype.hasOwnProperty.call(w,v)?w[v]:w[v]=y(v)}function o(v,y){this.h=y;for(var w=[],T=!0,A=v.length-1;0<=A;A--){var P=v[A]|0;T&&P==y||(w[A]=P,T=!1)}this.g=w}var u={};function l(v){return-128<=v&&128>v?i(v,function(y){return new o([y|0],0>y?-1:0)}):new o([v|0],0>v?-1:0)}function c(v){if(isNaN(v)||!isFinite(v))return f;if(0>v)return k(c(-v));for(var y=[],w=1,T=0;v>=w;T++)y[T]=v/w|0,w*=4294967296;return new o(y,0)}function h(v,y){if(v.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(v.charAt(0)=="-")return k(h(v.substring(1),y));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=c(Math.pow(y,8)),T=f,A=0;A<v.length;A+=8){var P=Math.min(8,v.length-A),R=parseInt(v.substring(A,A+P),y);8>P?(P=c(Math.pow(y,P)),T=T.j(P).add(c(R))):(T=T.j(w),T=T.add(c(R)))}return T}var f=l(0),m=l(1),g=l(16777216);s=o.prototype,s.m=function(){if(I(this))return-k(this).m();for(var v=0,y=1,w=0;w<this.g.length;w++){var T=this.i(w);v+=(0<=T?T:4294967296+T)*y,y*=4294967296}return v},s.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(_(this))return"0";if(I(this))return"-"+k(this).toString(v);for(var y=c(Math.pow(v,6)),w=this,T="";;){var A=z(w,y).g;w=S(w,A.j(y));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(v);if(w=A,_(w))return P+T;for(;6>P.length;)P="0"+P;T=P+T}},s.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function _(v){if(v.h!=0)return!1;for(var y=0;y<v.g.length;y++)if(v.g[y]!=0)return!1;return!0}function I(v){return v.h==-1}s.l=function(v){return v=S(this,v),I(v)?-1:_(v)?0:1};function k(v){for(var y=v.g.length,w=[],T=0;T<y;T++)w[T]=~v.g[T];return new o(w,~v.h).add(m)}s.abs=function(){return I(this)?k(this):this},s.add=function(v){for(var y=Math.max(this.g.length,v.g.length),w=[],T=0,A=0;A<=y;A++){var P=T+(this.i(A)&65535)+(v.i(A)&65535),R=(P>>>16)+(this.i(A)>>>16)+(v.i(A)>>>16);T=R>>>16,P&=65535,R&=65535,w[A]=R<<16|P}return new o(w,w[w.length-1]&-2147483648?-1:0)};function S(v,y){return v.add(k(y))}s.j=function(v){if(_(this)||_(v))return f;if(I(this))return I(v)?k(this).j(k(v)):k(k(this).j(v));if(I(v))return k(this.j(k(v)));if(0>this.l(g)&&0>v.l(g))return c(this.m()*v.m());for(var y=this.g.length+v.g.length,w=[],T=0;T<2*y;T++)w[T]=0;for(T=0;T<this.g.length;T++)for(var A=0;A<v.g.length;A++){var P=this.i(T)>>>16,R=this.i(T)&65535,he=v.i(A)>>>16,Q=v.i(A)&65535;w[2*T+2*A]+=R*Q,C(w,2*T+2*A),w[2*T+2*A+1]+=P*Q,C(w,2*T+2*A+1),w[2*T+2*A+1]+=R*he,C(w,2*T+2*A+1),w[2*T+2*A+2]+=P*he,C(w,2*T+2*A+2)}for(T=0;T<y;T++)w[T]=w[2*T+1]<<16|w[2*T];for(T=y;T<2*y;T++)w[T]=0;return new o(w,0)};function C(v,y){for(;(v[y]&65535)!=v[y];)v[y+1]+=v[y]>>>16,v[y]&=65535,y++}function V(v,y){this.g=v,this.h=y}function z(v,y){if(_(y))throw Error("division by zero");if(_(v))return new V(f,f);if(I(v))return y=z(k(v),y),new V(k(y.g),k(y.h));if(I(y))return y=z(v,k(y)),new V(k(y.g),y.h);if(30<v.g.length){if(I(v)||I(y))throw Error("slowDivide_ only works with positive integers.");for(var w=m,T=y;0>=T.l(v);)w=O(w),T=O(T);var A=F(w,1),P=F(T,1);for(T=F(T,2),w=F(w,2);!_(T);){var R=P.add(T);0>=R.l(v)&&(A=A.add(w),P=R),T=F(T,1),w=F(w,1)}return y=S(v,A.j(y)),new V(A,y)}for(A=f;0<=v.l(y);){for(w=Math.max(1,Math.floor(v.m()/y.m())),T=Math.ceil(Math.log(w)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),P=c(w),R=P.j(y);I(R)||0<R.l(v);)w-=T,P=c(w),R=P.j(y);_(P)&&(P=m),A=A.add(P),v=S(v,R)}return new V(A,v)}s.A=function(v){return z(this,v).h},s.and=function(v){for(var y=Math.max(this.g.length,v.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)&v.i(T);return new o(w,this.h&v.h)},s.or=function(v){for(var y=Math.max(this.g.length,v.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)|v.i(T);return new o(w,this.h|v.h)},s.xor=function(v){for(var y=Math.max(this.g.length,v.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)^v.i(T);return new o(w,this.h^v.h)};function O(v){for(var y=v.g.length+1,w=[],T=0;T<y;T++)w[T]=v.i(T)<<1|v.i(T-1)>>>31;return new o(w,v.h)}function F(v,y){var w=y>>5;y%=32;for(var T=v.g.length-w,A=[],P=0;P<T;P++)A[P]=0<y?v.i(P+w)>>>y|v.i(P+w+1)<<32-y:v.i(P+w);return new o(A,v.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,dh=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Es=o}).apply(typeof eu<"u"?eu:typeof self<"u"?self:typeof window<"u"?window:{});var Ur=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fh,er,mh,Qr,Vo,ph,gh,yh;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,p){return a==Array.prototype||a==Object.prototype||(a[d]=p.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ur=="object"&&Ur];for(var d=0;d<a.length;++d){var p=a[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var n=t(this);function r(a,d){if(d)e:{var p=n;a=a.split(".");for(var b=0;b<a.length-1;b++){var M=a[b];if(!(M in p))break e;p=p[M]}a=a[a.length-1],b=p[a],d=d(b),d!=b&&d!=null&&e(p,a,{configurable:!0,writable:!0,value:d})}}function i(a,d){a instanceof String&&(a+="");var p=0,b=!1,M={next:function(){if(!b&&p<a.length){var x=p++;return{value:d(x,a[x]),done:!1}}return b=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}r("Array.prototype.values",function(a){return a||function(){return i(this,function(d,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function l(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function c(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,p){return a.call.apply(a.bind,arguments)}function f(a,d,p){if(!a)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,b),a.apply(d,M)}}return function(){return a.apply(d,arguments)}}function m(a,d,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function g(a,d){var p=Array.prototype.slice.call(arguments,1);return function(){var b=p.slice();return b.push.apply(b,arguments),a.apply(this,b)}}function _(a,d){function p(){}p.prototype=d.prototype,a.aa=d.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(b,M,x){for(var K=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)K[Oe-2]=arguments[Oe];return d.prototype[M].apply(b,K)}}function I(a){const d=a.length;if(0<d){const p=Array(d);for(let b=0;b<d;b++)p[b]=a[b];return p}return[]}function k(a,d){for(let p=1;p<arguments.length;p++){const b=arguments[p];if(l(b)){const M=a.length||0,x=b.length||0;a.length=M+x;for(let K=0;K<x;K++)a[M+K]=b[K]}else a.push(b)}}class S{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function C(a){return/^[\s\xa0]*$/.test(a)}function V(){var a=u.navigator;return a&&(a=a.userAgent)?a:""}function z(a){return z[" "](a),a}z[" "]=function(){};var O=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function F(a,d,p){for(const b in a)d.call(p,a[b],b,a)}function v(a,d){for(const p in a)d.call(void 0,a[p],p,a)}function y(a){const d={};for(const p in a)d[p]=a[p];return d}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(a,d){let p,b;for(let M=1;M<arguments.length;M++){b=arguments[M];for(p in b)a[p]=b[p];for(let x=0;x<w.length;x++)p=w[x],Object.prototype.hasOwnProperty.call(b,p)&&(a[p]=b[p])}}function A(a){var d=1;a=a.split(":");const p=[];for(;0<d&&a.length;)p.push(a.shift()),d--;return a.length&&p.push(a.join(":")),p}function P(a){u.setTimeout(()=>{throw a},0)}function R(){var a=W;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class he{constructor(){this.h=this.g=null}add(d,p){const b=Q.get();b.set(d,p),this.h?this.h.next=b:this.g=b,this.h=b}}var Q=new S(()=>new fe,a=>a.reset());class fe{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,Y=!1,W=new he,le=()=>{const a=u.Promise.resolve(void 0);_e=()=>{a.then(ze)}};var ze=()=>{for(var a;a=R();){try{a.h.call(a.g)}catch(p){P(p)}var d=Q;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Y=!1};function Ie(){this.s=this.s,this.C=this.C}Ie.prototype.s=!1,Ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};u.addEventListener("test",p,d),u.removeEventListener("test",p,d)}catch{}return a}();function J(a,d){if(we.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,b=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(O){e:{try{z(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else p=="mouseover"?d=a.fromElement:p=="mouseout"&&(d=a.toElement);this.relatedTarget=d,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:St[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&J.aa.h.call(this)}}_(J,we);var St={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),ht=0;function Et(a,d,p,b,M){this.listener=a,this.proxy=null,this.src=d,this.type=p,this.capture=!!b,this.ha=M,this.key=++ht,this.da=this.fa=!1}function Ke(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function re(a){this.src=a,this.g={},this.h=0}re.prototype.add=function(a,d,p,b,M){var x=a.toString();a=this.g[x],a||(a=this.g[x]=[],this.h++);var K=be(a,d,b,M);return-1<K?(d=a[K],p||(d.fa=!1)):(d=new Et(d,this.src,x,!!b,M),d.fa=p,a.push(d)),d};function it(a,d){var p=d.type;if(p in a.g){var b=a.g[p],M=Array.prototype.indexOf.call(b,d,void 0),x;(x=0<=M)&&Array.prototype.splice.call(b,M,1),x&&(Ke(d),a.g[p].length==0&&(delete a.g[p],a.h--))}}function be(a,d,p,b){for(var M=0;M<a.length;++M){var x=a[M];if(!x.da&&x.listener==d&&x.capture==!!p&&x.ha==b)return M}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),zt={};function Tt(a,d,p,b,M){if(b&&b.once)return Yt(a,d,p,b,M);if(Array.isArray(d)){for(var x=0;x<d.length;x++)Tt(a,d[x],p,b,M);return null}return p=Gi(p),a&&a[Ce]?a.K(d,p,c(b)?!!b.capture:!!b,M):ds(a,d,p,!1,b,M)}function ds(a,d,p,b,M,x){if(!d)throw Error("Invalid event type");var K=c(M)?!!M.capture:!!M,Oe=Hi(a);if(Oe||(a[Me]=Oe=new re(a)),p=Oe.add(d,p,b,K,x),p.proxy)return p;if(b=Xt(),p.proxy=b,b.src=a,b.listener=p,a.addEventListener)X||(M=K),M===void 0&&(M=!1),a.addEventListener(d.toString(),b,M);else if(a.attachEvent)a.attachEvent(ie(d.toString()),b);else if(a.addListener&&a.removeListener)a.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Xt(){function a(p){return d.call(a.src,a.listener,p)}const d=bt;return a}function Yt(a,d,p,b,M){if(Array.isArray(d)){for(var x=0;x<d.length;x++)Yt(a,d[x],p,b,M);return null}return p=Gi(p),a&&a[Ce]?a.L(d,p,c(b)?!!b.capture:!!b,M):ds(a,d,p,!0,b,M)}function fs(a,d,p,b,M){if(Array.isArray(d))for(var x=0;x<d.length;x++)fs(a,d[x],p,b,M);else b=c(b)?!!b.capture:!!b,p=Gi(p),a&&a[Ce]?(a=a.i,d=String(d).toString(),d in a.g&&(x=a.g[d],p=be(x,p,b,M),-1<p&&(Ke(x[p]),Array.prototype.splice.call(x,p,1),x.length==0&&(delete a.g[d],a.h--)))):a&&(a=Hi(a))&&(d=a.g[d.toString()],a=-1,d&&(a=be(d,p,b,M)),(p=-1<a?d[a]:null)&&Jt(p))}function Jt(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Ce])it(d.i,a);else{var p=a.type,b=a.proxy;d.removeEventListener?d.removeEventListener(p,b,a.capture):d.detachEvent?d.detachEvent(ie(p),b):d.addListener&&d.removeListener&&d.removeListener(b),(p=Hi(d))?(it(p,a),p.h==0&&(p.src=null,d[Me]=null)):Ke(a)}}}function ie(a){return a in zt?zt[a]:zt[a]="on"+a}function bt(a,d){if(a.da)a=!0;else{d=new J(d,this);var p=a.listener,b=a.ha||a.src;a.fa&&Jt(a),a=p.call(b,d)}return a}function Hi(a){return a=a[Me],a instanceof re?a:null}var Wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gi(a){return typeof a=="function"?a:(a[Wi]||(a[Wi]=function(d){return a.handleEvent(d)}),a[Wi])}function dt(){Ie.call(this),this.i=new re(this),this.M=this,this.F=null}_(dt,Ie),dt.prototype[Ce]=!0,dt.prototype.removeEventListener=function(a,d,p,b){fs(this,a,d,p,b)};function wt(a,d){var p,b=a.F;if(b)for(p=[];b;b=b.F)p.push(b);if(a=a.M,b=d.type||d,typeof d=="string")d=new we(d,a);else if(d instanceof we)d.target=d.target||a;else{var M=d;d=new we(b,a),T(d,M)}if(M=!0,p)for(var x=p.length-1;0<=x;x--){var K=d.g=p[x];M=Ar(K,b,!0,d)&&M}if(K=d.g=a,M=Ar(K,b,!0,d)&&M,M=Ar(K,b,!1,d)&&M,p)for(x=0;x<p.length;x++)K=d.g=p[x],M=Ar(K,b,!1,d)&&M}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var p=a.g[d],b=0;b<p.length;b++)Ke(p[b]);delete a.g[d],a.h--}}this.F=null},dt.prototype.K=function(a,d,p,b){return this.i.add(String(a),d,!1,p,b)},dt.prototype.L=function(a,d,p,b){return this.i.add(String(a),d,!0,p,b)};function Ar(a,d,p,b){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,x=0;x<d.length;++x){var K=d[x];if(K&&!K.da&&K.capture==p){var Oe=K.listener,ot=K.ha||K.src;K.fa&&it(a.i,K),M=Oe.call(ot,b)!==!1&&M}}return M&&!b.defaultPrevented}function Ba(a,d,p){if(typeof a=="function")p&&(a=m(a,p));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:u.setTimeout(a,d||0)}function Ha(a){a.g=Ba(()=>{a.g=null,a.i&&(a.i=!1,Ha(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class Yd extends Ie{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ha(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ln(a){Ie.call(this),this.h=a,this.g={}}_(Ln,Ie);var Wa=[];function Ga(a){F(a.g,function(d,p){this.g.hasOwnProperty(p)&&Jt(d)},a),a.g={}}Ln.prototype.N=function(){Ln.aa.N.call(this),Ga(this)},Ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ki=u.JSON.stringify,Jd=u.JSON.parse,Zd=class{stringify(a){return u.JSON.stringify(a,void 0)}parse(a){return u.JSON.parse(a,void 0)}};function Qi(){}Qi.prototype.h=null;function Ka(a){return a.h||(a.h=a.i())}function Qa(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xi(){we.call(this,"d")}_(Xi,we);function Yi(){we.call(this,"c")}_(Yi,we);var Ds={},Xa=null;function Sr(){return Xa=Xa||new dt}Ds.La="serverreachability";function Ya(a){we.call(this,Ds.La,a)}_(Ya,we);function Fn(a){const d=Sr();wt(d,new Ya(d))}Ds.STAT_EVENT="statevent";function Ja(a,d){we.call(this,Ds.STAT_EVENT,a),this.stat=d}_(Ja,we);function vt(a){const d=Sr();wt(d,new Ja(d,a))}Ds.Ma="timingevent";function Za(a,d){we.call(this,Ds.Ma,a),this.size=d}_(Za,we);function $n(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){a()},d)}function Un(){this.g=!0}Un.prototype.xa=function(){this.g=!1};function ef(a,d,p,b,M,x){a.info(function(){if(a.g)if(x)for(var K="",Oe=x.split("&"),ot=0;ot<Oe.length;ot++){var Ae=Oe[ot].split("=");if(1<Ae.length){var ft=Ae[0];Ae=Ae[1];var mt=ft.split("_");K=2<=mt.length&&mt[1]=="type"?K+(ft+"="+Ae+"&"):K+(ft+"=redacted&")}}else K=null;else K=x;return"XMLHTTP REQ ("+b+") [attempt "+M+"]: "+d+`
`+p+`
`+K})}function tf(a,d,p,b,M,x,K){a.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+M+"]: "+d+`
`+p+`
`+x+" "+K})}function Zs(a,d,p,b){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+nf(a,p)+(b?" "+b:"")})}function sf(a,d){a.info(function(){return"TIMEOUT: "+d})}Un.prototype.info=function(){};function nf(a,d){if(!a.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var b=p[a];if(!(2>b.length)){var M=b[1];if(Array.isArray(M)&&!(1>M.length)){var x=M[0];if(x!="noop"&&x!="stop"&&x!="close")for(var K=1;K<M.length;K++)M[K]=""}}}}return Ki(p)}catch{return d}}var Rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},el={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ji;function Cr(){}_(Cr,Qi),Cr.prototype.g=function(){return new XMLHttpRequest},Cr.prototype.i=function(){return{}},Ji=new Cr;function ms(a,d,p,b){this.j=a,this.i=d,this.l=p,this.R=b||1,this.U=new Ln(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tl}function tl(){this.i=null,this.g="",this.h=!1}var sl={},Zi={};function eo(a,d,p){a.L=1,a.v=Nr(Zt(d)),a.m=p,a.P=!0,nl(a,null)}function nl(a,d){a.F=Date.now(),Pr(a),a.A=Zt(a.v);var p=a.A,b=a.R;Array.isArray(b)||(b=[String(b)]),yl(p.i,"t",b),a.C=0,p=a.j.J,a.h=new tl,a.g=Ml(a.j,p?d:null,!a.m),0<a.O&&(a.M=new Yd(m(a.Y,a,a.g),a.O)),d=a.U,p=a.g,b=a.ca;var M="readystatechange";Array.isArray(M)||(M&&(Wa[0]=M.toString()),M=Wa);for(var x=0;x<M.length;x++){var K=Tt(p,M[x],b||d.handleEvent,!1,d.h||d);if(!K)break;d.g[K.key]=K}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Fn(),ef(a.i,a.u,a.A,a.l,a.R,a.m)}ms.prototype.ca=function(a){a=a.target;const d=this.M;d&&es(a)==3?d.j():this.Y(a)},ms.prototype.Y=function(a){try{if(a==this.g)e:{const mt=es(this.g);var d=this.g.Ba();const sn=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||Tl(this.g)))){this.J||mt!=4||d==7||(d==8||0>=sn?Fn(3):Fn(2)),to(this);var p=this.g.Z();this.X=p;t:if(rl(this)){var b=Tl(this.g);a="";var M=b.length,x=es(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ns(this),qn(this);var K="";break t}this.h.i=new u.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,a+=this.h.i.decode(b[d],{stream:!(x&&d==M-1)});b.length=0,this.h.g+=a,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=p==200,tf(this.i,this.u,this.A,this.l,this.R,mt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,ot=this.g;if((Oe=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(Oe)){var Ae=Oe;break t}}Ae=null}if(p=Ae)Zs(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,so(this,p);else{this.o=!1,this.s=3,vt(12),Ns(this),qn(this);break e}}if(this.P){p=!0;let Mt;for(;!this.J&&this.C<K.length;)if(Mt=rf(this,K),Mt==Zi){mt==4&&(this.s=4,vt(14),p=!1),Zs(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==sl){this.s=4,vt(15),Zs(this.i,this.l,K,"[Invalid Chunk]"),p=!1;break}else Zs(this.i,this.l,Mt,null),so(this,Mt);if(rl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||K.length!=0||this.h.h||(this.s=1,vt(16),p=!1),this.o=this.o&&p,!p)Zs(this.i,this.l,K,"[Invalid Chunked Response]"),Ns(this),qn(this);else if(0<K.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),lo(ft),ft.M=!0,vt(11))}}else Zs(this.i,this.l,K,null),so(this,K);mt==4&&Ns(this),this.o&&!this.J&&(mt==4?Vl(this.j,this):(this.o=!1,Pr(this)))}else kf(this.g),p==400&&0<K.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Ns(this),qn(this)}}}catch{}finally{}};function rl(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function rf(a,d){var p=a.C,b=d.indexOf(`
`,p);return b==-1?Zi:(p=Number(d.substring(p,b)),isNaN(p)?sl:(b+=1,b+p>d.length?Zi:(d=d.slice(b,b+p),a.C=b+p,d)))}ms.prototype.cancel=function(){this.J=!0,Ns(this)};function Pr(a){a.S=Date.now()+a.I,il(a,a.I)}function il(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=$n(m(a.ba,a),d)}function to(a){a.B&&(u.clearTimeout(a.B),a.B=null)}ms.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(sf(this.i,this.A),this.L!=2&&(Fn(),vt(17)),Ns(this),this.s=2,qn(this)):il(this,this.S-a)};function qn(a){a.j.G==0||a.J||Vl(a.j,a)}function Ns(a){to(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Ga(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function so(a,d){try{var p=a.j;if(p.G!=0&&(p.g==a||no(p.h,a))){if(!a.K&&no(p.h,a)&&p.G==3){try{var b=p.Da.g.parse(d)}catch{b=null}if(Array.isArray(b)&&b.length==3){var M=b;if(M[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)jr(p),xr(p);else break e;ao(p),vt(18)}}else p.za=M[1],0<p.za-p.T&&37500>M[2]&&p.F&&p.v==0&&!p.C&&(p.C=$n(m(p.Za,p),6e3));if(1>=ll(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ms(p,11)}else if((a.K||p.g==a)&&jr(p),!C(d))for(M=p.Da.g.parse(d),d=0;d<M.length;d++){let Ae=M[d];if(p.T=Ae[0],Ae=Ae[1],p.G==2)if(Ae[0]=="c"){p.K=Ae[1],p.ia=Ae[2];const ft=Ae[3];ft!=null&&(p.la=ft,p.j.info("VER="+p.la));const mt=Ae[4];mt!=null&&(p.Aa=mt,p.j.info("SVER="+p.Aa));const sn=Ae[5];sn!=null&&typeof sn=="number"&&0<sn&&(b=1.5*sn,p.L=b,p.j.info("backChannelRequestTimeoutMs_="+b)),b=p;const Mt=a.g;if(Mt){const $r=Mt.g?Mt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var x=b.h;x.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(ro(x,x.h),x.h=null))}if(b.D){const uo=Mt.g?Mt.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(b.ya=uo,xe(b.I,b.D,uo))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),b=p;var K=a;if(b.qa=zl(b,b.J?b.ia:null,b.W),K.K){ul(b.h,K);var Oe=K,ot=b.L;ot&&(Oe.I=ot),Oe.B&&(to(Oe),Pr(Oe)),b.g=K}else Cl(b);0<p.i.length&&Lr(p)}else Ae[0]!="stop"&&Ae[0]!="close"||Ms(p,7);else p.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?Ms(p,7):oo(p):Ae[0]!="noop"&&p.l&&p.l.ta(Ae),p.v=0)}}Fn(4)}catch{}}var of=class{constructor(a,d){this.g=a,this.map=d}};function ol(a){this.l=a||10,u.PerformanceNavigationTiming?(a=u.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function al(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ll(a){return a.h?1:a.g?a.g.size:0}function no(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function ro(a,d){a.g?a.g.add(d):a.h=d}function ul(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}ol.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function cl(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const p of a.g.values())d=d.concat(p.D);return d}return I(a.i)}function af(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var d=[],p=a.length,b=0;b<p;b++)d.push(a[b]);return d}d=[],p=0;for(b in a)d[p++]=a[b];return d}function lf(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var d=[];a=a.length;for(var p=0;p<a;p++)d.push(p);return d}d=[],p=0;for(const b in a)d[p++]=b;return d}}}function hl(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var p=lf(a),b=af(a),M=b.length,x=0;x<M;x++)d.call(void 0,b[x],p&&p[x],a)}var dl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uf(a,d){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var b=a[p].indexOf("="),M=null;if(0<=b){var x=a[p].substring(0,b);M=a[p].substring(b+1)}else x=a[p];d(x,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function zs(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof zs){this.h=a.h,Vr(this,a.j),this.o=a.o,this.g=a.g,Dr(this,a.s),this.l=a.l;var d=a.i,p=new Wn;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),fl(this,p),this.m=a.m}else a&&(d=String(a).match(dl))?(this.h=!1,Vr(this,d[1]||"",!0),this.o=Bn(d[2]||""),this.g=Bn(d[3]||"",!0),Dr(this,d[4]),this.l=Bn(d[5]||"",!0),fl(this,d[6]||"",!0),this.m=Bn(d[7]||"")):(this.h=!1,this.i=new Wn(null,this.h))}zs.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Hn(d,ml,!0),":");var p=this.g;return(p||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Hn(d,ml,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Hn(p,p.charAt(0)=="/"?df:hf,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Hn(p,mf)),a.join("")};function Zt(a){return new zs(a)}function Vr(a,d,p){a.j=p?Bn(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Dr(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function fl(a,d,p){d instanceof Wn?(a.i=d,pf(a.i,a.h)):(p||(d=Hn(d,ff)),a.i=new Wn(d,a.h))}function xe(a,d,p){a.i.set(d,p)}function Nr(a){return xe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Bn(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Hn(a,d,p){return typeof a=="string"?(a=encodeURI(a).replace(d,cf),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function cf(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ml=/[#\/\?@]/g,hf=/[#\?:]/g,df=/[#\?]/g,ff=/[#\?@]/g,mf=/#/g;function Wn(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function ps(a){a.g||(a.g=new Map,a.h=0,a.i&&uf(a.i,function(d,p){a.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}s=Wn.prototype,s.add=function(a,d){ps(this),this.i=null,a=en(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(d),this.h+=1,this};function pl(a,d){ps(a),d=en(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function gl(a,d){return ps(a),d=en(a,d),a.g.has(d)}s.forEach=function(a,d){ps(this),this.g.forEach(function(p,b){p.forEach(function(M){a.call(d,M,b,this)},this)},this)},s.na=function(){ps(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let b=0;b<d.length;b++){const M=a[b];for(let x=0;x<M.length;x++)p.push(d[b])}return p},s.V=function(a){ps(this);let d=[];if(typeof a=="string")gl(this,a)&&(d=d.concat(this.g.get(en(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)d=d.concat(a[p])}return d},s.set=function(a,d){return ps(this),this.i=null,a=en(this,a),gl(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},s.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function yl(a,d,p){pl(a,d),0<p.length&&(a.i=null,a.g.set(en(a,d),I(p)),a.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var b=d[p];const x=encodeURIComponent(String(b)),K=this.V(b);for(b=0;b<K.length;b++){var M=x;K[b]!==""&&(M+="="+encodeURIComponent(String(K[b]))),a.push(M)}}return this.i=a.join("&")};function en(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function pf(a,d){d&&!a.j&&(ps(a),a.i=null,a.g.forEach(function(p,b){var M=b.toLowerCase();b!=M&&(pl(this,b),yl(this,M,p))},a)),a.j=d}function gf(a,d){const p=new Un;if(u.Image){const b=new Image;b.onload=g(gs,p,"TestLoadImage: loaded",!0,d,b),b.onerror=g(gs,p,"TestLoadImage: error",!1,d,b),b.onabort=g(gs,p,"TestLoadImage: abort",!1,d,b),b.ontimeout=g(gs,p,"TestLoadImage: timeout",!1,d,b),u.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=a}else d(!1)}function yf(a,d){const p=new Un,b=new AbortController,M=setTimeout(()=>{b.abort(),gs(p,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:b.signal}).then(x=>{clearTimeout(M),x.ok?gs(p,"TestPingServer: ok",!0,d):gs(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),gs(p,"TestPingServer: error",!1,d)})}function gs(a,d,p,b,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),b(p)}catch{}}function _f(){this.g=new Zd}function bf(a,d,p){const b=p||"";try{hl(a,function(M,x){let K=M;c(M)&&(K=Ki(M)),d.push(b+x+"="+encodeURIComponent(K))})}catch(M){throw d.push(b+"type="+encodeURIComponent("_badmap")),M}}function zr(a){this.l=a.Ub||null,this.j=a.eb||!1}_(zr,Qi),zr.prototype.g=function(){return new Mr(this.l,this.j)},zr.prototype.i=function(a){return function(){return a}}({});function Mr(a,d){dt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Mr,dt),s=Mr.prototype,s.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Kn(this)},s.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||u).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},s.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_l(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function _l(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}s.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Gn(this):Kn(this),this.readyState==3&&_l(this)}},s.Ra=function(a){this.g&&(this.response=this.responseText=a,Gn(this))},s.Qa=function(a){this.g&&(this.response=a,Gn(this))},s.ga=function(){this.g&&Gn(this)};function Gn(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Kn(a)}s.setRequestHeader=function(a,d){this.u.append(a,d)},s.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=d.next();return a.join(`\r
`)};function Kn(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function bl(a){let d="";return F(a,function(p,b){d+=b,d+=":",d+=p,d+=`\r
`}),d}function io(a,d,p){e:{for(b in p){var b=!1;break e}b=!0}b||(p=bl(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):xe(a,d,p))}function Be(a){dt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Be,dt);var wf=/^https?$/i,vf=["POST","PUT"];s=Be.prototype,s.Ha=function(a){this.J=a},s.ea=function(a,d,p,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ji.g(),this.v=this.o?Ka(this.o):Ka(Ji),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(x){wl(this,x);return}if(a=p||"",p=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var M in b)p.set(M,b[M]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const x of b.keys())p.set(x,b.get(x));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(p.keys()).find(x=>x.toLowerCase()=="content-type"),M=u.FormData&&a instanceof u.FormData,!(0<=Array.prototype.indexOf.call(vf,d,void 0))||b||M||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[x,K]of p)this.g.setRequestHeader(x,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{El(this),this.u=!0,this.g.send(a),this.u=!1}catch(x){wl(this,x)}};function wl(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,vl(a),Or(a)}function vl(a){a.A||(a.A=!0,wt(a,"complete"),wt(a,"error"))}s.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,wt(this,"complete"),wt(this,"abort"),Or(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Or(this,!0)),Be.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?kl(this):this.bb())},s.bb=function(){kl(this)};function kl(a){if(a.h&&typeof o<"u"&&(!a.v[1]||es(a)!=4||a.Z()!=2)){if(a.u&&es(a)==4)Ba(a.Ea,0,a);else if(wt(a,"readystatechange"),es(a)==4){a.h=!1;try{const K=a.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var b;if(b=K===0){var M=String(a.D).match(dl)[1]||null;!M&&u.self&&u.self.location&&(M=u.self.location.protocol.slice(0,-1)),b=!wf.test(M?M.toLowerCase():"")}p=b}if(p)wt(a,"complete"),wt(a,"success");else{a.m=6;try{var x=2<es(a)?a.g.statusText:""}catch{x=""}a.l=x+" ["+a.Z()+"]",vl(a)}}finally{Or(a)}}}}function Or(a,d){if(a.g){El(a);const p=a.g,b=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||wt(a,"ready");try{p.onreadystatechange=b}catch{}}}function El(a){a.I&&(u.clearTimeout(a.I),a.I=null)}s.isActive=function(){return!!this.g};function es(a){return a.g?a.g.readyState:0}s.Z=function(){try{return 2<es(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Jd(d)}};function Tl(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function kf(a){const d={};a=(a.g&&2<=es(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<a.length;b++){if(C(a[b]))continue;var p=A(a[b]);const M=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const x=d[M]||[];d[M]=x,x.push(p)}v(d,function(b){return b.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qn(a,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||d}function Il(a){this.Aa=0,this.i=[],this.j=new Un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qn("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qn("baseRetryDelayMs",5e3,a),this.cb=Qn("retryDelaySeedMs",1e4,a),this.Wa=Qn("forwardChannelMaxRetries",2,a),this.wa=Qn("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ol(a&&a.concurrentRequestLimit),this.Da=new _f,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Il.prototype,s.la=8,s.G=1,s.connect=function(a,d,p,b){vt(0),this.W=a,this.H=d||{},p&&b!==void 0&&(this.H.OSID=p,this.H.OAID=b),this.F=this.X,this.I=zl(this,null,this.W),Lr(this)};function oo(a){if(Al(a),a.G==3){var d=a.U++,p=Zt(a.I);if(xe(p,"SID",a.K),xe(p,"RID",d),xe(p,"TYPE","terminate"),Xn(a,p),d=new ms(a,a.j,d),d.L=2,d.v=Nr(Zt(p)),p=!1,u.navigator&&u.navigator.sendBeacon)try{p=u.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&u.Image&&(new Image().src=d.v,p=!0),p||(d.g=Ml(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Pr(d)}Nl(a)}function xr(a){a.g&&(lo(a),a.g.cancel(),a.g=null)}function Al(a){xr(a),a.u&&(u.clearTimeout(a.u),a.u=null),jr(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&u.clearTimeout(a.s),a.s=null)}function Lr(a){if(!al(a.h)&&!a.s){a.s=!0;var d=a.Ga;_e||le(),Y||(_e(),Y=!0),W.add(d,a),a.B=0}}function Ef(a,d){return ll(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=$n(m(a.Ga,a,d),Dl(a,a.B)),a.B++,!0)}s.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const M=new ms(this,this.j,a);let x=this.o;if(this.S&&(x?(x=y(x),T(x,this.S)):x=this.S),this.m!==null||this.O||(M.H=x,x=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var b=this.i[p];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(d+=b,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=Rl(this,M,d),p=Zt(this.I),xe(p,"RID",a),xe(p,"CVER",22),this.D&&xe(p,"X-HTTP-Session-Id",this.D),Xn(this,p),x&&(this.O?d="headers="+encodeURIComponent(String(bl(x)))+"&"+d:this.m&&io(p,this.m,x)),ro(this.h,M),this.Ua&&xe(p,"TYPE","init"),this.P?(xe(p,"$req",d),xe(p,"SID","null"),M.T=!0,eo(M,p,null)):eo(M,p,d),this.G=2}}else this.G==3&&(a?Sl(this,a):this.i.length==0||al(this.h)||Sl(this))};function Sl(a,d){var p;d?p=d.l:p=a.U++;const b=Zt(a.I);xe(b,"SID",a.K),xe(b,"RID",p),xe(b,"AID",a.T),Xn(a,b),a.m&&a.o&&io(b,a.m,a.o),p=new ms(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Rl(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ro(a.h,p),eo(p,b,d)}function Xn(a,d){a.H&&F(a.H,function(p,b){xe(d,b,p)}),a.l&&hl({},function(p,b){xe(d,b,p)})}function Rl(a,d,p){p=Math.min(a.i.length,p);var b=a.l?m(a.l.Na,a.l,a):null;e:{var M=a.i;let x=-1;for(;;){const K=["count="+p];x==-1?0<p?(x=M[0].g,K.push("ofs="+x)):x=0:K.push("ofs="+x);let Oe=!0;for(let ot=0;ot<p;ot++){let Ae=M[ot].g;const ft=M[ot].map;if(Ae-=x,0>Ae)x=Math.max(0,M[ot].g-100),Oe=!1;else try{bf(ft,K,"req"+Ae+"_")}catch{b&&b(ft)}}if(Oe){b=K.join("&");break e}}}return a=a.i.splice(0,p),d.D=a,b}function Cl(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;_e||le(),Y||(_e(),Y=!0),W.add(d,a),a.v=0}}function ao(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=$n(m(a.Fa,a),Dl(a,a.v)),a.v++,!0)}s.Fa=function(){if(this.u=null,Pl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=$n(m(this.ab,this),a)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),xr(this),Pl(this))};function lo(a){a.A!=null&&(u.clearTimeout(a.A),a.A=null)}function Pl(a){a.g=new ms(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Zt(a.qa);xe(d,"RID","rpc"),xe(d,"SID",a.K),xe(d,"AID",a.T),xe(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&xe(d,"TO",a.ja),xe(d,"TYPE","xmlhttp"),Xn(a,d),a.m&&a.o&&io(d,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=Nr(Zt(d)),p.m=null,p.P=!0,nl(p,a)}s.Za=function(){this.C!=null&&(this.C=null,xr(this),ao(this),vt(19))};function jr(a){a.C!=null&&(u.clearTimeout(a.C),a.C=null)}function Vl(a,d){var p=null;if(a.g==d){jr(a),lo(a),a.g=null;var b=2}else if(no(a.h,d))p=d.D,ul(a.h,d),b=1;else return;if(a.G!=0){if(d.o)if(b==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var M=a.B;b=Sr(),wt(b,new Za(b,p)),Lr(a)}else Cl(a);else if(M=d.s,M==3||M==0&&0<d.X||!(b==1&&Ef(a,d)||b==2&&ao(a)))switch(p&&0<p.length&&(d=a.h,d.i=d.i.concat(p)),M){case 1:Ms(a,5);break;case 4:Ms(a,10);break;case 3:Ms(a,6);break;default:Ms(a,2)}}}function Dl(a,d){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*d}function Ms(a,d){if(a.j.info("Error code "+d),d==2){var p=m(a.fb,a),b=a.Xa;const M=!b;b=new zs(b||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Vr(b,"https"),Nr(b),M?gf(b.toString(),p):yf(b.toString(),p)}else vt(2);a.G=0,a.l&&a.l.sa(d),Nl(a),Al(a)}s.fb=function(a){a?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Nl(a){if(a.G=0,a.ka=[],a.l){const d=cl(a.h);(d.length!=0||a.i.length!=0)&&(k(a.ka,d),k(a.ka,a.i),a.h.i.length=0,I(a.i),a.i.length=0),a.l.ra()}}function zl(a,d,p){var b=p instanceof zs?Zt(p):new zs(p);if(b.g!="")d&&(b.g=d+"."+b.g),Dr(b,b.s);else{var M=u.location;b=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var x=new zs(null);b&&Vr(x,b),d&&(x.g=d),M&&Dr(x,M),p&&(x.l=p),b=x}return p=a.D,d=a.ya,p&&d&&xe(b,p,d),xe(b,"VER",a.la),Xn(a,b),b}function Ml(a,d,p){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Be(new zr({eb:p})):new Be(a.pa),d.Ha(a.J),d}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ol(){}s=Ol.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Fr(){}Fr.prototype.g=function(a,d){return new Rt(a,d)};function Rt(a,d){dt.call(this),this.g=new Il(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!C(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!C(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new tn(this)}_(Rt,dt),Rt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){oo(this.g)},Rt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=Ki(a),a=p);d.i.push(new of(d.Ya++,a)),d.G==3&&Lr(d)},Rt.prototype.N=function(){this.g.l=null,delete this.j,oo(this.g),delete this.g,Rt.aa.N.call(this)};function xl(a){Xi.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const p in d){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}_(xl,Xi);function Ll(){Yi.call(this),this.status=1}_(Ll,Yi);function tn(a){this.g=a}_(tn,Ol),tn.prototype.ua=function(){wt(this.g,"a")},tn.prototype.ta=function(a){wt(this.g,new xl(a))},tn.prototype.sa=function(a){wt(this.g,new Ll)},tn.prototype.ra=function(){wt(this.g,"b")},Fr.prototype.createWebChannel=Fr.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,yh=function(){return new Fr},gh=function(){return Sr()},ph=Ds,Vo={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,Qr=Rr,el.COMPLETE="complete",mh=el,Qa.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",dt.prototype.listen=dt.prototype.K,er=Qa,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,fh=Be}).apply(typeof Ur<"u"?Ur:typeof self<"u"?self:typeof window<"u"?window:{});const tu="@firebase/firestore",su="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zn="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new ah("@firebase/firestore");function ln(){return Bs.logLevel}function Z(s,...e){if(Bs.logLevel<=Te.DEBUG){const t=e.map(ca);Bs.debug(`Firestore (${zn}): ${s}`,...t)}}function cs(s,...e){if(Bs.logLevel<=Te.ERROR){const t=e.map(ca);Bs.error(`Firestore (${zn}): ${s}`,...t)}}function En(s,...e){if(Bs.logLevel<=Te.WARN){const t=e.map(ca);Bs.warn(`Firestore (${zn}): ${s}`,...t)}}function ca(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(s,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,_h(s,n,t)}function _h(s,e,t){let n=`FIRESTORE (${zn}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw cs(n),new Error(n)}function Ve(s,e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,s||_h(e,r,n)}function ye(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Nn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pp{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yt.UNAUTHENTICATED))}shutdown(){}}class Vp{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Dp{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ve(this.o===void 0,42304);let n=this.i;const r=l=>this.i!==n?(n=this.i,t(l)):Promise.resolve();let i=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fs,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},u=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fs)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ve(typeof n.accessToken=="string",31837,{l:n}),new bh(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new yt(e)}}class Np{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zp{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Np(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mp{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pp(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ve(this.o===void 0,3512);const n=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const r=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new nu(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new nu(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<s;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const r=Op(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function ve(s,e){return s<e?-1:s>e?1:0}function Do(s,e){const t=Math.min(s.length,e.length);for(let n=0;n<t;n++){const r=s.charAt(n),i=e.charAt(n);if(r!==i)return yo(r)===yo(i)?ve(r,i):yo(r)?1:-1}return ve(s.length,e.length)}const xp=55296,Lp=57343;function yo(s){const e=s.charCodeAt(0);return e>=xp&&e<=Lp}function Tn(s,e,t){return s.length===e.length&&s.every((n,r)=>t(n,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru="__name__";class Ft{constructor(e,t,n){t===void 0?t=0:t>e.length&&me(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&me(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Ft.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ft?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=Ft.compareSegments(e.get(r),t.get(r));if(i!==0)return i}return ve(e.length,t.length)}static compareSegments(e,t){const n=Ft.isNumericId(e),r=Ft.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Ft.extractNumericId(e).compare(Ft.extractNumericId(t)):Do(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class Le extends Ft{construct(e,t,n){return new Le(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new oe(G.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(r=>r.length>0))}return new Le(t)}static emptyPath(){return new Le([])}}const jp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends Ft{construct(e,t,n){return new lt(e,t,n)}static isValidIdentifier(e){return jp.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ru}static keyField(){return new lt([ru])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(n.length===0)throw new oe(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new oe(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oe(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,r+=2}else u==="`"?(o=!o,r++):u!=="."||o?(n+=u,r++):(i(),r++)}if(i(),o)throw new oe(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(t)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(Le.fromString(e))}static fromName(e){return new de(Le.fromString(e).popFirst(5))}static empty(){return new de(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Le.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Le(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(s,e,t){if(!t)throw new oe(G.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Fp(s,e,t,n){if(e===!0&&n===!0)throw new oe(G.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function iu(s){if(!de.isDocumentKey(s))throw new oe(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function ou(s){if(de.isDocumentKey(s))throw new oe(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function vh(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function da(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":me(12329,{type:typeof s})}function pn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new oe(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=da(s);throw new oe(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(s,e){const t={typeString:s};return e&&(t.value=e),t}function vr(s,e){if(!vh(s))throw new oe(G.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const r=e[n].typeString,i="value"in e[n]?{value:e[n].value}:void 0;if(!(n in s)){t=`JSON missing required field: '${n}'`;break}const o=s[n];if(r&&typeof o!==r){t=`JSON field '${n}' must be a ${r}.`;break}if(i!==void 0&&o!==i.value){t=`Expected '${n}' field to equal '${i.value}'`;break}}if(t)throw new oe(G.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=-62135596800,lu=1e6;class je{static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*lu);return new je(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<au)throw new oe(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lu}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vr(e,je._jsonSchema))return new je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-au;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}je._jsonSchemaVersion="firestore/timestamp/1.0",je._jsonSchema={type:Ye("string",je._jsonSchemaVersion),seconds:Ye("number"),nanoseconds:Ye("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{static fromTimestamp(e){return new ge(e)}static min(){return new ge(new je(0,0))}static max(){return new ge(new je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=-1;function $p(s,e){const t=s.toTimestamp().seconds,n=s.toTimestamp().nanoseconds+1,r=ge.fromTimestamp(n===1e9?new je(t+1,0):new je(t,n));return new As(r,de.empty(),e)}function Up(s){return new As(s.readTime,s.key,dr)}class As{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new As(ge.min(),de.empty(),dr)}static max(){return new As(ge.max(),de.empty(),dr)}}function qp(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=de.comparator(s.documentKey,e.documentKey),t!==0?t:ve(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mn(s){if(s.code!==G.FAILED_PRECONDITION||s.message!==Bp)throw s;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new q((n,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,r)},this.catchCallback=i=>{this.wrapFailure(t,i).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof q?t:q.resolve(t)}catch(t){return q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):q.reject(t)}static resolve(e){return new q((t,n)=>{t(e)})}static reject(e){return new q((t,n)=>{n(e)})}static waitFor(e){return new q((t,n)=>{let r=0,i=0,o=!1;e.forEach(u=>{++r,u.next(()=>{++i,o&&i===r&&t()},l=>n(l))}),o=!0,i===r&&t()})}static or(e){let t=q.resolve(!1);for(const n of e)t=t.next(r=>r?q.resolve(r):n());return t}static forEach(e,t){const n=[];return e.forEach((r,i)=>{n.push(t.call(this,r,i))}),this.waitFor(n)}static mapArray(e,t){return new q((n,r)=>{const i=e.length,o=new Array(i);let u=0;for(let l=0;l<i;l++){const c=l;t(e[c]).next(h=>{o[c]=h,++u,u===i&&n(o)},h=>r(h))}})}static doWhile(e,t){return new q((n,r)=>{const i=()=>{e()===!0?t().next(()=>{i()},r):n()};i()})}}function Wp(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function On(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pi.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=-1;function Vi(s){return s==null}function di(s){return s===0&&1/s==-1/0}function Gp(s){return typeof s=="number"&&Number.isInteger(s)&&!di(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="";function Kp(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=uu(e)),e=Qp(s.get(t),e);return uu(e)}function Qp(s,e){let t=e;const n=s.length;for(let r=0;r<n;r++){const i=s.charAt(r);switch(i){case"\0":t+="";break;case kh:t+="";break;default:t+=i}}return t}function uu(s){return s+kh+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function Gs(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function Eh(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,t){this.comparator=e,this.root=t||at.EMPTY}insert(e,t){return new qe(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qr(this.root,e,this.comparator,!1)}getReverseIterator(){return new qr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qr(this.root,e,this.comparator,!0)}}class qr{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=n??at.RED,this.left=r??at.EMPTY,this.right=i??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new at(e??this.key,t??this.value,n??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):i===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return at.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw me(27949);return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw me(57766)}get value(){throw me(16141)}get color(){throw me(16727)}get left(){throw me(29726)}get right(){throw me(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new at(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hu(this.data.getIterator())}getIteratorFrom(e){return new hu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,i=n.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new st(this.comparator);return t.data=e,t}}class hu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new xt([])}unionWith(e){let t=new st(lt.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new xt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tn(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Th("Invalid base64 string: "+i):i}}(e);return new ct(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new ct(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ct.EMPTY_BYTE_STRING=new ct("");const Xp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(s){if(Ve(!!s,39018),typeof s=="string"){let e=0;const t=Xp.exec(s);if(Ve(!!t,46558,{timestamp:s}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const n=new Date(s);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:We(s.seconds),nanos:We(s.nanos)}}function We(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Rs(s){return typeof s=="string"?ct.fromBase64String(s):ct.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="server_timestamp",Ah="__type__",Sh="__previous_value__",Rh="__local_write_time__";function ma(s){var t,n;return((n=(((t=s==null?void 0:s.mapValue)==null?void 0:t.fields)||{})[Ah])==null?void 0:n.stringValue)===Ih}function Di(s){const e=s.mapValue.fields[Sh];return ma(e)?Di(e):e}function fr(s){const e=Ss(s.mapValue.fields[Rh].timestampValue);return new je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,t,n,r,i,o,u,l,c,h){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const fi="(default)";class mr{constructor(e,t){this.projectId=e,this.database=t||fi}static empty(){return new mr("","")}get isDefaultDatabase(){return this.database===fi}isEqual(e){return e instanceof mr&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch="__type__",Ph="__max__",Br={mapValue:{fields:{__type__:{stringValue:Ph}}}},Vh="__vector__",mi="value";function Cs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ma(s)?4:Zp(s)?9007199254740991:Jp(s)?10:11:me(28295,{value:s})}function Gt(s,e){if(s===e)return!0;const t=Cs(s);if(t!==Cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return fr(s).isEqual(fr(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Ss(r.timestampValue),u=Ss(i.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(r,i){return Rs(r.bytesValue).isEqual(Rs(i.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(r,i){return We(r.geoPointValue.latitude)===We(i.geoPointValue.latitude)&&We(r.geoPointValue.longitude)===We(i.geoPointValue.longitude)}(s,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return We(r.integerValue)===We(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=We(r.doubleValue),u=We(i.doubleValue);return o===u?di(o)===di(u):isNaN(o)&&isNaN(u)}return!1}(s,e);case 9:return Tn(s.arrayValue.values||[],e.arrayValue.values||[],Gt);case 10:case 11:return function(r,i){const o=r.mapValue.fields||{},u=i.mapValue.fields||{};if(cu(o)!==cu(u))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(u[l]===void 0||!Gt(o[l],u[l])))return!1;return!0}(s,e);default:return me(52216,{left:s})}}function pr(s,e){return(s.values||[]).find(t=>Gt(t,e))!==void 0}function In(s,e){if(s===e)return 0;const t=Cs(s),n=Cs(e);if(t!==n)return ve(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return ve(s.booleanValue,e.booleanValue);case 2:return function(i,o){const u=We(i.integerValue||i.doubleValue),l=We(o.integerValue||o.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(s,e);case 3:return du(s.timestampValue,e.timestampValue);case 4:return du(fr(s),fr(e));case 5:return Do(s.stringValue,e.stringValue);case 6:return function(i,o){const u=Rs(i),l=Rs(o);return u.compareTo(l)}(s.bytesValue,e.bytesValue);case 7:return function(i,o){const u=i.split("/"),l=o.split("/");for(let c=0;c<u.length&&c<l.length;c++){const h=ve(u[c],l[c]);if(h!==0)return h}return ve(u.length,l.length)}(s.referenceValue,e.referenceValue);case 8:return function(i,o){const u=ve(We(i.latitude),We(o.latitude));return u!==0?u:ve(We(i.longitude),We(o.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return fu(s.arrayValue,e.arrayValue);case 10:return function(i,o){var m,g,_,I;const u=i.fields||{},l=o.fields||{},c=(m=u[mi])==null?void 0:m.arrayValue,h=(g=l[mi])==null?void 0:g.arrayValue,f=ve(((_=c==null?void 0:c.values)==null?void 0:_.length)||0,((I=h==null?void 0:h.values)==null?void 0:I.length)||0);return f!==0?f:fu(c,h)}(s.mapValue,e.mapValue);case 11:return function(i,o){if(i===Br.mapValue&&o===Br.mapValue)return 0;if(i===Br.mapValue)return 1;if(o===Br.mapValue)return-1;const u=i.fields||{},l=Object.keys(u),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const m=Do(l[f],h[f]);if(m!==0)return m;const g=In(u[l[f]],c[h[f]]);if(g!==0)return g}return ve(l.length,h.length)}(s.mapValue,e.mapValue);default:throw me(23264,{he:t})}}function du(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ve(s,e);const t=Ss(s),n=Ss(e),r=ve(t.seconds,n.seconds);return r!==0?r:ve(t.nanos,n.nanos)}function fu(s,e){const t=s.values||[],n=e.values||[];for(let r=0;r<t.length&&r<n.length;++r){const i=In(t[r],n[r]);if(i)return i}return ve(t.length,n.length)}function An(s){return No(s)}function No(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(t){const n=Ss(t);return`time(${n.seconds},${n.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(t){return Rs(t).toBase64()}(s.bytesValue):"referenceValue"in s?function(t){return de.fromName(t).toString()}(s.referenceValue):"geoPointValue"in s?function(t){return`geo(${t.latitude},${t.longitude})`}(s.geoPointValue):"arrayValue"in s?function(t){let n="[",r=!0;for(const i of t.values||[])r?r=!1:n+=",",n+=No(i);return n+"]"}(s.arrayValue):"mapValue"in s?function(t){const n=Object.keys(t.fields||{}).sort();let r="{",i=!0;for(const o of n)i?i=!1:r+=",",r+=`${o}:${No(t.fields[o])}`;return r+"}"}(s.mapValue):me(61005,{value:s})}function Xr(s){switch(Cs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Di(s);return e?16+Xr(e):16;case 5:return 2*s.stringValue.length;case 6:return Rs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((r,i)=>r+Xr(i),0)}(s.arrayValue);case 10:case 11:return function(n){let r=0;return Gs(n.fields,(i,o)=>{r+=i.length+Xr(o)}),r}(s.mapValue);default:throw me(13486,{value:s})}}function zo(s){return!!s&&"integerValue"in s}function pa(s){return!!s&&"arrayValue"in s}function mu(s){return!!s&&"nullValue"in s}function pu(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yr(s){return!!s&&"mapValue"in s}function Jp(s){var t,n;return((n=(((t=s==null?void 0:s.mapValue)==null?void 0:t.fields)||{})[Ch])==null?void 0:n.stringValue)===Vh}function ir(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Gs(s.mapValue.fields,(t,n)=>e.mapValue.fields[t]=ir(n)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ir(s.arrayValue.values[t]);return e}return{...s}}function Zp(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Ph}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.value=e}static empty(){return new Dt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Yr(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ir(t)}setAll(e){let t=lt.emptyPath(),n={},r=[];e.forEach((o,u)=>{if(!t.isImmediateParentOf(u)){const l=this.getFieldsMap(t);this.applyChanges(l,n,r),n={},r=[],t=u.popLast()}o?n[u.lastSegment()]=ir(o):r.push(u.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Yr(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Yr(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Gs(t,(r,i)=>e[r]=i);for(const r of n)delete e[r]}clone(){return new Dt(ir(this.value))}}function Dh(s){const e=[];return Gs(s.fields,(t,n)=>{const r=new lt([t]);if(Yr(n)){const i=Dh(n.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t,n,r,i,o,u){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=u}static newInvalidDocument(e){return new _t(e,0,ge.min(),ge.min(),ge.min(),Dt.empty(),0)}static newFoundDocument(e,t,n,r){return new _t(e,1,t,ge.min(),n,r,0)}static newNoDocument(e,t){return new _t(e,2,t,ge.min(),ge.min(),Dt.empty(),0)}static newUnknownDocument(e,t){return new _t(e,3,t,ge.min(),ge.min(),Dt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,t){this.position=e,this.inclusive=t}}function gu(s,e,t){let n=0;for(let r=0;r<s.position.length;r++){const i=e[r],o=s.position[r];if(i.field.isKeyField()?n=de.comparator(de.fromName(o.referenceValue),t.key):n=In(o,t.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function yu(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Gt(s.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,t="asc"){this.field=e,this.dir=t}}function eg(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{}class et extends Nh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new sg(e,t,n):t==="array-contains"?new ig(e,n):t==="in"?new og(e,n):t==="not-in"?new ag(e,n):t==="array-contains-any"?new lg(e,n):new et(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new ng(e,n):new rg(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(In(t,this.value)):t!==null&&Cs(this.value)===Cs(t)&&this.matchesComparison(In(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kt extends Nh{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Kt(e,t)}matches(e){return zh(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zh(s){return s.op==="and"}function Mh(s){return tg(s)&&zh(s)}function tg(s){for(const e of s.filters)if(e instanceof Kt)return!1;return!0}function Mo(s){if(s instanceof et)return s.field.canonicalString()+s.op.toString()+An(s.value);if(Mh(s))return s.filters.map(e=>Mo(e)).join(",");{const e=s.filters.map(t=>Mo(t)).join(",");return`${s.op}(${e})`}}function Oh(s,e){return s instanceof et?function(n,r){return r instanceof et&&n.op===r.op&&n.field.isEqual(r.field)&&Gt(n.value,r.value)}(s,e):s instanceof Kt?function(n,r){return r instanceof Kt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,u)=>i&&Oh(o,r.filters[u]),!0):!1}(s,e):void me(19439)}function xh(s){return s instanceof et?function(t){return`${t.field.canonicalString()} ${t.op} ${An(t.value)}`}(s):s instanceof Kt?function(t){return t.op.toString()+" {"+t.getFilters().map(xh).join(" ,")+"}"}(s):"Filter"}class sg extends et{constructor(e,t,n){super(e,t,n),this.key=de.fromName(n.referenceValue)}matches(e){const t=de.comparator(e.key,this.key);return this.matchesComparison(t)}}class ng extends et{constructor(e,t){super(e,"in",t),this.keys=Lh("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rg extends et{constructor(e,t){super(e,"not-in",t),this.keys=Lh("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Lh(s,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(n=>de.fromName(n.referenceValue))}class ig extends et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pa(t)&&pr(t.arrayValue,this.value)}}class og extends et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pr(this.value.arrayValue,t)}}class ag extends et{constructor(e,t){super(e,"not-in",t)}matches(e){if(pr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pr(this.value.arrayValue,t)}}class lg extends et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pa(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>pr(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t=null,n=[],r=[],i=null,o=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=u,this.Te=null}}function _u(s,e=null,t=[],n=[],r=null,i=null,o=null){return new ug(s,e,t,n,r,i,o)}function ga(s){const e=ye(s);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Mo(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Vi(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>An(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>An(n)).join(",")),e.Te=t}return e.Te}function ya(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!eg(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!Oh(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!yu(s.startAt,e.startAt)&&yu(s.endAt,e.endAt)}function Oo(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t=null,n=[],r=[],i=null,o="F",u=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cg(s,e,t,n,r,i,o,u){return new Ni(s,e,t,n,r,i,o,u)}function _a(s){return new Ni(s)}function bu(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function hg(s){return s.collectionGroup!==null}function or(s){const e=ye(s);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new st(lt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(u=u.add(c.field))})}),u})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new gi(i,n))}),t.has(lt.keyField().canonicalString())||e.Ie.push(new gi(lt.keyField(),n))}return e.Ie}function qt(s){const e=ye(s);return e.Ee||(e.Ee=dg(e,or(s))),e.Ee}function dg(s,e){if(s.limitType==="F")return _u(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new gi(r.field,i)});const t=s.endAt?new pi(s.endAt.position,s.endAt.inclusive):null,n=s.startAt?new pi(s.startAt.position,s.startAt.inclusive):null;return _u(s.path,s.collectionGroup,e,s.filters,s.limit,t,n)}}function xo(s,e,t){return new Ni(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function zi(s,e){return ya(qt(s),qt(e))&&s.limitType===e.limitType}function jh(s){return`${ga(qt(s))}|lt:${s.limitType}`}function un(s){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>xh(r)).join(", ")}]`),Vi(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>An(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>An(r)).join(",")),`Target(${n})`}(qt(s))}; limitType=${s.limitType})`}function Mi(s,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):de.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(s,e)&&function(n,r){for(const i of or(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(s,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(s,e)&&function(n,r){return!(n.startAt&&!function(o,u,l){const c=gu(o,u,l);return o.inclusive?c<=0:c<0}(n.startAt,or(n),r)||n.endAt&&!function(o,u,l){const c=gu(o,u,l);return o.inclusive?c>=0:c>0}(n.endAt,or(n),r))}(s,e)}function fg(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Fh(s){return(e,t)=>{let n=!1;for(const r of or(s)){const i=mg(r,e,t);if(i!==0)return i;n=n||r.field.isKeyField()}return 0}}function mg(s,e,t){const n=s.field.isKeyField()?de.comparator(e.key,t.key):function(i,o,u){const l=o.data.field(i),c=u.data.field(i);return l!==null&&c!==null?In(l,c):me(42886)}(s.field,e,t);switch(s.dir){case"asc":return n;case"desc":return-1*n;default:return me(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[r,i]of n)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Eh(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=new qe(de.comparator);function hs(){return pg}const $h=new qe(de.comparator);function tr(...s){let e=$h;for(const t of s)e=e.insert(t.key,t);return e}function Uh(s){let e=$h;return s.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Ls(){return ar()}function qh(){return ar()}function ar(){return new Ks(s=>s.toString(),(s,e)=>s.isEqual(e))}const gg=new qe(de.comparator),yg=new st(de.comparator);function ke(...s){let e=yg;for(const t of s)e=e.add(t);return e}const _g=new st(ve);function bg(){return _g}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:di(e)?"-0":e}}function Bh(s){return{integerValue:""+s}}function wg(s,e){return Gp(e)?Bh(e):ba(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this._=void 0}}function vg(s,e,t){return s instanceof yi?function(r,i){const o={fields:{[Ah]:{stringValue:Ih},[Rh]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&ma(i)&&(i=Di(i)),i&&(o.fields[Sh]=i),{mapValue:o}}(t,e):s instanceof gr?Wh(s,e):s instanceof yr?Gh(s,e):function(r,i){const o=Hh(r,i),u=wu(o)+wu(r.Ae);return zo(o)&&zo(r.Ae)?Bh(u):ba(r.serializer,u)}(s,e)}function kg(s,e,t){return s instanceof gr?Wh(s,e):s instanceof yr?Gh(s,e):t}function Hh(s,e){return s instanceof _i?function(n){return zo(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class yi extends Oi{}class gr extends Oi{constructor(e){super(),this.elements=e}}function Wh(s,e){const t=Kh(e);for(const n of s.elements)t.some(r=>Gt(r,n))||t.push(n);return{arrayValue:{values:t}}}class yr extends Oi{constructor(e){super(),this.elements=e}}function Gh(s,e){let t=Kh(e);for(const n of s.elements)t=t.filter(r=>!Gt(r,n));return{arrayValue:{values:t}}}class _i extends Oi{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function wu(s){return We(s.integerValue||s.doubleValue)}function Kh(s){return pa(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Eg(s,e){return s.field.isEqual(e.field)&&function(n,r){return n instanceof gr&&r instanceof gr||n instanceof yr&&r instanceof yr?Tn(n.elements,r.elements,Gt):n instanceof _i&&r instanceof _i?Gt(n.Ae,r.Ae):n instanceof yi&&r instanceof yi}(s.transform,e.transform)}class Tg{constructor(e,t){this.version=e,this.transformResults=t}}class ss{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ss}static exists(e){return new ss(void 0,e)}static updateTime(e){return new ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jr(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class xi{}function Qh(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Yh(s.key,ss.none()):new kr(s.key,s.data,ss.none());{const t=s.data,n=Dt.empty();let r=new st(lt.comparator);for(let i of e.fields)if(!r.has(i)){let o=t.field(i);o===null&&i.length>1&&(i=i.popLast(),o=t.field(i)),o===null?n.delete(i):n.set(i,o),r=r.add(i)}return new Qs(s.key,n,new xt(r.toArray()),ss.none())}}function Ig(s,e,t){s instanceof kr?function(r,i,o){const u=r.value.clone(),l=ku(r.fieldTransforms,i,o.transformResults);u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(s,e,t):s instanceof Qs?function(r,i,o){if(!Jr(r.precondition,i))return void i.convertToUnknownDocument(o.version);const u=ku(r.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Xh(r)),l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(s,e,t):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function lr(s,e,t,n){return s instanceof kr?function(i,o,u,l){if(!Jr(i.precondition,o))return u;const c=i.value.clone(),h=Eu(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(s,e,t,n):s instanceof Qs?function(i,o,u,l){if(!Jr(i.precondition,o))return u;const c=Eu(i.fieldTransforms,l,o),h=o.data;return h.setAll(Xh(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(s,e,t,n):function(i,o,u){return Jr(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(s,e,t)}function Ag(s,e){let t=null;for(const n of s.fieldTransforms){const r=e.data.field(n.field),i=Hh(n.transform,r||null);i!=null&&(t===null&&(t=Dt.empty()),t.set(n.field,i))}return t||null}function vu(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Tn(n,r,(i,o)=>Eg(i,o))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class kr extends xi{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Qs extends xi{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Xh(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=s.data.field(t);e.set(t,n)}}),e}function ku(s,e,t){const n=new Map;Ve(s.length===t.length,32656,{Re:t.length,Ve:s.length});for(let r=0;r<t.length;r++){const i=s[r],o=i.transform,u=e.data.field(i.field);n.set(i.field,kg(o,u,t[r]))}return n}function Eu(s,e,t){const n=new Map;for(const r of s){const i=r.transform,o=t.data.field(r.field);n.set(r.field,vg(i,o,e))}return n}class Yh extends xi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sg extends xi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&Ig(i,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=lr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=lr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=qh();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let u=this.applyToLocalView(o,i.mutatedFields);u=t.has(r.key)?null:u;const l=Qh(o,u);l!==null&&n.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Tn(this.mutations,e.mutations,(t,n)=>vu(t,n))&&Tn(this.baseMutations,e.baseMutations,(t,n)=>vu(t,n))}}class wa{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ve(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=function(){return gg}();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new wa(e,t,n,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,Ee;function Vg(s){switch(s){case G.OK:return me(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return me(15467,{code:s})}}function Jh(s){if(s===void 0)return cs("GRPC error has no .code"),G.UNKNOWN;switch(s){case Qe.OK:return G.OK;case Qe.CANCELLED:return G.CANCELLED;case Qe.UNKNOWN:return G.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return G.INTERNAL;case Qe.UNAVAILABLE:return G.UNAVAILABLE;case Qe.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Qe.NOT_FOUND:return G.NOT_FOUND;case Qe.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Qe.ABORTED:return G.ABORTED;case Qe.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Qe.DATA_LOSS:return G.DATA_LOSS;default:return me(39323,{code:s})}}(Ee=Qe||(Qe={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=new Es([4294967295,4294967295],0);function Tu(s){const e=Dg().encode(s),t=new dh;return t.update(e),new Uint8Array(t.digest())}function Iu(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Es([t,n],0),new Es([r,i],0)]}class va{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new sr(`Invalid padding: ${t}`);if(n<0)throw new sr(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new sr(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new sr(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Es.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Es.fromNumber(n)));return r.compare(Ng)===1&&(r=new Es([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Tu(e),[n,r]=Iu(t);for(let i=0;i<this.hashCount;i++){const o=this.ye(n,r,i);if(!this.we(o))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new va(i,r,t);return n.forEach(u=>o.insert(u)),o}insert(e){if(this.ge===0)return;const t=Tu(e),[n,r]=Iu(t);for(let i=0;i<this.hashCount;i++){const o=this.ye(n,r,i);this.Se(o)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class sr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Er.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Li(ge.min(),r,new qe(ve),hs(),ke())}}class Er{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Er(n,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Zh{constructor(e,t){this.targetId=e,this.Ce=t}}class ed{constructor(e,t,n=ct.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Au{constructor(){this.ve=0,this.Fe=Su(),this.Me=ct.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),t=ke(),n=ke();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:me(38017,{changeType:i})}}),new Er(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Su()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zg{constructor(e){this.Ge=e,this.ze=new Map,this.je=hs(),this.Je=Hr(),this.He=Hr(),this.Ye=new qe(ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:me(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((n,r)=>{this.rt(r)&&t(r)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(Oo(i))if(n===0){const o=new de(i.path);this.et(t,o,_t.newNoDocument(o,ge.min()))}else Ve(n===1,20013,{expectedCount:n});else{const o=this._t(t);if(o!==n){const u=this.ut(e),l=u?this.ct(u,e,o):1;if(l!==0){this.it(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,c)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,u;try{o=Rs(n).toUint8Array()}catch(l){if(l instanceof Th)return En("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{u=new va(o,r,i)}catch(l){return En(l instanceof sr?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return u.ge===0?null:u}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(i=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(t,i,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((i,o)=>{const u=this.ot(o);if(u){if(i.current&&Oo(u.target)){const l=new de(u.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,_t.newNoDocument(l,e))}i.Be&&(t.set(o,i.ke()),i.qe())}});let n=ke();this.He.forEach((i,o)=>{let u=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const r=new Li(e,t,this.Ye,this.je,n);return this.je=hs(),this.Je=Hr(),this.He=Hr(),this.Ye=new qe(ve),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Au,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new st(ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new st(ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Z("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Au),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Hr(){return new qe(de.comparator)}function Su(){return new qe(de.comparator)}const Mg=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Og=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),xg=(()=>({and:"AND",or:"OR"}))();class Lg{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lo(s,e){return s.useProto3Json||Vi(e)?e:{value:e}}function bi(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function td(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function jg(s,e){return bi(s,e.toTimestamp())}function Bt(s){return Ve(!!s,49232),ge.fromTimestamp(function(t){const n=Ss(t);return new je(n.seconds,n.nanos)}(s))}function ka(s,e){return jo(s,e).canonicalString()}function jo(s,e){const t=function(r){return new Le(["projects",r.projectId,"databases",r.database])}(s).child("documents");return e===void 0?t:t.child(e)}function sd(s){const e=Le.fromString(s);return Ve(ad(e),10190,{key:e.toString()}),e}function Fo(s,e){return ka(s.databaseId,e.path)}function _o(s,e){const t=sd(e);if(t.get(1)!==s.databaseId.projectId)throw new oe(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new oe(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new de(rd(t))}function nd(s,e){return ka(s.databaseId,e)}function Fg(s){const e=sd(s);return e.length===4?Le.emptyPath():rd(e)}function $o(s){return new Le(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function rd(s){return Ve(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Ru(s,e,t){return{name:Fo(s,e),fields:t.value.mapValue.fields}}function $g(s,e){let t;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:me(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(Ve(h===void 0||typeof h=="string",58123),ct.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ct.fromUint8Array(h||new Uint8Array))}(s,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(c){const h=c.code===void 0?G.UNKNOWN:Jh(c.code);return new oe(h,c.message||"")}(o);t=new ed(n,r,i,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const r=_o(s,n.document.name),i=Bt(n.document.updateTime),o=n.document.createTime?Bt(n.document.createTime):ge.min(),u=new Dt({mapValue:{fields:n.document.fields}}),l=_t.newFoundDocument(r,i,o,u),c=n.targetIds||[],h=n.removedTargetIds||[];t=new Zr(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const r=_o(s,n.document),i=n.readTime?Bt(n.readTime):ge.min(),o=_t.newNoDocument(r,i),u=n.removedTargetIds||[];t=new Zr([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const r=_o(s,n.document),i=n.removedTargetIds||[];t=new Zr([],i,r,null)}else{if(!("filter"in e))return me(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:r=0,unchangedNames:i}=n,o=new Pg(r,i),u=n.targetId;t=new Zh(u,o)}}return t}function Ug(s,e){let t;if(e instanceof kr)t={update:Ru(s,e.key,e.value)};else if(e instanceof Yh)t={delete:Fo(s,e.key)};else if(e instanceof Qs)t={update:Ru(s,e.key,e.data),updateMask:Yg(e.fieldMask)};else{if(!(e instanceof Sg))return me(16599,{Vt:e.type});t={verify:Fo(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(i,o){const u=o.transform;if(u instanceof yi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof gr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof yr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof _i)return{fieldPath:o.field.canonicalString(),increment:u.Ae};throw me(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:jg(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:me(27497)}(s,e.precondition)),t}function qg(s,e){return s&&s.length>0?(Ve(e!==void 0,14353),s.map(t=>function(r,i){let o=r.updateTime?Bt(r.updateTime):Bt(i);return o.isEqual(ge.min())&&(o=Bt(i)),new Tg(o,r.transformResults||[])}(t,e))):[]}function Bg(s,e){return{documents:[nd(s,e.path)]}}function Hg(s,e){const t={structuredQuery:{}},n=e.path;let r;e.collectionGroup!==null?(r=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=nd(s,r);const i=function(c){if(c.length!==0)return od(Kt.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:cn(m.field),direction:Kg(m.dir)}}(h))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const u=Lo(s,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:t,parent:r}}function Wg(s){let e=Fg(s.parent);const t=s.structuredQuery,n=t.from?t.from.length:0;let r=null;if(n>0){Ve(n===1,65062);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let i=[];t.where&&(i=function(f){const m=id(f);return m instanceof Kt&&Mh(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(f){return f.map(m=>function(_){return new gi(hn(_.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(t.orderBy));let u=null;t.limit&&(u=function(f){let m;return m=typeof f=="object"?f.value:f,Vi(m)?null:m}(t.limit));let l=null;t.startAt&&(l=function(f){const m=!!f.before,g=f.values||[];return new pi(g,m)}(t.startAt));let c=null;return t.endAt&&(c=function(f){const m=!f.before,g=f.values||[];return new pi(g,m)}(t.endAt)),cg(e,r,o,i,u,"F",l,c)}function Gg(s,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me(28987,{purpose:r})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function id(s){return s.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=hn(t.unaryFilter.field);return et.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=hn(t.unaryFilter.field);return et.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=hn(t.unaryFilter.field);return et.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hn(t.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return me(61313);default:return me(60726)}}(s):s.fieldFilter!==void 0?function(t){return et.create(hn(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return me(58110);default:return me(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(t){return Kt.create(t.compositeFilter.filters.map(n=>id(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return me(1026)}}(t.compositeFilter.op))}(s):me(30097,{filter:s})}function Kg(s){return Mg[s]}function Qg(s){return Og[s]}function Xg(s){return xg[s]}function cn(s){return{fieldPath:s.canonicalString()}}function hn(s){return lt.fromServerFormat(s.fieldPath)}function od(s){return s instanceof et?function(t){if(t.op==="=="){if(pu(t.value))return{unaryFilter:{field:cn(t.field),op:"IS_NAN"}};if(mu(t.value))return{unaryFilter:{field:cn(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(pu(t.value))return{unaryFilter:{field:cn(t.field),op:"IS_NOT_NAN"}};if(mu(t.value))return{unaryFilter:{field:cn(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cn(t.field),op:Qg(t.op),value:t.value}}}(s):s instanceof Kt?function(t){const n=t.getFilters().map(r=>od(r));return n.length===1?n[0]:{compositeFilter:{op:Xg(t.op),filters:n}}}(s):me(54877,{filter:s})}function Yg(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ad(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t,n,r,i=ge.min(),o=ge.min(),u=ct.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=l}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this.yt=e}}function Zg(s){const e=Wg({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?xo(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.Cn=new ty}addToCollectionParentIndex(e,t){return this.Cn.add(t),q.resolve()}getCollectionParents(e,t){return q.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return q.resolve()}deleteFieldIndex(e,t){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,t){return q.resolve()}getDocumentsMatchingTarget(e,t){return q.resolve(null)}getIndexType(e,t){return q.resolve(0)}getFieldIndexes(e,t){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,t){return q.resolve(As.min())}getMinOffsetFromCollectionGroup(e,t){return q.resolve(As.min())}updateCollectionGroup(e,t,n){return q.resolve()}updateIndexEntries(e,t){return q.resolve()}}class ty{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new st(Le.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new st(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ld=41943040;class It{static withCacheSize(e){return new It(e,It.DEFAULT_COLLECTION_PERCENTILE,It.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */It.DEFAULT_COLLECTION_PERCENTILE=10,It.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,It.DEFAULT=new It(ld,It.DEFAULT_COLLECTION_PERCENTILE,It.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),It.DISABLED=new It(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sn(0)}static cr(){return new Sn(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu="LruGarbageCollector",sy=1048576;function Vu([s,e],[t,n]){const r=ve(s,t);return r===0?ve(e,n):r}class ny{constructor(e){this.Ir=e,this.buffer=new st(Vu),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();Vu(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ry{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Z(Pu,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){On(t)?Z(Pu,"Ignoring IndexedDB error during garbage collection: ",t):await Mn(t)}await this.Vr(3e5)})}}class iy{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return q.resolve(Pi.ce);const n=new ny(t);return this.mr.forEachTarget(e,r=>n.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>n.Ar(r))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(Cu)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cu):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,o,u,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,o=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(n=f,u=Date.now(),this.removeTargets(e,n,t))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(c=Date.now(),ln()<=Te.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${r} in `+(u-o)+`ms
	Removed ${i} targets in `+(l-u)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:f})))}}function oy(s,e){return new iy(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this.changes=new Ks(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?q.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(n!==null&&lr(n.mutation,r,xt.empty(),je.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,ke()).next(()=>n))}getLocalViewOfDocuments(e,t,n=ke()){const r=Ls();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(i=>{let o=tr();return i.forEach((u,l)=>{o=o.insert(u,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const n=Ls();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ke()))}populateOverlays(e,t,n){const r=[];return n.forEach(i=>{t.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,u)=>{t.set(o,u)})})}computeViews(e,t,n,r){let i=hs();const o=ar(),u=function(){return ar()}();return t.forEach((l,c)=>{const h=n.get(c.key);r.has(c.key)&&(h===void 0||h.mutation instanceof Qs)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),lr(h.mutation,c,h.mutation.getFieldMask(),je.now())):o.set(c.key,xt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),t.forEach((c,h)=>u.set(c,new ly(h,o.get(c)??null))),u))}recalculateAndSaveOverlays(e,t){const n=ar();let r=new qe((o,u)=>o-u),i=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const u of o)u.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let h=n.get(l)||xt.empty();h=u.applyToLocalView(c,h),n.set(l,h);const f=(r.get(u.batchId)||ke()).add(l);r=r.insert(u.batchId,f)})}).next(()=>{const o=[],u=r.getReverseIterator();for(;u.hasNext();){const l=u.getNext(),c=l.key,h=l.value,f=qh();h.forEach(m=>{if(!i.has(m)){const g=Qh(t.get(m),n.get(m));g!==null&&f.set(m,g),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return q.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,r){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):q.resolve(Ls());let u=dr,l=i;return o.next(c=>q.forEach(c,(h,f)=>(u<f.largestBatchId&&(u=f.largestBatchId),i.get(h)?q.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,ke())).next(h=>({batchId:u,changes:Uh(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new de(t)).next(n=>{let r=tr();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=tr();return this.indexManager.getCollectionParents(e,i).next(u=>q.forEach(u,l=>{const c=function(f,m){return new Ni(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,n,r).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,_t.newInvalidDocument(h)))});let u=tr();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&lr(h.mutation,c,xt.empty(),je.now()),Mi(t,c)&&(u=u.insert(l,c))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return q.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Bt(r.createTime)}}(t)),q.resolve()}getNamedQuery(e,t){return q.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(r){return{name:r.name,query:Zg(r.bundledQuery),readTime:Bt(r.readTime)}}(t)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this.overlays=new qe(de.comparator),this.qr=new Map}getOverlay(e,t){return q.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ls();return q.forEach(t,r=>this.getOverlay(e,r).next(i=>{i!==null&&n.set(r,i)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((r,i)=>{this.St(e,t,i)}),q.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(n)),q.resolve()}getOverlaysForCollection(e,t,n){const r=Ls(),i=t.length+1,o=new de(t.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const l=u.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&r.set(l.getKey(),l)}return q.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new qe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>n){let h=i.get(c.largestBatchId);h===null&&(h=Ls(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const u=Ls(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>u.set(c,h)),!(u.size()>=r)););return q.resolve(u)}St(e,t,n){const r=this.overlays.get(n.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Cg(t,n));let i=this.qr.get(t);i===void 0&&(i=ke(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.Qr=new st(nt.$r),this.Ur=new st(nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new nt(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Gr(new nt(e,t))}zr(e,t){e.forEach(n=>this.removeReference(n,t))}jr(e){const t=new de(new Le([])),n=new nt(t,e),r=new nt(t,e+1),i=[];return this.Ur.forEachInRange([n,r],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new de(new Le([])),n=new nt(t,e),r=new nt(t,e+1);let i=ke();return this.Ur.forEachInRange([n,r],o=>{i=i.add(o.key)}),i}containsKey(e){const t=new nt(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class nt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return de.comparator(e.key,t.key)||ve(e.Yr,t.Yr)}static Kr(e,t){return ve(e.Yr,t.Yr)||de.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new st(nt.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Rg(i,t,n,r);this.mutationQueue.push(o);for(const u of r)this.Zr=this.Zr.add(new nt(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,t){return q.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?fa:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new nt(t,0),r=new nt(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],o=>{const u=this.Xr(o.Yr);i.push(u)}),q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new st(ve);return t.forEach(r=>{const i=new nt(r,0),o=new nt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],u=>{n=n.add(u.Yr)})}),q.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;de.isDocumentKey(i)||(i=i.child(""));const o=new nt(new de(i),0);let u=new st(ve);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===r&&(u=u.add(l.Yr)),!0)},o),q.resolve(this.ti(u))}ti(e){const t=[];return e.forEach(n=>{const r=this.Xr(n);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Ve(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return q.forEach(t.mutations,r=>{const i=new nt(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new nt(t,0),r=this.Zr.firstAfterOrEqual(n);return q.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e){this.ri=e,this.docs=function(){return new qe(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return q.resolve(n?n.document.mutableCopy():_t.newInvalidDocument(t))}getEntries(e,t){let n=hs();return t.forEach(r=>{const i=this.docs.get(r);n=n.insert(r,i?i.document.mutableCopy():_t.newInvalidDocument(r))}),q.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=hs();const o=t.path,u=new de(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||qp(Up(h),n)<=0||(r.has(h.key)||Mi(t,h))&&(i=i.insert(h.key,h.mutableCopy()))}return q.resolve(i)}getAllFromCollectionGroup(e,t,n,r){me(9500)}ii(e,t){return q.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new py(this)}getSize(e){return q.resolve(this.size)}}class py extends ay{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),q.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this.persistence=e,this.si=new Ks(t=>ga(t),ya),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.oi=0,this._i=new Ea,this.targetCount=0,this.ai=Sn.ur()}forEachTarget(e,t){return this.si.forEach((n,r)=>t(r)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),q.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Sn(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,q.resolve()}updateTargetData(e,t){return this.Pr(t),q.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((o,u)=>{u.sequenceNumber<=t&&n.get(u.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),q.waitFor(i).next(()=>r)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return q.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),q.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),q.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),q.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return q.resolve(n)}containsKey(e,t){return q.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t){this.ui={},this.overlays={},this.ci=new Pi(0),this.li=!1,this.li=!0,this.hi=new dy,this.referenceDelegate=e(this),this.Pi=new gy(this),this.indexManager=new ey,this.remoteDocumentCache=function(r){return new my(r)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new Jg(t),this.Ii=new cy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new fy(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Z("MemoryPersistence","Starting transaction:",e);const r=new yy(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(i=>this.referenceDelegate.di(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ai(e,t){return q.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class yy extends Hp{constructor(e){super(),this.currentSequenceNumber=e}}class Ta{constructor(e){this.persistence=e,this.Ri=new Ea,this.Vi=null}static mi(e){return new Ta(e)}get fi(){if(this.Vi)return this.Vi;throw me(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),q.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),q.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),q.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(r=>this.fi.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(i=>this.fi.add(i.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,n=>{const r=de.fromPath(n);return this.gi(e,r).next(i=>{i||t.removeEntry(r,ge.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return q.or([()=>q.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class wi{constructor(e,t){this.persistence=e,this.pi=new Ks(n=>Kp(n.path),(n,r)=>n.isEqual(r)),this.garbageCollector=oy(this,t)}static mi(e,t){return new wi(e,t)}Ei(){}di(e){return q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(r=>n+r))}wr(e){let t=0;return this.pr(e,n=>{t++}).next(()=>t)}pr(e,t){return q.forEach(this.pi,(n,r)=>this.br(e,n,r).next(i=>i?q.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,o=>this.br(e,o,t).next(u=>{u||(n++,i.removeEntry(o,ge.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),q.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),q.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xr(e.data.value)),t}br(e,t,n){return q.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return q.resolve(r!==void 0&&r>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=ke(),r=ke();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ia(e,t.fromCache,n,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return dm()?8:Wp(cm())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new _y;return this.Ss(e,t,o).next(u=>{if(i.result=u,this.Vs)return this.bs(e,t,o,u.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(ln()<=Te.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",un(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(ln()<=Te.DEBUG&&Z("QueryEngine","Query:",un(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(ln()<=Te.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",un(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qt(t))):q.resolve())}ys(e,t){if(bu(t))return q.resolve(null);let n=qt(t);return this.indexManager.getIndexType(e,n).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=xo(t,null,"F"),n=qt(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const o=ke(...i);return this.ps.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.Ds(t,u);return this.Cs(t,c,o,l.readTime)?this.ys(e,xo(t,null,"F")):this.vs(e,c,t,l)}))})))}ws(e,t,n,r){return bu(t)||r.isEqual(ge.min())?q.resolve(null):this.ps.getDocuments(e,n).next(i=>{const o=this.Ds(t,i);return this.Cs(t,o,n,r)?q.resolve(null):(ln()<=Te.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),un(t)),this.vs(e,o,t,$p(r,dr)).next(u=>u))})}Ds(e,t){let n=new st(Fh(e));return t.forEach((r,i)=>{Mi(e,i)&&(n=n.add(i))}),n}Cs(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return ln()<=Te.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",un(t)),this.ps.getDocumentsMatchingQuery(e,t,As.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(i=>(t.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="LocalStore",wy=3e8;class vy{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new qe(ve),this.xs=new Ks(i=>ga(i),ya),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uy(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function ky(s,e,t,n){return new vy(s,e,t,n)}async function cd(s,e){const t=ye(s);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let r;return t.mutationQueue.getAllMutationBatches(n).next(i=>(r=i,t.Bs(e),t.mutationQueue.getAllMutationBatches(n))).next(i=>{const o=[],u=[];let l=ke();for(const c of r){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){u.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(n,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:u}))})})}function Ey(s,e){const t=ye(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const r=e.batch.keys(),i=t.Ns.newChangeBuffer({trackRemovals:!0});return function(u,l,c,h){const f=c.batch,m=f.keys();let g=q.resolve();return m.forEach(_=>{g=g.next(()=>h.getEntry(l,_)).next(I=>{const k=c.docVersions.get(_);Ve(k!==null,48541),I.version.compareTo(k)<0&&(f.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),h.addEntry(I)))})}),g.next(()=>u.mutationQueue.removeMutationBatch(l,f))}(t,n,e,i).next(()=>i.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let l=ke();for(let c=0;c<u.mutationResults.length;++c)u.mutationResults[c].transformResults.length>0&&(l=l.add(u.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(n,r))})}function hd(s){const e=ye(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function Ty(s,e){const t=ye(s),n=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const u=[];e.targetChanges.forEach((h,f)=>{const m=r.get(f);if(!m)return;u.push(t.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>t.Pi.addMatchingKeys(i,h.addedDocuments,f)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(ct.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,n)),r=r.insert(f,g),function(I,k,S){return I.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=wy?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,g,h)&&u.push(t.Pi.updateTargetData(i,g))});let l=hs(),c=ke();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(i,h))}),u.push(Iy(i,o,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!n.isEqual(ge.min())){const h=t.Pi.getLastRemoteSnapshotVersion(i).next(f=>t.Pi.setTargetsMetadata(i,i.currentSequenceNumber,n));u.push(h)}return q.waitFor(u).next(()=>o.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(t.Ms=r,i))}function Iy(s,e,t){let n=ke(),r=ke();return t.forEach(i=>n=n.add(i)),e.getEntries(s,n).next(i=>{let o=hs();return t.forEach((u,l)=>{const c=i.get(u);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(u)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(u,l.readTime),o=o.insert(u,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(u,l)):Z(Aa,"Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:r}})}function Ay(s,e){const t=ye(s);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=fa),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Sy(s,e){const t=ye(s);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return t.Pi.getTargetData(n,e).next(i=>i?(r=i,q.resolve(r)):t.Pi.allocateTargetId(n).next(o=>(r=new ws(e,o,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=t.Ms.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n})}async function Uo(s,e,t){const n=ye(s),r=n.Ms.get(e),i=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",i,o=>n.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!On(o))throw o;Z(Aa,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(r.target)}function Du(s,e,t){const n=ye(s);let r=ge.min(),i=ke();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const f=ye(l),m=f.xs.get(h);return m!==void 0?q.resolve(f.Ms.get(m)):f.Pi.getTargetData(c,h)}(n,o,qt(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,u.targetId).next(l=>{i=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,t?r:ge.min(),t?i:ke())).next(u=>(Ry(n,fg(e),u),{documents:u,Qs:i})))}function Ry(s,e,t){let n=s.Os.get(e)||ge.min();t.forEach((r,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),s.Os.set(e,n)}class Nu{constructor(){this.activeTargetIds=bg()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cy{constructor(){this.Mo=new Nu,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Nu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu="ConnectivityMonitor";class Mu{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Z(zu,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Z(zu,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wr=null;function qo(){return Wr===null?Wr=function(){return 268435456+Math.round(2147483648*Math.random())}():Wr++,"0x"+Wr.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="RestConnection",Vy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dy{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===fi?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){const o=qo(),u=this.zo(e,t.toUriEncodedString());Z(bo,`Sending RPC '${e}' ${o}:`,u,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,r,i);const{host:c}=new URL(u),h=aa(c);return this.Jo(e,u,l,n,h).then(f=>(Z(bo,`Received RPC '${e}' ${o}: `,f),f),f=>{throw En(bo,`RPC '${e}' ${o} failed with error: `,f,"url: ",u,"request:",n),f})}Ho(e,t,n,r,i,o){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zn}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,i)=>e[i]=r),n&&n.headers.forEach((r,i)=>e[i]=r)}zo(e,t){const n=Vy[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class zy extends Dy{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const o=qo();return new Promise((u,l)=>{const c=new fh;c.setWithCredentials(!0),c.listenOnce(mh.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Qr.NO_ERROR:const f=c.getResponseJson();Z(pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),u(f);break;case Qr.TIMEOUT:Z(pt,`RPC '${e}' ${o} timed out`),l(new oe(G.DEADLINE_EXCEEDED,"Request time out"));break;case Qr.HTTP_ERROR:const m=c.getStatus();if(Z(pt,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const I=function(S){const C=S.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(C)>=0?C:G.UNKNOWN}(_.status);l(new oe(I,_.message))}else l(new oe(G.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new oe(G.UNAVAILABLE,"Connection failed."));break;default:me(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Z(pt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(r);Z(pt,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",h,n,15)})}T_(e,t,n){const r=qo(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yh(),u=gh(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,t,n),l.encodeInitMessageHeaders=!0;const h=i.join("");Z(pt,`Creating RPC '${e}' stream ${r}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let m=!1,g=!1;const _=new Ny({Yo:k=>{g?Z(pt,`Not sending because RPC '${e}' stream ${r} is closed:`,k):(m||(Z(pt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),m=!0),Z(pt,`RPC '${e}' stream ${r} sending:`,k),f.send(k))},Zo:()=>f.close()}),I=(k,S,C)=>{k.listen(S,V=>{try{C(V)}catch(z){setTimeout(()=>{throw z},0)}})};return I(f,er.EventType.OPEN,()=>{g||(Z(pt,`RPC '${e}' stream ${r} transport opened.`),_.o_())}),I(f,er.EventType.CLOSE,()=>{g||(g=!0,Z(pt,`RPC '${e}' stream ${r} transport closed`),_.a_(),this.E_(f))}),I(f,er.EventType.ERROR,k=>{g||(g=!0,En(pt,`RPC '${e}' stream ${r} transport errored. Name:`,k.name,"Message:",k.message),_.a_(new oe(G.UNAVAILABLE,"The operation could not be completed")))}),I(f,er.EventType.MESSAGE,k=>{var S;if(!g){const C=k.data[0];Ve(!!C,16349);const V=C,z=(V==null?void 0:V.error)||((S=V[0])==null?void 0:S.error);if(z){Z(pt,`RPC '${e}' stream ${r} received error:`,z);const O=z.status;let F=function(w){const T=Qe[w];if(T!==void 0)return Jh(T)}(O),v=z.message;F===void 0&&(F=G.INTERNAL,v="Unknown error status: "+O+" with message "+z.message),g=!0,_.a_(new oe(F,v)),f.close()}else Z(pt,`RPC '${e}' stream ${r} received:`,C),_.u_(C)}}),I(u,ph.STAT_EVENT,k=>{k.stat===Vo.PROXY?Z(pt,`RPC '${e}' stream ${r} detected buffering proxy`):k.stat===Vo.NOPROXY&&Z(pt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function wo(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(s){return new Lg(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Z("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou="PersistentStream";class fd{constructor(e,t,n,r,i,o,u,l){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dd(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(cs(t.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.D_===t&&this.G_(n,r)},n=>{e(()=>{const r=new oe(G.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(r)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{n(()=>this.z_(r))}),this.stream.onMessage(r=>{n(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(Ou,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Z(Ou,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class My extends fd{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=$g(this.serializer,e),n=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Bt(o.readTime):ge.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=$o(this.serializer),t.addTarget=function(i,o){let u;const l=o.target;if(u=Oo(l)?{documents:Bg(i,l)}:{query:Hg(i,l).ft},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=td(i,o.resumeToken);const c=Lo(i,o.expectedCount);c!==null&&(u.expectedCount=c)}else if(o.snapshotVersion.compareTo(ge.min())>0){u.readTime=bi(i,o.snapshotVersion.toTimestamp());const c=Lo(i,o.expectedCount);c!==null&&(u.expectedCount=c)}return u}(this.serializer,e);const n=Gg(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=$o(this.serializer),t.removeTarget=e,this.q_(t)}}class Oy extends fd{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=qg(e.writeResults,e.commitTime),n=Bt(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=$o(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>Ug(this.serializer,n))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{}class Ly extends xy{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new oe(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,jo(t,n),r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new oe(G.UNKNOWN,i.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Ho(e,jo(t,n),r,o,u,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(G.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class jy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(t),this.aa=!1):Z("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class Fy{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{Xs(this)&&(Z(Hs,"Restarting streams for network reachability change."),await async function(l){const c=ye(l);c.Ea.add(4),await Tr(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Fi(c)}(this))})}),this.Ra=new jy(n,r)}}async function Fi(s){if(Xs(s))for(const e of s.da)await e(!0)}async function Tr(s){for(const e of s.da)await e(!1)}function md(s,e){const t=ye(s);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Pa(t)?Ca(t):xn(t).O_()&&Ra(t,e))}function Sa(s,e){const t=ye(s),n=xn(t);t.Ia.delete(e),n.O_()&&pd(t,e),t.Ia.size===0&&(n.O_()?n.L_():Xs(t)&&t.Ra.set("Unknown"))}function Ra(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xn(s).Y_(e)}function pd(s,e){s.Va.Ue(e),xn(s).Z_(e)}function Ca(s){s.Va=new zg({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),xn(s).start(),s.Ra.ua()}function Pa(s){return Xs(s)&&!xn(s).x_()&&s.Ia.size>0}function Xs(s){return ye(s).Ea.size===0}function gd(s){s.Va=void 0}async function $y(s){s.Ra.set("Online")}async function Uy(s){s.Ia.forEach((e,t)=>{Ra(s,e)})}async function qy(s,e){gd(s),Pa(s)?(s.Ra.ha(e),Ca(s)):s.Ra.set("Unknown")}async function By(s,e,t){if(s.Ra.set("Online"),e instanceof ed&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const u of i.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,o),r.Ia.delete(u),r.Va.removeTarget(u))}(s,e)}catch(n){Z(Hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await vi(s,n)}else if(e instanceof Zr?s.Va.Ze(e):e instanceof Zh?s.Va.st(e):s.Va.tt(e),!t.isEqual(ge.min()))try{const n=await hd(s.localStore);t.compareTo(n)>=0&&await function(i,o){const u=i.Va.Tt(o);return u.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(c);h&&i.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),u.targetMismatches.forEach((l,c)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(ct.EMPTY_BYTE_STRING,h.snapshotVersion)),pd(i,l);const f=new ws(h.target,l,c,h.sequenceNumber);Ra(i,f)}),i.remoteSyncer.applyRemoteEvent(u)}(s,t)}catch(n){Z(Hs,"Failed to raise snapshot:",n),await vi(s,n)}}async function vi(s,e,t){if(!On(e))throw e;s.Ea.add(1),await Tr(s),s.Ra.set("Offline"),t||(t=()=>hd(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{Z(Hs,"Retrying IndexedDB access"),await t(),s.Ea.delete(1),await Fi(s)})}function yd(s,e){return e().catch(t=>vi(s,t,e))}async function $i(s){const e=ye(s),t=Ps(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fa;for(;Hy(e);)try{const r=await Ay(e.localStore,n);if(r===null){e.Ta.length===0&&t.L_();break}n=r.batchId,Wy(e,r)}catch(r){await vi(e,r)}_d(e)&&bd(e)}function Hy(s){return Xs(s)&&s.Ta.length<10}function Wy(s,e){s.Ta.push(e);const t=Ps(s);t.O_()&&t.X_&&t.ea(e.mutations)}function _d(s){return Xs(s)&&!Ps(s).x_()&&s.Ta.length>0}function bd(s){Ps(s).start()}async function Gy(s){Ps(s).ra()}async function Ky(s){const e=Ps(s);for(const t of s.Ta)e.ea(t.mutations)}async function Qy(s,e,t){const n=s.Ta.shift(),r=wa.from(n,e,t);await yd(s,()=>s.remoteSyncer.applySuccessfulWrite(r)),await $i(s)}async function Xy(s,e){e&&Ps(s).X_&&await async function(n,r){if(function(o){return Vg(o)&&o!==G.ABORTED}(r.code)){const i=n.Ta.shift();Ps(n).B_(),await yd(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await $i(n)}}(s,e),_d(s)&&bd(s)}async function xu(s,e){const t=ye(s);t.asyncQueue.verifyOperationInProgress(),Z(Hs,"RemoteStore received new credentials");const n=Xs(t);t.Ea.add(3),await Tr(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Fi(t)}async function Yy(s,e){const t=ye(s);e?(t.Ea.delete(2),await Fi(t)):e||(t.Ea.add(2),await Tr(t),t.Ra.set("Unknown"))}function xn(s){return s.ma||(s.ma=function(t,n,r){const i=ye(t);return i.sa(),new My(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(s.datastore,s.asyncQueue,{Xo:$y.bind(null,s),t_:Uy.bind(null,s),r_:qy.bind(null,s),H_:By.bind(null,s)}),s.da.push(async e=>{e?(s.ma.B_(),Pa(s)?Ca(s):s.Ra.set("Unknown")):(await s.ma.stop(),gd(s))})),s.ma}function Ps(s){return s.fa||(s.fa=function(t,n,r){const i=ye(t);return i.sa(),new Oy(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:Gy.bind(null,s),r_:Xy.bind(null,s),ta:Ky.bind(null,s),na:Qy.bind(null,s)}),s.da.push(async e=>{e?(s.fa.B_(),await $i(s)):(await s.fa.stop(),s.Ta.length>0&&(Z(Hs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,u=new Va(e,t,o,r,i);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Da(s,e){if(cs("AsyncQueue",`${e}: ${s}`),On(s))return new oe(G.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{static emptySet(e){return new gn(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||de.comparator(t.key,n.key):(t,n)=>de.comparator(t.key,n.key),this.keyedMap=tr(),this.sortedSet=new qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new gn;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){this.ga=new qe(de.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):me(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Rn{constructor(e,t,n,r,i,o,u,l,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(u=>{o.push({type:0,doc:u})}),new Rn(e,t,gn.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Zy{constructor(){this.queries=ju(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const r=ye(t),i=r.queries;r.queries=ju(),i.forEach((o,u)=>{for(const l of u.Sa)l.onError(n)})})(this,new oe(G.ABORTED,"Firestore shutting down"))}}function ju(){return new Ks(s=>jh(s),zi)}async function e_(s,e){const t=ye(s);let n=3;const r=e.query;let i=t.queries.get(r);i?!i.ba()&&e.Da()&&(n=2):(i=new Jy,n=e.Da()?0:1);try{switch(n){case 0:i.wa=await t.onListen(r,!0);break;case 1:i.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(o){const u=Da(o,`Initialization of query '${un(e.query)}' failed`);return void e.onError(u)}t.queries.set(r,i),i.Sa.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&Na(t)}async function t_(s,e){const t=ye(s),n=e.query;let r=3;const i=t.queries.get(n);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function s_(s,e){const t=ye(s);let n=!1;for(const r of e){const i=r.query,o=t.queries.get(i);if(o){for(const u of o.Sa)u.Fa(r)&&(n=!0);o.wa=r}}n&&Na(t)}function n_(s,e,t){const n=ye(s),r=n.queries.get(e);if(r)for(const i of r.Sa)i.onError(t);n.queries.delete(e)}function Na(s){s.Ca.forEach(e=>{e.next()})}var Bo,Fu;(Fu=Bo||(Bo={})).Ma="default",Fu.Cache="cache";class r_{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const r of e.docChanges)r.type!==3&&n.push(r);e=new Rn(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Rn.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bo.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.key=e}}class vd{constructor(e){this.key=e}}class i_{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=Fh(e),this.tu=new gn(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Lu,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,u=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,f)=>{const m=r.get(h),g=Mi(this.query,f)?f:null,_=!!m&&this.mutatedKeys.has(m.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let k=!1;m&&g?m.data.isEqual(g.data)?_!==I&&(n.track({type:3,doc:g}),k=!0):this.su(m,g)||(n.track({type:2,doc:g}),k=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(u=!0)):!m&&g?(n.track({type:0,doc:g}),k=!0):m&&!g&&(n.track({type:1,doc:m}),k=!0,(l||c)&&(u=!0)),k&&(g?(o=o.add(g),i=I?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),n.track({type:1,doc:h})}return{tu:o,iu:n,Cs:u,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(g,_){const I=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me(20277,{Rt:k})}};return I(g)-I(_)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(n),r=r??!1;const u=t&&!r?this._u():[],l=this.Xa.size===0&&this.current&&!r?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Rn(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Lu,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const t=[];return e.forEach(n=>{this.Xa.has(n)||t.push(new vd(n))}),this.Xa.forEach(n=>{e.has(n)||t.push(new wd(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=ke();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Rn.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const za="SyncEngine";class o_{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class a_{constructor(e){this.key=e,this.hu=!1}}class l_{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ks(u=>jh(u),zi),this.Iu=new Map,this.Eu=new Set,this.du=new qe(de.comparator),this.Au=new Map,this.Ru=new Ea,this.Vu={},this.mu=new Map,this.fu=Sn.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function u_(s,e,t=!0){const n=Sd(s);let r;const i=n.Tu.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await kd(n,e,t,!0),r}async function c_(s,e){const t=Sd(s);await kd(t,e,!0,!1)}async function kd(s,e,t,n){const r=await Sy(s.localStore,qt(e)),i=r.targetId,o=s.sharedClientState.addLocalQueryTarget(i,t);let u;return n&&(u=await h_(s,e,i,o==="current",r.resumeToken)),s.isPrimaryClient&&t&&md(s.remoteStore,r),u}async function h_(s,e,t,n,r){s.pu=(f,m,g)=>async function(I,k,S,C){let V=k.view.ru(S);V.Cs&&(V=await Du(I.localStore,k.query,!1).then(({documents:v})=>k.view.ru(v,V)));const z=C&&C.targetChanges.get(k.targetId),O=C&&C.targetMismatches.get(k.targetId)!=null,F=k.view.applyChanges(V,I.isPrimaryClient,z,O);return Uu(I,k.targetId,F.au),F.snapshot}(s,f,m,g);const i=await Du(s.localStore,e,!0),o=new i_(e,i.Qs),u=o.ru(i.documents),l=Er.createSynthesizedTargetChangeForCurrentChange(t,n&&s.onlineState!=="Offline",r),c=o.applyChanges(u,s.isPrimaryClient,l);Uu(s,t,c.au);const h=new o_(e,t,o);return s.Tu.set(e,h),s.Iu.has(t)?s.Iu.get(t).push(e):s.Iu.set(t,[e]),c.snapshot}async function d_(s,e,t){const n=ye(s),r=n.Tu.get(e),i=n.Iu.get(r.targetId);if(i.length>1)return n.Iu.set(r.targetId,i.filter(o=>!zi(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Uo(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),t&&Sa(n.remoteStore,r.targetId),Ho(n,r.targetId)}).catch(Mn)):(Ho(n,r.targetId),await Uo(n.localStore,r.targetId,!0))}async function f_(s,e){const t=ye(s),n=t.Tu.get(e),r=t.Iu.get(n.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Sa(t.remoteStore,n.targetId))}async function m_(s,e,t){const n=v_(s);try{const r=await function(o,u){const l=ye(o),c=je.now(),h=u.reduce((g,_)=>g.add(_.key),ke());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=hs(),I=ke();return l.Ns.getEntries(g,h).next(k=>{_=k,_.forEach((S,C)=>{C.isValidDocument()||(I=I.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(k=>{f=k;const S=[];for(const C of u){const V=Ag(C,f.get(C.key).overlayedDocument);V!=null&&S.push(new Qs(C.key,V,Dh(V.value.mapValue),ss.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,S,u)}).next(k=>{m=k;const S=k.applyToLocalDocumentSet(f,I);return l.documentOverlayCache.saveOverlays(g,k.batchId,S)})}).then(()=>({batchId:m.batchId,changes:Uh(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(r.batchId),function(o,u,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new qe(ve)),c=c.insert(u,l),o.Vu[o.currentUser.toKey()]=c}(n,r.batchId,t),await Ir(n,r.changes),await $i(n.remoteStore)}catch(r){const i=Da(r,"Failed to persist write");t.reject(i)}}async function Ed(s,e){const t=ye(s);try{const n=await Ty(t.localStore,e);e.targetChanges.forEach((r,i)=>{const o=t.Au.get(i);o&&(Ve(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?Ve(o.hu,14607):r.removedDocuments.size>0&&(Ve(o.hu,42227),o.hu=!1))}),await Ir(t,n,e)}catch(n){await Mn(n)}}function $u(s,e,t){const n=ye(s);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const r=[];n.Tu.forEach((i,o)=>{const u=o.view.va(e);u.snapshot&&r.push(u.snapshot)}),function(o,u){const l=ye(o);l.onlineState=u;let c=!1;l.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(u)&&(c=!0)}),c&&Na(l)}(n.eventManager,e),r.length&&n.Pu.H_(r),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function p_(s,e,t){const n=ye(s);n.sharedClientState.updateQueryState(e,"rejected",t);const r=n.Au.get(e),i=r&&r.key;if(i){let o=new qe(de.comparator);o=o.insert(i,_t.newNoDocument(i,ge.min()));const u=ke().add(i),l=new Li(ge.min(),new Map,new qe(ve),o,u);await Ed(n,l),n.du=n.du.remove(i),n.Au.delete(e),Ma(n)}else await Uo(n.localStore,e,!1).then(()=>Ho(n,e,t)).catch(Mn)}async function g_(s,e){const t=ye(s),n=e.batch.batchId;try{const r=await Ey(t.localStore,e);Id(t,n,null),Td(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Ir(t,r)}catch(r){await Mn(r)}}async function y_(s,e,t){const n=ye(s);try{const r=await function(o,u){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,u).next(f=>(Ve(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,u)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(n.localStore,e);Id(n,e,t),Td(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Ir(n,r)}catch(r){await Mn(r)}}function Td(s,e){(s.mu.get(e)||[]).forEach(t=>{t.resolve()}),s.mu.delete(e)}function Id(s,e,t){const n=ye(s);let r=n.Vu[n.currentUser.toKey()];if(r){const i=r.get(e);i&&(t?i.reject(t):i.resolve(),r=r.remove(e)),n.Vu[n.currentUser.toKey()]=r}}function Ho(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const n of s.Iu.get(e))s.Tu.delete(n),t&&s.Pu.yu(n,t);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach(n=>{s.Ru.containsKey(n)||Ad(s,n)})}function Ad(s,e){s.Eu.delete(e.path.canonicalString());const t=s.du.get(e);t!==null&&(Sa(s.remoteStore,t),s.du=s.du.remove(e),s.Au.delete(t),Ma(s))}function Uu(s,e,t){for(const n of t)n instanceof wd?(s.Ru.addReference(n.key,e),__(s,n)):n instanceof vd?(Z(za,"Document no longer in limbo: "+n.key),s.Ru.removeReference(n.key,e),s.Ru.containsKey(n.key)||Ad(s,n.key)):me(19791,{wu:n})}function __(s,e){const t=e.key,n=t.path.canonicalString();s.du.get(t)||s.Eu.has(n)||(Z(za,"New document in limbo: "+t),s.Eu.add(n),Ma(s))}function Ma(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const t=new de(Le.fromString(e)),n=s.fu.next();s.Au.set(n,new a_(t)),s.du=s.du.insert(t,n),md(s.remoteStore,new ws(qt(_a(t.path)),n,"TargetPurposeLimboResolution",Pi.ce))}}async function Ir(s,e,t){const n=ye(s),r=[],i=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((u,l)=>{o.push(n.pu(l,e,t).then(c=>{var h;if((c||t)&&n.isPrimaryClient){const f=c?!c.fromCache:(h=t==null?void 0:t.targetChanges.get(l.targetId))==null?void 0:h.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){r.push(c);const f=Ia.As(l.targetId,c);i.push(f)}}))}),await Promise.all(o),n.Pu.H_(r),await async function(l,c){const h=ye(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(c,m=>q.forEach(m.Es,g=>h.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>q.forEach(m.ds,g=>h.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!On(f))throw f;Z(Aa,"Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const g=h.Ms.get(m),_=g.snapshotVersion,I=g.withLastLimboFreeSnapshotVersion(_);h.Ms=h.Ms.insert(m,I)}}}(n.localStore,i))}async function b_(s,e){const t=ye(s);if(!t.currentUser.isEqual(e)){Z(za,"User change. New user:",e.toKey());const n=await cd(t.localStore,e);t.currentUser=e,function(i,o){i.mu.forEach(u=>{u.forEach(l=>{l.reject(new oe(G.CANCELLED,o))})}),i.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ir(t,n.Ls)}}function w_(s,e){const t=ye(s),n=t.Au.get(e);if(n&&n.hu)return ke().add(n.key);{let r=ke();const i=t.Iu.get(e);if(!i)return r;for(const o of i){const u=t.Tu.get(o);r=r.unionWith(u.view.nu)}return r}}function Sd(s){const e=ye(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ed.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=w_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p_.bind(null,e),e.Pu.H_=s_.bind(null,e.eventManager),e.Pu.yu=n_.bind(null,e.eventManager),e}function v_(s){const e=ye(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y_.bind(null,e),e}class ki{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ji(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ky(this.persistence,new by,e.initialUser,this.serializer)}Cu(e){return new ud(Ta.mi,this.serializer)}Du(e){return new Cy}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ki.provider={build:()=>new ki};class k_ extends ki{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ve(this.persistence.referenceDelegate instanceof wi,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ry(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?It.withCacheSize(this.cacheSizeBytes):It.DEFAULT;return new ud(n=>wi.mi(n,t),this.serializer)}}class Wo{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>$u(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=b_.bind(null,this.syncEngine),await Yy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Zy}()}createDatastore(e){const t=ji(e.databaseInfo.databaseId),n=function(i){return new zy(i)}(e.databaseInfo);return function(i,o,u,l){return new Ly(i,o,u,l)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,r,i,o,u){return new Fy(n,r,i,o,u)}(this.localStore,this.datastore,e.asyncQueue,t=>$u(this.syncEngine,t,0),function(){return Mu.v()?new Mu:new Py}())}createSyncEngine(e,t){return function(r,i,o,u,l,c,h){const f=new l_(r,i,o,u,l,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const i=ye(r);Z(Hs,"RemoteStore shutting down."),i.Ea.add(5),await Tr(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Wo.provider={build:()=>new Wo};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="FirestoreClient";class T_{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=yt.UNAUTHENTICATED,this.clientId=ha.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async o=>{Z(Vs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Z(Vs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Da(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function vo(s,e){s.asyncQueue.verifyOperationInProgress(),Z(Vs,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let n=t.initialUser;s.setCredentialChangeListener(async r=>{n.isEqual(r)||(await cd(e.localStore,r),n=r)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function qu(s,e){s.asyncQueue.verifyOperationInProgress();const t=await I_(s);Z(Vs,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener(n=>xu(e.remoteStore,n)),s.setAppCheckTokenChangeListener((n,r)=>xu(e.remoteStore,r)),s._onlineComponents=e}async function I_(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Z(Vs,"Using user provided OfflineComponentProvider");try{await vo(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===G.FAILED_PRECONDITION||r.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;En("Error using user provided cache. Falling back to memory cache: "+t),await vo(s,new ki)}}else Z(Vs,"Using default OfflineComponentProvider"),await vo(s,new k_(void 0));return s._offlineComponents}async function Rd(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Z(Vs,"Using user provided OnlineComponentProvider"),await qu(s,s._uninitializedComponentsProvider._online)):(Z(Vs,"Using default OnlineComponentProvider"),await qu(s,new Wo))),s._onlineComponents}function A_(s){return Rd(s).then(e=>e.syncEngine)}async function Bu(s){const e=await Rd(s),t=e.eventManager;return t.onListen=u_.bind(null,e.syncEngine),t.onUnlisten=d_.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=c_.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=f_.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="firestore.googleapis.com",Wu=!0;class Gu{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pd,this.ssl=Wu}else this.host=e.host,this.ssl=e.ssl??Wu;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ld;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sy)throw new oe(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cd(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new oe(G.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new oe(G.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new oe(G.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ui{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gu({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gu(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Pp;switch(n.type){case"firstParty":return new zp(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new oe(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Hu.get(t);n&&(Z("ComponentProvider","Removing Datastore"),Hu.delete(t),n.terminate())}(this),Promise.resolve()}}function S_(s,e,t,n={}){var c;s=pn(s,Ui);const r=aa(e),i=s._getSettings(),o={...i,emulatorOptions:s._getEmulatorOptions()},u=`${e}:${t}`;r&&(im(`https://${u}`),um("Firestore",!0)),i.host!==Pd&&i.host!==u&&En("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:u,ssl:r,emulatorOptions:n};if(!ui(l,o)&&(s._setSettings(l),n.mockUserToken)){let h,f;if(typeof n.mockUserToken=="string")h=n.mockUserToken,f=yt.MOCK_USER;else{h=om(n.mockUserToken,(c=s._app)==null?void 0:c.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new oe(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new yt(m)}s._authCredentials=new Vp(new bh(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class tt{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tt(this.firestore,e,this._key)}toJSON(){return{type:tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(vr(t,tt._jsonSchema))return new tt(e,n||null,new de(Le.fromString(t.referencePath)))}}tt._jsonSchemaVersion="firestore/documentReference/1.0",tt._jsonSchema={type:Ye("string",tt._jsonSchemaVersion),referencePath:Ye("string")};class Ts extends qi{constructor(e,t,n){super(e,t,_a(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tt(this.firestore,null,new de(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function R_(s,e,...t){if(s=kn(s),wh("collection","path",e),s instanceof Ui){const n=Le.fromString(e,...t);return ou(n),new Ts(s,null,n)}{if(!(s instanceof tt||s instanceof Ts))throw new oe(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=s._path.child(Le.fromString(e,...t));return ou(n),new Ts(s.firestore,null,n)}}function C_(s,e,...t){if(s=kn(s),arguments.length===1&&(e=ha.newId()),wh("doc","path",e),s instanceof Ui){const n=Le.fromString(e,...t);return iu(n),new tt(s,null,new de(n))}{if(!(s instanceof tt||s instanceof Ts))throw new oe(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=s._path.child(Le.fromString(e,...t));return iu(n),new tt(s.firestore,s instanceof Ts?s.converter:null,new de(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku="AsyncQueue";class Qu{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dd(this,"async_queue_retry"),this._c=()=>{const n=wo();n&&Z(Ku,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=wo();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=wo();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Fs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!On(e))throw e;Z(Ku,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",Xu(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Va.createAndSchedule(this,e,t,n,i=>this.hc(i));return this.tc.push(r),r}uc(){this.nc&&me(47125,{Pc:Xu(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Xu(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(s){return function(t,n){if(typeof t!="object"||t===null)return!1;const r=t;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(s,["next","error","complete"])}class Ei extends Ui{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Qu,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qu(e),this._firestoreClient=void 0,await e}}}function Vd(s,e){const t=typeof s=="object"?s:bp(),n=typeof s=="string"?s:e||fi,r=mp(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const i=nm("firestore");i&&S_(r,...i)}return r}function Dd(s){if(s._terminated)throw new oe(G.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||P_(s),s._firestoreClient}function P_(s){var n,r,i;const e=s._freezeSettings(),t=function(u,l,c,h){return new Yp(u,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Cd(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(s._databaseId,((n=s._app)==null?void 0:n.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new T_(s._authCredentials,s._appCheckCredentials,s._queue,t,s._componentsProvider&&function(u){const l=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(l),_online:l}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nt(ct.fromBase64String(e))}catch(t){throw new oe(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nt(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vr(e,Nt._jsonSchema))return Nt.fromBase64String(e.bytes)}}Nt._jsonSchemaVersion="firestore/bytes/1.0",Nt._jsonSchema={type:Ye("string",Nt._jsonSchemaVersion),bytes:Ye("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ht._jsonSchemaVersion}}static fromJSON(e){if(vr(e,Ht._jsonSchema))return new Ht(e.latitude,e.longitude)}}Ht._jsonSchemaVersion="firestore/geoPoint/1.0",Ht._jsonSchema={type:Ye("string",Ht._jsonSchemaVersion),latitude:Ye("number"),longitude:Ye("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,r){if(n.length!==r.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==r[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Wt._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vr(e,Wt._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Wt(e.vectorValues);throw new oe(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wt._jsonSchemaVersion="firestore/vectorValue/1.0",Wt._jsonSchema={type:Ye("string",Wt._jsonSchemaVersion),vectorValues:Ye("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=/^__.*__$/;class D_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new kr(e,this.data,t,this.fieldTransforms)}}function zd(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me(40011,{Ac:s})}}class xa{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xa({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const t=(r=this.path)==null?void 0:r.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){var r;const t=(r=this.path)==null?void 0:r.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ti(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zd(this.Ac)&&V_.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class N_{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ji(e)}Cc(e,t,n,r=!1){return new xa({Ac:e,methodName:t,Dc:n,path:lt.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function z_(s){const e=s._freezeSettings(),t=ji(s._databaseId);return new N_(s._databaseId,!!e.ignoreUndefinedProperties,t)}function M_(s,e,t,n,r,i={}){const o=s.Cc(i.merge||i.mergeFields?2:0,e,t,r);Ld("Data must be an object, but it was:",o,n);const u=Od(n,o);let l,c;if(i.merge)l=new xt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=O_(e,f,t);if(!o.contains(m))throw new oe(G.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);L_(h,m)||h.push(m)}l=new xt(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new D_(new Dt(u),l,c)}function Md(s,e){if(xd(s=kn(s)))return Ld("Unsupported field value:",e,s),Od(s,e);if(s instanceof Nd)return function(n,r){if(!zd(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const u of n){let l=Md(u,r.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(s,e)}return function(n,r){if((n=kn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return wg(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=je.fromDate(n);return{timestampValue:bi(r.serializer,i)}}if(n instanceof je){const i=new je(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:bi(r.serializer,i)}}if(n instanceof Ht)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Nt)return{bytesValue:td(r.serializer,n._byteString)};if(n instanceof tt){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ka(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof Wt)return function(o,u){return{mapValue:{fields:{[Ch]:{stringValue:Vh},[mi]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw u.Sc("VectorValues must only contain numeric values.");return ba(u.serializer,c)})}}}}}}(n,r);throw r.Sc(`Unsupported field value: ${da(n)}`)}(s,e)}function Od(s,e){const t={};return Eh(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(s,(n,r)=>{const i=Md(r,e.mc(n));i!=null&&(t[n]=i)}),{mapValue:{fields:t}}}function xd(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof je||s instanceof Ht||s instanceof Nt||s instanceof tt||s instanceof Nd||s instanceof Wt)}function Ld(s,e,t){if(!xd(t)||!vh(t)){const n=da(t);throw n==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+n)}}function O_(s,e,t){if((e=kn(e))instanceof Oa)return e._internalPath;if(typeof e=="string")return jd(s,e);throw Ti("Field path arguments must be of type string or ",s,!1,void 0,t)}const x_=new RegExp("[~\\*/\\[\\]]");function jd(s,e,t){if(e.search(x_)>=0)throw Ti(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new Oa(...e.split("."))._internalPath}catch{throw Ti(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Ti(s,e,t,n,r){const i=n&&!n.isEmpty(),o=r!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${n}`),o&&(l+=` in document ${r}`),l+=")"),new oe(G.INVALID_ARGUMENT,u+s+l)}function L_(s,e){return s.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($d("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class j_ extends Fd{data(){return super.data()}}function $d(s,e){return typeof e=="string"?jd(s,e):e instanceof Oa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new oe(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $_{convertValue(e,t="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Gs(e,(r,i)=>{n[r]=this.convertValue(i,t)}),n}convertVectorValue(e){var n,r,i;const t=(i=(r=(n=e.fields)==null?void 0:n[mi].arrayValue)==null?void 0:r.values)==null?void 0:i.map(o=>We(o.doubleValue));return new Wt(t)}convertGeoPoint(e){return new Ht(We(e.latitude),We(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Di(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(fr(e));default:return null}}convertTimestamp(e){const t=Ss(e);return new je(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Le.fromString(e);Ve(ad(n),9688,{name:e});const r=new mr(n.get(1),n.get(3)),i=new de(n.popFirst(5));return r.isEqual(t)||cs(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(s,e,t){let n;return n=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,n}class nr{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $s extends Fd{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ei(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field($d("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=$s._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:Ye("string",$s._jsonSchemaVersion),bundleSource:Ye("string","DocumentSnapshot"),bundleName:Ye("string"),bundle:Ye("string")};class ei extends $s{data(e={}){return super.data(e)}}class yn{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new nr(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ei(this._firestore,this._userDataWriter,n.key,n,new nr(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(u=>{const l=new ei(r._firestore,r._userDataWriter,u.doc.key,u.doc,new nr(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||u.type!==3).map(u=>{const l=new ei(r._firestore,r._userDataWriter,u.doc.key,u.doc,new nr(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return u.type!==0&&(c=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),h=o.indexOf(u.doc.key)),{type:q_(u.type),doc:l,oldIndex:c,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yn._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ha.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(i=>{i._document!==null&&(t.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function q_(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me(61501,{type:s})}}yn._jsonSchemaVersion="firestore/querySnapshot/1.0",yn._jsonSchema={type:Ye("string",yn._jsonSchemaVersion),bundleSource:Ye("string","QuerySnapshot"),bundleName:Ye("string"),bundle:Ye("string")};class Ud extends $_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nt(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tt(this.firestore,null,t)}}function B_(s,e,t){s=pn(s,tt);const n=pn(s.firestore,Ei),r=U_(s.converter,e,t);return W_(n,[M_(z_(n),"setDoc",s._key,r,s.converter!==null,t).toMutation(s._key,ss.none())])}function H_(s,...e){var l,c,h;s=kn(s);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||Yu(e[n])||(t=e[n++]);const r={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Yu(e[n])){const f=e[n];e[n]=(l=f.next)==null?void 0:l.bind(f),e[n+1]=(c=f.error)==null?void 0:c.bind(f),e[n+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,o,u;if(s instanceof tt)o=pn(s.firestore,Ei),u=_a(s._key.path),i={next:f=>{e[n]&&e[n](G_(o,s,f))},error:e[n+1],complete:e[n+2]};else{const f=pn(s,qi);o=pn(f.firestore,Ei),u=f._query;const m=new Ud(o);i={next:g=>{e[n]&&e[n](new yn(o,m,f,g))},error:e[n+1],complete:e[n+2]},F_(s._query)}return function(m,g,_,I){const k=new E_(I),S=new r_(g,k,_);return m.asyncQueue.enqueueAndForget(async()=>e_(await Bu(m),S)),()=>{k.Nu(),m.asyncQueue.enqueueAndForget(async()=>t_(await Bu(m),S))}}(Dd(o),u,r,i)}function W_(s,e){return function(n,r){const i=new Fs;return n.asyncQueue.enqueueAndForget(async()=>m_(await A_(n),r,i)),i.promise}(Dd(s),e)}function G_(s,e,t){const n=t.docs.get(e._key),r=new Ud(s);return new $s(s,r,e._key,n,new nr(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){zn=r})(_p),hi(new cr("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),u=new Ei(new Dp(n.getProvider("auth-internal")),new Mp(o,n.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new oe(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mr(c.options.projectId,h)}(o,r),o);return i={useFetchStreams:t,...i},u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),mn(tu,su,e),mn(tu,su,"esm2020")})();var K_="firebase",Q_="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn(K_,Q_,"app");const X_={demo:{id:"demo",name:"Demo Session",words:[{word:"cat",hint:"A common household pet that meows",length:3},{word:"house",hint:"A place where people live",length:5},{word:"computer",hint:"An electronic device for processing data",length:8},{word:"elephant",hint:"The largest land mammal with a trunk",length:8},{word:"programming",hint:"The process of creating computer software",length:11}]},animals:{id:"animals",name:"Animal Kingdom",words:[{word:"dog",hint:"Man's best friend",length:3},{word:"tiger",hint:"Large striped cat from Asia",length:5},{word:"dolphin",hint:"Intelligent marine mammal",length:7},{word:"butterfly",hint:"Colorful insect that undergoes metamorphosis",length:9},{word:"hippopotamus",hint:"Large African mammal that lives in water",length:12}]},science:{id:"science",name:"Science & Technology",words:[{word:"atom",hint:"The smallest unit of matter",length:4},{word:"galaxy",hint:"A collection of billions of stars",length:6},{word:"molecule",hint:"Two or more atoms bonded together",length:8},{word:"photosynthesis",hint:"Process by which plants make food from sunlight",length:14},{word:"dna",hint:"Genetic material in living organisms",length:3}]},geography:{id:"geography",name:"World Geography",words:[{word:"ocean",hint:"Large body of salt water",length:5},{word:"mountain",hint:"High elevation landform",length:8},{word:"desert",hint:"Dry, arid region with little rainfall",length:6},{word:"archipelago",hint:"A group of islands",length:11},{word:"continent",hint:"One of the seven large landmasses",length:9}]}};function Ii(s){return X_[s]||null}const Y_=s=>({}),Ju=s=>({}),J_=s=>({}),Zu=s=>({});function Z_(s){let e,t,n,r,i;const o=s[2][1],u=is(o,s,s[1],Zu),l=s[2][2],c=is(l,s,s[1],Ju);return{c(){e=N("div"),t=N("div"),u&&u.c(),n=$(),r=N("div"),c&&c.c(),D(t,"class","svelte-1cu43ge"),D(r,"class","svelte-1cu43ge"),D(e,"class","sep svelte-1cu43ge"),Re(e,"visible",s[0])},m(h,f){j(h,e,f),E(e,t),u&&u.m(t,null),E(e,n),E(e,r),c&&c.m(r,null),i=!0},p(h,[f]){u&&u.p&&(!i||f&2)&&as(u,o,h,h[1],i?os(o,h[1],f,J_):ls(h[1]),Zu),c&&c.p&&(!i||f&2)&&as(c,l,h,h[1],i?os(l,h[1],f,Y_):ls(h[1]),Ju),(!i||f&1)&&Re(e,"visible",h[0])},i(h){i||(U(u,h),U(c,h),i=!0)},o(h){B(u,h),B(c,h),i=!1},d(h){h&&L(e),u&&u.d(h),c&&c.d(h)}}}function eb(s,e,t){let{$$slots:n={},$$scope:r}=e,{visible:i=!0}=e;return s.$$set=o=>{"visible"in o&&t(0,i=o.visible),"$$scope"in o&&t(1,r=o.$$scope)},[i,r,n]}class tb extends Ne{constructor(e){super(),De(this,e,eb,Z_,Se,{visible:0})}}function ec(s,e,t){const n=s.slice();return n[3]=e[t],n}function sb(s){let e,t,n,r,i;return{c(){e=N("div"),t=H("Your word was "),n=N("strong"),r=H(s[0]),i=H(". (failed to fetch definition)")},m(o,u){j(o,e,u),E(e,t),E(e,n),E(n,r),E(e,i)},p(o,u){u&1&&ue(r,o[0])},d(o){o&&L(e)}}}function nb(s){let e,t,n,r,i=s[2].meanings[0].partOfSpeech+"",o,u,l,c,h=s[0]!==s[2].word&&tc(s),f=s[2].meanings[0].definitions.slice(0,1+s[1]-(s[0]!==s[2].word?1:0)),m=[];for(let g=0;g<f.length;g+=1)m[g]=sc(ec(s,f,g));return{c(){e=N("h2"),t=H(s[0]),n=$(),r=N("em"),o=H(i),u=$(),l=N("ol"),h&&h.c(),c=$();for(let g=0;g<m.length;g+=1)m[g].c();D(e,"class","svelte-1cpaagx"),D(l,"class","svelte-1cpaagx")},m(g,_){j(g,e,_),E(e,t),j(g,n,_),j(g,r,_),E(r,o),j(g,u,_),j(g,l,_),h&&h.m(l,null),E(l,c);for(let I=0;I<m.length;I+=1)m[I]&&m[I].m(l,null)},p(g,_){if(_&1&&ue(t,g[0]),_&1&&i!==(i=g[2].meanings[0].partOfSpeech+"")&&ue(o,i),g[0]!==g[2].word?h?h.p(g,_):(h=tc(g),h.c(),h.m(l,c)):h&&(h.d(1),h=null),_&3){f=g[2].meanings[0].definitions.slice(0,1+g[1]-(g[0]!==g[2].word?1:0));let I;for(I=0;I<f.length;I+=1){const k=ec(g,f,I);m[I]?m[I].p(k,_):(m[I]=sc(k),m[I].c(),m[I].m(l,null))}for(;I<m.length;I+=1)m[I].d(1);m.length=f.length}},d(g){g&&L(e),g&&L(n),g&&L(r),g&&L(u),g&&L(l),h&&h.d(),Lt(m,g)}}}function tc(s){let e,t,n=s[2].word+"",r,i;return{c(){e=N("li"),t=H("variant of "),r=H(n),i=H("."),D(e,"class","svelte-1cpaagx")},m(o,u){j(o,e,u),E(e,t),E(e,r),E(e,i)},p(o,u){u&1&&n!==(n=o[2].word+"")&&ue(r,n)},d(o){o&&L(e)}}}function sc(s){let e,t=s[3].definition+"",n;return{c(){e=N("li"),n=H(t),D(e,"class","svelte-1cpaagx")},m(r,i){j(r,e,i),E(e,n)},p(r,i){i&3&&t!==(t=r[3].definition+"")&&ue(n,t)},d(r){r&&L(e)}}}function rb(s){let e;return{c(){e=N("h4"),e.textContent="Fetching definition..."},m(t,n){j(t,e,n)},p:ae,d(t){t&&L(e)}}}function ib(s){let e,t,n={ctx:s,current:null,token:null,hasCatch:!0,pending:rb,then:nb,catch:sb,value:2};return ql(t=nc(s[0]),n),{c(){e=N("div"),n.block.c(),D(e,"class","def")},m(r,i){j(r,e,i),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null},p(r,[i]){s=r,n.ctx=s,i&1&&t!==(t=nc(s[0]))&&ql(t,n)||qf(n,s,i)},i:ae,o:ae,d(r){r&&L(e),n.block.d(),n.token=null,n=null}}}const ko=new Map;async function nc(s){if(!ko.has(s)){const e=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${s}`,{mode:"cors"});if(e.ok)ko.set(s,(await e.json())[0]);else throw new Error("Failed to fetch definition")}return ko.get(s)}function ob(s,e,t){let{word:n}=e,{alternates:r=9}=e;return s.$$set=i=>{"word"in i&&t(0,n=i.word),"alternates"in i&&t(1,r=i.alternates)},[n,r]}class qd extends Ne{constructor(e){super(),De(this,e,ob,ib,Se,{word:0,alternates:1})}}const rn=[];function Bd(s,e=ae){let t;const n=new Set;function r(u){if(Se(s,u)&&(s=u,t)){const l=!rn.length;for(const c of n)c[1](),rn.push(c,s);if(l){for(let c=0;c<rn.length;c+=2)rn[c][0](rn[c+1]);rn.length=0}}}function i(u){r(u(s))}function o(u,l=ae){const c=[u,l];return n.add(c),n.size===1&&(t=e(r)||ae),u(s),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:r,update:i,subscribe:o}}var Ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ab(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function lb(s){if(s.__esModule)return s;var e=s.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(s).forEach(function(n){var r=Object.getOwnPropertyDescriptor(s,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return s[n]}})}),t}var La={exports:{}};La.exports;(function(s){(function(e,t,n){function r(l){var c=this,h=u();c.next=function(){var f=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=f-(c.c=f|0)},c.c=1,c.s0=h(" "),c.s1=h(" "),c.s2=h(" "),c.s0-=h(l),c.s0<0&&(c.s0+=1),c.s1-=h(l),c.s1<0&&(c.s1+=1),c.s2-=h(l),c.s2<0&&(c.s2+=1),h=null}function i(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function o(l,c){var h=new r(l),f=c&&c.state,m=h.next;return m.int32=function(){return h.next()*4294967296|0},m.double=function(){return m()+(m()*2097152|0)*11102230246251565e-32},m.quick=m,f&&(typeof f=="object"&&i(f,h),m.state=function(){return i(h,{})}),m}function u(){var l=4022871197,c=function(h){h=String(h);for(var f=0;f<h.length;f++){l+=h.charCodeAt(f);var m=.02519603282416938*l;l=m>>>0,m-=l,m*=l,l=m>>>0,m-=l,l+=m*4294967296}return(l>>>0)*23283064365386963e-26};return c}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.alea=o})(Ys,s,!1)})(La);var ub=La.exports,ja={exports:{}};ja.exports;(function(s){(function(e,t,n){function r(u){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},u===(u|0)?l.x=u:c+=u;for(var h=0;h<c.length+64;h++)l.x^=c.charCodeAt(h)|0,l.next()}function i(u,l){return l.x=u.x,l.y=u.y,l.z=u.z,l.w=u.w,l}function o(u,l){var c=new r(u),h=l&&l.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var m=c.next()>>>11,g=(c.next()>>>0)/4294967296,_=(m+g)/(1<<21);while(_===0);return _},f.int32=c.next,f.quick=f,h&&(typeof h=="object"&&i(h,c),f.state=function(){return i(c,{})}),f}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.xor128=o})(Ys,s,!1)})(ja);var cb=ja.exports,Fa={exports:{}};Fa.exports;(function(s){(function(e,t,n){function r(u){var l=this,c="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,u===(u|0)?l.x=u:c+=u;for(var h=0;h<c.length+64;h++)l.x^=c.charCodeAt(h)|0,h==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(u,l){return l.x=u.x,l.y=u.y,l.z=u.z,l.w=u.w,l.v=u.v,l.d=u.d,l}function o(u,l){var c=new r(u),h=l&&l.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var m=c.next()>>>11,g=(c.next()>>>0)/4294967296,_=(m+g)/(1<<21);while(_===0);return _},f.int32=c.next,f.quick=f,h&&(typeof h=="object"&&i(h,c),f.state=function(){return i(c,{})}),f}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.xorwow=o})(Ys,s,!1)})(Fa);var hb=Fa.exports,$a={exports:{}};$a.exports;(function(s){(function(e,t,n){function r(u){var l=this;l.next=function(){var h=l.x,f=l.i,m,g;return m=h[f],m^=m>>>7,g=m^m<<24,m=h[f+1&7],g^=m^m>>>10,m=h[f+3&7],g^=m^m>>>3,m=h[f+4&7],g^=m^m<<7,m=h[f+7&7],m=m^m<<13,g^=m^m<<9,h[f]=g,l.i=f+1&7,g};function c(h,f){var m,g=[];if(f===(f|0))g[0]=f;else for(f=""+f,m=0;m<f.length;++m)g[m&7]=g[m&7]<<15^f.charCodeAt(m)+g[m+1&7]<<13;for(;g.length<8;)g.push(0);for(m=0;m<8&&g[m]===0;++m);for(m==8?g[7]=-1:g[m],h.x=g,h.i=0,m=256;m>0;--m)h.next()}c(l,u)}function i(u,l){return l.x=u.x.slice(),l.i=u.i,l}function o(u,l){u==null&&(u=+new Date);var c=new r(u),h=l&&l.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var m=c.next()>>>11,g=(c.next()>>>0)/4294967296,_=(m+g)/(1<<21);while(_===0);return _},f.int32=c.next,f.quick=f,h&&(h.x&&i(h,c),f.state=function(){return i(c,{})}),f}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.xorshift7=o})(Ys,s,!1)})($a);var db=$a.exports,Ua={exports:{}};Ua.exports;(function(s){(function(e,t,n){function r(u){var l=this;l.next=function(){var h=l.w,f=l.X,m=l.i,g,_;return l.w=h=h+1640531527|0,_=f[m+34&127],g=f[m=m+1&127],_^=_<<13,g^=g<<17,_^=_>>>15,g^=g>>>12,_=f[m]=_^g,l.i=m,_+(h^h>>>16)|0};function c(h,f){var m,g,_,I,k,S=[],C=128;for(f===(f|0)?(g=f,f=null):(f=f+"\0",g=0,C=Math.max(C,f.length)),_=0,I=-32;I<C;++I)f&&(g^=f.charCodeAt((I+32)%f.length)),I===0&&(k=g),g^=g<<10,g^=g>>>15,g^=g<<4,g^=g>>>13,I>=0&&(k=k+1640531527|0,m=S[I&127]^=g+k,_=m==0?_+1:0);for(_>=128&&(S[(f&&f.length||0)&127]=-1),_=127,I=4*128;I>0;--I)g=S[_+34&127],m=S[_=_+1&127],g^=g<<13,m^=m<<17,g^=g>>>15,m^=m>>>12,S[_]=g^m;h.w=k,h.X=S,h.i=_}c(l,u)}function i(u,l){return l.i=u.i,l.w=u.w,l.X=u.X.slice(),l}function o(u,l){u==null&&(u=+new Date);var c=new r(u),h=l&&l.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var m=c.next()>>>11,g=(c.next()>>>0)/4294967296,_=(m+g)/(1<<21);while(_===0);return _},f.int32=c.next,f.quick=f,h&&(h.X&&i(h,c),f.state=function(){return i(c,{})}),f}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.xor4096=o})(Ys,s,!1)})(Ua);var fb=Ua.exports,qa={exports:{}};qa.exports;(function(s){(function(e,t,n){function r(u){var l=this,c="";l.next=function(){var f=l.b,m=l.c,g=l.d,_=l.a;return f=f<<25^f>>>7^m,m=m-g|0,g=g<<24^g>>>8^_,_=_-f|0,l.b=f=f<<20^f>>>12^m,l.c=m=m-g|0,l.d=g<<16^m>>>16^_,l.a=_-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,u===Math.floor(u)?(l.a=u/4294967296|0,l.b=u|0):c+=u;for(var h=0;h<c.length+20;h++)l.b^=c.charCodeAt(h)|0,l.next()}function i(u,l){return l.a=u.a,l.b=u.b,l.c=u.c,l.d=u.d,l}function o(u,l){var c=new r(u),h=l&&l.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var m=c.next()>>>11,g=(c.next()>>>0)/4294967296,_=(m+g)/(1<<21);while(_===0);return _},f.int32=c.next,f.quick=f,h&&(typeof h=="object"&&i(h,c),f.state=function(){return i(c,{})}),f}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.tychei=o})(Ys,s,!1)})(qa);var mb=qa.exports,Hd={exports:{}};const pb={},gb=Object.freeze(Object.defineProperty({__proto__:null,default:pb},Symbol.toStringTag,{value:"Module"})),yb=lb(gb);(function(s){(function(e,t,n){var r=256,i=6,o=52,u="random",l=n.pow(r,i),c=n.pow(2,o),h=c*2,f=r-1,m;function g(z,O,F){var v=[];O=O==!0?{entropy:!0}:O||{};var y=S(k(O.entropy?[z,V(t)]:z??C(),3),v),w=new _(v),T=function(){for(var A=w.g(i),P=l,R=0;A<c;)A=(A+R)*r,P*=r,R=w.g(1);for(;A>=h;)A/=2,P/=2,R>>>=1;return(A+R)/P};return T.int32=function(){return w.g(4)|0},T.quick=function(){return w.g(4)/4294967296},T.double=T,S(V(w.S),t),(O.pass||F||function(A,P,R,he){return he&&(he.S&&I(he,w),A.state=function(){return I(w,{})}),R?(n[u]=A,P):A})(T,y,"global"in O?O.global:this==n,O.state)}function _(z){var O,F=z.length,v=this,y=0,w=v.i=v.j=0,T=v.S=[];for(F||(z=[F++]);y<r;)T[y]=y++;for(y=0;y<r;y++)T[y]=T[w=f&w+z[y%F]+(O=T[y])],T[w]=O;(v.g=function(A){for(var P,R=0,he=v.i,Q=v.j,fe=v.S;A--;)P=fe[he=f&he+1],R=R*r+fe[f&(fe[he]=fe[Q=f&Q+P])+(fe[Q]=P)];return v.i=he,v.j=Q,R})(r)}function I(z,O){return O.i=z.i,O.j=z.j,O.S=z.S.slice(),O}function k(z,O){var F=[],v=typeof z,y;if(O&&v=="object")for(y in z)try{F.push(k(z[y],O-1))}catch{}return F.length?F:v=="string"?z:z+"\0"}function S(z,O){for(var F=z+"",v,y=0;y<F.length;)O[f&y]=f&(v^=O[f&y]*19)+F.charCodeAt(y++);return V(O)}function C(){try{var z;return m&&(z=m.randomBytes)?z=z(r):(z=new Uint8Array(r),(e.crypto||e.msCrypto).getRandomValues(z)),V(z)}catch{var O=e.navigator,F=O&&O.plugins;return[+new Date,e,F,e.screen,V(t)]}}function V(z){return String.fromCharCode.apply(0,z)}if(S(n.random(),t),s.exports){s.exports=g;try{m=yb}catch{}}else n["seed"+u]=g})(typeof self<"u"?self:Ys,[],Math)})(Hd);var _b=Hd.exports,bb=ub,wb=cb,vb=hb,kb=db,Eb=fb,Tb=mb,Js=_b;Js.alea=bb;Js.xor128=wb;Js.xorwow=vb;Js.xorshift7=kb;Js.xor4096=Eb;Js.tychei=Tb;var Ib=Js;const Ab=ab(Ib);var rt=(s=>(s[s.daily=0]="daily",s[s.hourly=1]="hourly",s[s.infinite=2]="infinite",s[s.session=3]="session",s))(rt||{}),Xe=(s=>(s[s.SECOND=1e3]="SECOND",s[s.MINUTE=6e4]="MINUTE",s[s.HOUR=36e5]="HOUR",s[s.DAY=864e5]="DAY",s))(Xe||{});const Eo={words:["cigar","rebut","sissy","humph","awake","blush","focal","evade","naval","serve","heath","dwarf","model","karma","stink","grade","quiet","bench","abate","feign","major","death","fresh","crust","stool","colon","abase","marry","react","batty","pride","floss","helix","croak","staff","paper","unfed","whelp","trawl","outdo","adobe","crazy","sower","repay","digit","crate","cluck","spike","mimic","pound","maxim","linen","unmet","flesh","booby","forth","first","stand","belly","ivory","seedy","print","yearn","drain","bribe","stout","panel","crass","flume","offal","agree","error","swirl","argue","bleed","delta","flick","totem","wooer","front","shrub","parry","biome","lapel","start","greet","goner","golem","lusty","loopy","round","audit","lying","gamma","labor","islet","civic","forge","corny","moult","basic","salad","agate","spicy","spray","essay","fjord","spend","kebab","guild","aback","motor","alone","hatch","hyper","thumb","dowry","ought","belch","dutch","pilot","tweed","comet","jaunt","enema","steed","abyss","growl","fling","dozen","boozy","erode","world","gouge","click","briar","great","altar","pulpy","blurt","coast","duchy","groin","fixer","group","rogue","badly","smart","pithy","gaudy","chill","heron","vodka","finer","surer","radio","rouge","perch","retch","wrote","clock","tilde","store","prove","bring","solve","cheat","grime","exult","usher","epoch","triad","break","rhino","viral","conic","masse","sonic","vital","trace","using","peach","champ","baton","brake","pluck","craze","gripe","weary","picky","acute","ferry","aside","tapir","troll","unify","rebus","boost","truss","siege","tiger","banal","slump","crank","gorge","query","drink","favor","abbey","tangy","panic","solar","shire","proxy","point","robot","prick","wince","crimp","knoll","sugar","whack","mount","perky","could","wrung","light","those","moist","shard","pleat","aloft","skill","elder","frame","humor","pause","ulcer","ultra","robin","cynic","agora","aroma","caulk","shake","pupal","dodge","swill","tacit","other","thorn","trove","bloke","vivid","spill","chant","choke","rupee","nasty","mourn","ahead","brine","cloth","hoard","sweet","month","lapse","watch","today","focus","smelt","tease","cater","movie","lynch","saute","allow","renew","their","slosh","purge","chest","depot","epoxy","nymph","found","shall","harry","stove","lowly","snout","trope","fewer","shawl","natal","fibre","comma","foray","scare","stair","black","squad","royal","chunk","mince","slave","shame","cheek","ample","flair","foyer","cargo","oxide","plant","olive","inert","askew","heist","shown","zesty","hasty","trash","fella","larva","forgo","story","hairy","train","homer","badge","midst","canny","fetus","butch","farce","slung","tipsy","metal","yield","delve","being","scour","glass","gamer","scrap","money","hinge","album","vouch","asset","tiara","crept","bayou","atoll","manor","creak","showy","phase","froth","depth","gloom","flood","trait","girth","piety","payer","goose","float","donor","atone","primo","apron","blown","cacao","loser","input","gloat","awful","brink","smite","beady","rusty","retro","droll","gawky","hutch","pinto","gaily","egret","lilac","sever","field","fluff","hydro","flack","agape","wench","voice","stead","stalk","berth","madam","night","bland","liver","wedge","augur","roomy","wacky","flock","angry","bobby","trite","aphid","tryst","midge","power","elope","cinch","motto","stomp","upset","bluff","cramp","quart","coyly","youth","rhyme","buggy","alien","smear","unfit","patty","cling","glean","label","hunky","khaki","poker","gruel","twice","twang","shrug","treat","unlit","waste","merit","woven","octal","needy","clown","widow","irony","ruder","gauze","chief","onset","prize","fungi","charm","gully","inter","whoop","taunt","leery","class","theme","lofty","tibia","booze","alpha","thyme","eclat","doubt","parer","chute","stick","trice","alike","sooth","recap","saint","liege","glory","grate","admit","brisk","soggy","usurp","scald","scorn","leave","twine","sting","bough","marsh","sloth","dandy","vigor","howdy","enjoy","valid","ionic","equal","unset","floor","catch","spade","stein","exist","quirk","denim","grove","spiel","mummy","fault","foggy","flout","carry","sneak","libel","waltz","aptly","piney","inept","aloud","photo","dream","stale","vomit","ombre","fanny","unite","snarl","baker","there","glyph","pooch","hippy","spell","folly","louse","gulch","vault","godly","threw","fleet","grave","inane","shock","crave","spite","valve","skimp","claim","rainy","musty","pique","daddy","quasi","arise","aging","valet","opium","avert","stuck","recut","mulch","genre","plume","rifle","count","incur","total","wrest","mocha","deter","study","lover","safer","rivet","funny","smoke","mound","undue","sedan","pagan","swine","guile","gusty","equip","tough","canoe","chaos","covet","human","udder","lunch","blast","stray","manga","melee","lefty","quick","paste","given","octet","risen","groan","leaky","grind","carve","loose","sadly","spilt","apple","slack","honey","final","sheen","eerie","minty","slick","derby","wharf","spelt","coach","erupt","singe","price","spawn","fairy","jiffy","filmy","stack","chose","sleep","ardor","nanny","niece","woozy","handy","grace","ditto","stank","cream","usual","diode","valor","angle","ninja","muddy","chase","reply","prone","spoil","heart","shade","diner","arson","onion","sleet","dowel","couch","palsy","bowel","smile","evoke","creek","lance","eagle","idiot","siren","built","embed","award","dross","annul","goody","frown","patio","laden","humid","elite","lymph","edify","might","reset","visit","gusto","purse","vapor","crock","write","sunny","loath","chaff","slide","queer","venom","stamp","sorry","still","acorn","aping","pushy","tamer","hater","mania","awoke","brawn","swift","exile","birch","lucky","freer","risky","ghost","plier","lunar","winch","snare","nurse","house","borax","nicer","lurch","exalt","about","savvy","toxin","tunic","pried","inlay","chump","lanky","cress","eater","elude","cycle","kitty","boule","moron","tenet","place","lobby","plush","vigil","index","blink","clung","qualm","croup","clink","juicy","stage","decay","nerve","flier","shaft","crook","clean","china","ridge","vowel","gnome","snuck","icing","spiny","rigor","snail","flown","rabid","prose","thank","poppy","budge","fiber","moldy","dowdy","kneel","track","caddy","quell","dumpy","paler","swore","rebar","scuba","splat","flyer","horny","mason","doing","ozone","amply","molar","ovary","beset","queue","cliff","magic","truce","sport","fritz","edict","twirl","verse","llama","eaten","range","whisk","hovel","rehab","macaw","sigma","spout","verve","sushi","dying","fetid","brain","buddy","thump","scion","candy","chord","basin","march","crowd","arbor","gayly","musky","stain","dally","bless","bravo","stung","title","ruler","kiosk","blond","ennui","layer","fluid","tatty","score","cutie","zebra","barge","matey","bluer","aider","shook","river","privy","betel","frisk","bongo","begun","azure","weave","genie","sound","glove","braid","scope","wryly","rover","assay","ocean","bloom","irate","later","woken","silky","wreck","dwelt","slate","smack","solid","amaze","hazel","wrist","jolly","globe","flint","rouse","civil","vista","relax","cover","alive","beech","jetty","bliss","vocal","often","dolly","eight","joker","since","event","ensue","shunt","diver","poser","worst","sweep","alley","creed","anime","leafy","bosom","dunce","stare","pudgy","waive","choir","stood","spoke","outgo","delay","bilge","ideal","clasp","seize","hotly","laugh","sieve","block","meant","grape","noose","hardy","shied","drawl","daisy","putty","strut","burnt","tulip","crick","idyll","vixen","furor","geeky","cough","naive","shoal","stork","bathe","aunty","check","prime","brass","outer","furry","razor","elect","evict","imply","demur","quota","haven","cavil","swear","crump","dough","gavel","wagon","salon","nudge","harem","pitch","sworn","pupil","excel","stony","cabin","unzip","queen","trout","polyp","earth","storm","until","taper","enter","child","adopt","minor","fatty","husky","brave","filet","slime","glint","tread","steal","regal","guest","every","murky","share","spore","hoist","buxom","inner","otter","dimly","level","sumac","donut","stilt","arena","sheet","scrub","fancy","slimy","pearl","silly","porch","dingo","sepia","amble","shady","bread","friar","reign","dairy","quill","cross","brood","tuber","shear","posit","blank","villa","shank","piggy","freak","which","among","fecal","shell","would","algae","large","rabbi","agony","amuse","bushy","copse","swoon","knife","pouch","ascot","plane","crown","urban","snide","relay","abide","viola","rajah","straw","dilly","crash","amass","third","trick","tutor","woody","blurb","grief","disco","where","sassy","beach","sauna","comic","clued","creep","caste","graze","snuff","frock","gonad","drunk","prong","lurid","steel","halve","buyer","vinyl","utile","smell","adage","worry","tasty","local","trade","finch","ashen","modal","gaunt","clove","enact","adorn","roast","speck","sheik","missy","grunt","snoop","party","touch","mafia","emcee","array","south","vapid","jelly","skulk","angst","tubal","lower","crest","sweat","cyber","adore","tardy","swami","notch","groom","roach","hitch","young","align","ready","frond","strap","puree","realm","venue","swarm","offer","seven","dryer","diary","dryly","drank","acrid","heady","theta","junto","pixie","quoth","bonus","shalt","penne","amend","datum","build","piano","shelf","lodge","suing","rearm","coral","ramen","worth","psalm","infer","overt","mayor","ovoid","glide","usage","poise","randy","chuck","prank","fishy","tooth","ether","drove","idler","swath","stint","while","begat","apply","slang","tarot","radar","credo","aware","canon","shift","timer","bylaw","serum","three","steak","iliac","shirk","blunt","puppy","penal","joist","bunny","shape","beget","wheel","adept","stunt","stole","topaz","chore","fluke","afoot","bloat","bully","dense","caper","sneer","boxer","jumbo","lunge","space","avail","short","slurp","loyal","flirt","pizza","conch","tempo","droop","plate","bible","plunk","afoul","savoy","steep","agile","stake","dwell","knave","beard","arose","motif","smash","broil","glare","shove","baggy","mammy","swamp","along","rugby","wager","quack","squat","snaky","debit","mange","skate","ninth","joust","tramp","spurn","medal","micro","rebel","flank","learn","nadir","maple","comfy","remit","gruff","ester","least","mogul","fetch","cause","oaken","aglow","meaty","gaffe","shyly","racer","prowl","thief","stern","poesy","rocky","tweet","waist","spire","grope","havoc","patsy","truly","forty","deity","uncle","swish","giver","preen","bevel","lemur","draft","slope","annoy","lingo","bleak","ditty","curly","cedar","dirge","grown","horde","drool","shuck","crypt","cumin","stock","gravy","locus","wider","breed","quite","chafe","cache","blimp","deign","fiend","logic","cheap","elide","rigid","false","renal","pence","rowdy","shoot","blaze","envoy","posse","brief","never","abort","mouse","mucky","sulky","fiery","media","trunk","yeast","clear","skunk","scalp","bitty","cider","koala","duvet","segue","creme","super","grill","after","owner","ember","reach","nobly","empty","speed","gipsy","recur","smock","dread","merge","burst","kappa","amity","shaky","hover","carol","snort","synod","faint","haunt","flour","chair","detox","shrew","tense","plied","quark","burly","novel","waxen","stoic","jerky","blitz","beefy","lyric","hussy","towel","quilt","below","bingo","wispy","brash","scone","toast","easel","saucy","value","spice","honor","route","sharp","bawdy","radii","skull","phony","issue","lager","swell","urine","gassy","trial","flora","upper","latch","wight","brick","retry","holly","decal","grass","shack","dogma","mover","defer","sober","optic","crier","vying","nomad","flute","hippo","shark","drier","obese","bugle","tawny","chalk","feast","ruddy","pedal","scarf","cruel","bleat","tidal","slush","semen","windy","dusty","sally","igloo","nerdy","jewel","shone","whale","hymen","abuse","fugue","elbow","crumb","pansy","welsh","syrup","terse","suave","gamut","swung","drake","freed","afire","shirt","grout","oddly","tithe","plaid","dummy","broom","blind","torch","enemy","again","tying","pesky","alter","gazer","noble","ethos","bride","extol","decor","hobby","beast","idiom","utter","these","sixth","alarm","erase","elegy","spunk","piper","scaly","scold","hefty","chick","sooty","canal","whiny","slash","quake","joint","swept","prude","heavy","wield","femme","lasso","maize","shale","screw","spree","smoky","whiff","scent","glade","spent","prism","stoke","riper","orbit","cocoa","guilt","humus","shush","table","smirk","wrong","noisy","alert","shiny","elate","resin","whole","hunch","pixel","polar","hotel","sword","cleat","mango","rumba","puffy","filly","billy","leash","clout","dance","ovate","facet","chili","paint","liner","curio","salty","audio","snake","fable","cloak","navel","spurt","pesto","balmy","flash","unwed","early","churn","weedy","stump","lease","witty","wimpy","spoof","saner","blend","salsa","thick","warty","manic","blare","squib","spoon","probe","crepe","knack","force","debut","order","haste","teeth","agent","widen","icily","slice","ingot","clash","juror","blood","abode","throw","unity","pivot","slept","troop","spare","sewer","parse","morph","cacti","tacky","spool","demon","moody","annex","begin","fuzzy","patch","water","lumpy","admin","omega","limit","tabby","macho","aisle","skiff","basis","plank","verge","botch","crawl","lousy","slain","cubic","raise","wrack","guide","foist","cameo","under","actor","revue","fraud","harpy","scoop","climb","refer","olden","clerk","debar","tally","ethic","cairn","tulle","ghoul","hilly","crude","apart","scale","older","plain","sperm","briny","abbot","rerun","quest","crisp","bound","befit","drawn","suite","itchy","cheer","bagel","guess","broad","axiom","chard","caput","leant","harsh","curse","proud","swing","opine","taste","lupus","gumbo","miner","green","chasm","lipid","topic","armor","brush","crane","mural","abled","habit","bossy","maker","dusky","dizzy","lithe","brook","jazzy","fifty","sense","giant","surly","legal","fatal","flunk","began","prune","small","slant","scoff","torus","ninny","covey","viper","taken","moral","vogue","owing","token","entry","booth","voter","chide","elfin","ebony","neigh","minim","melon","kneed","decoy","voila","ankle","arrow","mushy","tribe","cease","eager","birth","graph","odder","terra","weird","tried","clack","color","rough","weigh","uncut","ladle","strip","craft","minus","dicey","titan","lucid","vicar","dress","ditch","gypsy","pasta","taffy","flame","swoop","aloof","sight","broke","teary","chart","sixty","wordy","sheer","leper","nosey","bulge","savor","clamp","funky","foamy","toxic","brand","plumb","dingy","butte","drill","tripe","bicep","tenor","krill","worse","drama","hyena","think","ratio","cobra","basil","scrum","bused","phone","court","camel","proof","heard","angel","petal","pouty","throb","maybe","fetal","sprig","spine","shout","cadet","macro","dodgy","satyr","rarer","binge","trend","nutty","leapt","amiss","split","myrrh","width","sonar","tower","baron","fever","waver","spark","belie","sloop","expel","smote","baler","above","north","wafer","scant","frill","awash","snack","scowl","frail","drift","limbo","fence","motel","ounce","wreak","revel","talon","prior","knelt","cello","flake","debug","anode","crime","salve","scout","imbue","pinky","stave","vague","chock","fight","video","stone","teach","cleft","frost","prawn","booty","twist","apnea","stiff","plaza","ledge","tweak","board","grant","medic","bacon","cable","brawl","slunk","raspy","forum","drone","women","mucus","boast","toddy","coven","tumor","truer","wrath","stall","steam","axial","purer","daily","trail","niche","mealy","juice","nylon","plump","merry","flail","papal","wheat","berry","cower","erect","brute","leggy","snipe","sinew","skier","penny","jumpy","rally","umbra","scary","modem","gross","avian","greed","satin","tonic","parka","sniff","livid","stark","trump","giddy","reuse","taboo","avoid","quote","devil","liken","gloss","gayer","beret","noise","gland","dealt","sling","rumor","opera","thigh","tonga","flare","wound","white","bulky","etude","horse","circa","paddy","inbox","fizzy","grain","exert","surge","gleam","belle","salvo","crush","fruit","sappy","taker","tract","ovine","spiky","frank","reedy","filth","spasm","heave","mambo","right","clank","trust","lumen","borne","spook","sauce","amber","lathe","carat","corer","dirty","slyly","affix","alloy","taint","sheep","kinky","wooly","mauve","flung","yacht","fried","quail","brunt","grimy","curvy","cagey","rinse","deuce","state","grasp","milky","bison","graft","sandy","baste","flask","hedge","girly","swash","boney","coupe","endow","abhor","welch","blade","tight","geese","miser","mirth","cloud","cabal","leech","close","tenth","pecan","droit","grail","clone","guise","ralph","tango","biddy","smith","mower","payee","serif","drape","fifth","spank","glaze","allot","truck","kayak","virus","testy","tepee","fully","zonal","metro","curry","grand","banjo","axion","bezel","occur","chain","nasal","gooey","filer","brace","allay","pubic","raven","plead","gnash","flaky","munch","dully","eking","thing","slink","hurry","theft","shorn","pygmy","ranch","wring","lemon","shore","mamma","froze","newer","style","moose","antic","drown","vegan","chess","guppy","union","lever","lorry","image","cabby","druid","exact","truth","dopey","spear","cried","chime","crony","stunk","timid","batch","gauge","rotor","crack","curve","latte","witch","bunch","repel","anvil","soapy","meter","broth","madly","dried","scene","known","magma","roost","woman","thong","punch","pasty","downy","knead","whirl","rapid","clang","anger","drive","goofy","email","music","stuff","bleep","rider","mecca","folio","setup","verso","quash","fauna","gummy","happy","newly","fussy","relic","guava","ratty","fudge","femur","chirp","forte","alibi","whine","petty","golly","plait","fleck","felon","gourd","brown","thrum","ficus","stash","decry","wiser","junta","visor","daunt","scree","impel","await","press","whose","turbo","stoop","speak","mangy","eying","inlet","crone","pulse","mossy","staid","hence","pinch","teddy","sully","snore","ripen","snowy","attic","going","leach","mouth","hound","clump","tonal","bigot","peril","piece","blame","haute","spied","undid","intro","basal","shine","gecko","rodeo","guard","steer","loamy","scamp","scram","manly","hello","vaunt","organ","feral","knock","extra","condo","adapt","willy","polka","rayon","skirt","faith","torso","match","mercy","tepid","sleek","riser","twixt","peace","flush","catty","login","eject","roger","rival","untie","refit","aorta","adult","judge","rower","artsy","rural","shave"],valid:["aahed","aalii","aargh","aarti","abaca","abaci","abacs","abaft","abaka","abamp","aband","abash","abask","abaya","abbas","abbed","abbes","abcee","abeam","abear","abele","abers","abets","abies","abler","ables","ablet","ablow","abmho","abohm","aboil","aboma","aboon","abord","abore","abram","abray","abrim","abrin","abris","absey","absit","abuna","abune","abuts","abuzz","abyes","abysm","acais","acari","accas","accoy","acerb","acers","aceta","achar","ached","aches","achoo","acids","acidy","acing","acini","ackee","acker","acmes","acmic","acned","acnes","acock","acold","acred","acres","acros","acted","actin","acton","acyls","adaws","adays","adbot","addax","added","adder","addio","addle","adeem","adhan","adieu","adios","adits","adman","admen","admix","adobo","adown","adoze","adrad","adred","adsum","aduki","adunc","adust","advew","adyta","adzed","adzes","aecia","aedes","aegis","aeons","aerie","aeros","aesir","afald","afara","afars","afear","aflaj","afore","afrit","afros","agama","agami","agars","agast","agave","agaze","agene","agers","agger","aggie","aggri","aggro","aggry","aghas","agila","agios","agism","agist","agita","aglee","aglet","agley","agloo","aglus","agmas","agoge","agone","agons","agood","agria","agrin","agros","agued","agues","aguna","aguti","aheap","ahent","ahigh","ahind","ahing","ahint","ahold","ahull","ahuru","aidas","aided","aides","aidoi","aidos","aiery","aigas","aight","ailed","aimed","aimer","ainee","ainga","aioli","aired","airer","airns","airth","airts","aitch","aitus","aiver","aiyee","aizle","ajies","ajiva","ajuga","ajwan","akees","akela","akene","aking","akita","akkas","alaap","alack","alamo","aland","alane","alang","alans","alant","alapa","alaps","alary","alate","alays","albas","albee","alcid","alcos","aldea","alder","aldol","aleck","alecs","alefs","aleft","aleph","alews","aleye","alfas","algal","algas","algid","algin","algor","algum","alias","alifs","aline","alist","aliya","alkie","alkos","alkyd","alkyl","allee","allel","allis","allod","allyl","almah","almas","almeh","almes","almud","almug","alods","aloed","aloes","aloha","aloin","aloos","alowe","altho","altos","alula","alums","alure","alvar","alway","amahs","amain","amate","amaut","amban","ambit","ambos","ambry","ameba","ameer","amene","amens","ament","amias","amice","amici","amide","amido","amids","amies","amiga","amigo","amine","amino","amins","amirs","amlas","amman","ammon","ammos","amnia","amnic","amnio","amoks","amole","amort","amour","amove","amowt","amped","ampul","amrit","amuck","amyls","anana","anata","ancho","ancle","ancon","andro","anear","anele","anent","angas","anglo","anigh","anile","anils","anima","animi","anion","anise","anker","ankhs","ankus","anlas","annal","annas","annat","anoas","anole","anomy","ansae","antae","antar","antas","anted","antes","antis","antra","antre","antsy","anura","anyon","apace","apage","apaid","apayd","apays","apeak","apeek","apers","apert","apery","apgar","aphis","apian","apiol","apish","apism","apode","apods","apoop","aport","appal","appay","appel","appro","appui","appuy","apres","apses","apsis","apsos","apted","apter","aquae","aquas","araba","araks","arame","arars","arbas","arced","archi","arcos","arcus","ardeb","ardri","aread","areae","areal","arear","areas","areca","aredd","arede","arefy","areic","arene","arepa","arere","arete","arets","arett","argal","argan","argil","argle","argol","argon","argot","argus","arhat","arias","ariel","ariki","arils","ariot","arish","arked","arled","arles","armed","armer","armet","armil","arnas","arnut","aroba","aroha","aroid","arpas","arpen","arrah","arras","arret","arris","arroz","arsed","arses","arsey","arsis","artal","artel","artic","artis","aruhe","arums","arval","arvee","arvos","aryls","asana","ascon","ascus","asdic","ashed","ashes","ashet","asked","asker","askoi","askos","aspen","asper","aspic","aspie","aspis","aspro","assai","assam","asses","assez","assot","aster","astir","astun","asura","asway","aswim","asyla","ataps","ataxy","atigi","atilt","atimy","atlas","atman","atmas","atmos","atocs","atoke","atoks","atoms","atomy","atony","atopy","atria","atrip","attap","attar","atuas","audad","auger","aught","aulas","aulic","auloi","aulos","aumil","aunes","aunts","aurae","aural","aurar","auras","aurei","aures","auric","auris","aurum","autos","auxin","avale","avant","avast","avels","avens","avers","avgas","avine","avion","avise","aviso","avize","avows","avyze","awarn","awato","awave","aways","awdls","aweel","aweto","awing","awmry","awned","awner","awols","awork","axels","axile","axils","axing","axite","axled","axles","axman","axmen","axoid","axone","axons","ayahs","ayaya","ayelp","aygre","ayins","ayont","ayres","ayrie","azans","azide","azido","azine","azlon","azoic","azole","azons","azote","azoth","azuki","azurn","azury","azygy","azyme","azyms","baaed","baals","babas","babel","babes","babka","baboo","babul","babus","bacca","bacco","baccy","bacha","bachs","backs","baddy","baels","baffs","baffy","bafts","baghs","bagie","bahts","bahus","bahut","bails","bairn","baisa","baith","baits","baiza","baize","bajan","bajra","bajri","bajus","baked","baken","bakes","bakra","balas","balds","baldy","baled","bales","balks","balky","balls","bally","balms","baloo","balsa","balti","balun","balus","bambi","banak","banco","bancs","banda","bandh","bands","bandy","baned","banes","bangs","bania","banks","banns","bants","bantu","banty","banya","bapus","barbe","barbs","barby","barca","barde","bardo","bards","bardy","bared","barer","bares","barfi","barfs","baric","barks","barky","barms","barmy","barns","barny","barps","barra","barre","barro","barry","barye","basan","based","basen","baser","bases","basho","basij","basks","bason","basse","bassi","basso","bassy","basta","basti","basto","basts","bated","bates","baths","batik","batta","batts","battu","bauds","bauks","baulk","baurs","bavin","bawds","bawks","bawls","bawns","bawrs","bawty","bayed","bayer","bayes","bayle","bayts","bazar","bazoo","beads","beaks","beaky","beals","beams","beamy","beano","beans","beany","beare","bears","beath","beats","beaty","beaus","beaut","beaux","bebop","becap","becke","becks","bedad","bedel","bedes","bedew","bedim","bedye","beedi","beefs","beeps","beers","beery","beets","befog","begad","begar","begem","begot","begum","beige","beigy","beins","bekah","belah","belar","belay","belee","belga","bells","belon","belts","bemad","bemas","bemix","bemud","bends","bendy","benes","benet","benga","benis","benne","benni","benny","bento","bents","benty","bepat","beray","beres","bergs","berko","berks","berme","berms","berob","beryl","besat","besaw","besee","beses","besit","besom","besot","besti","bests","betas","beted","betes","beths","betid","beton","betta","betty","bever","bevor","bevue","bevvy","bewet","bewig","bezes","bezil","bezzy","bhais","bhaji","bhang","bhats","bhels","bhoot","bhuna","bhuts","biach","biali","bialy","bibbs","bibes","biccy","bices","bided","bider","bides","bidet","bidis","bidon","bield","biers","biffo","biffs","biffy","bifid","bigae","biggs","biggy","bigha","bight","bigly","bigos","bijou","biked","biker","bikes","bikie","bilbo","bilby","biled","biles","bilgy","bilks","bills","bimah","bimas","bimbo","binal","bindi","binds","biner","bines","bings","bingy","binit","binks","bints","biogs","biont","biota","biped","bipod","birds","birks","birle","birls","biros","birrs","birse","birsy","bises","bisks","bisom","bitch","biter","bites","bitos","bitou","bitsy","bitte","bitts","bivia","bivvy","bizes","bizzo","bizzy","blabs","blads","blady","blaer","blaes","blaff","blags","blahs","blain","blams","blart","blase","blash","blate","blats","blatt","blaud","blawn","blaws","blays","blear","blebs","blech","blees","blent","blert","blest","blets","bleys","blimy","bling","blini","blins","bliny","blips","blist","blite","blits","blive","blobs","blocs","blogs","blook","bloop","blore","blots","blows","blowy","blubs","blude","bluds","bludy","blued","blues","bluet","bluey","bluid","blume","blunk","blurs","blype","boabs","boaks","boars","boart","boats","bobac","bobak","bobas","bobol","bobos","bocca","bocce","bocci","boche","bocks","boded","bodes","bodge","bodhi","bodle","boeps","boets","boeuf","boffo","boffs","bogan","bogey","boggy","bogie","bogle","bogue","bogus","bohea","bohos","boils","boing","boink","boite","boked","bokeh","bokes","bokos","bolar","bolas","bolds","boles","bolix","bolls","bolos","bolts","bolus","bomas","bombe","bombo","bombs","bonce","bonds","boned","boner","bones","bongs","bonie","bonks","bonne","bonny","bonza","bonze","booai","booay","boobs","boody","booed","boofy","boogy","boohs","books","booky","bools","booms","boomy","boong","boons","boord","boors","boose","boots","boppy","borak","boral","boras","borde","bords","bored","boree","borel","borer","bores","borgo","boric","borks","borms","borna","boron","borts","borty","bortz","bosie","bosks","bosky","boson","bosun","botas","botel","botes","bothy","botte","botts","botty","bouge","bouks","boult","bouns","bourd","bourg","bourn","bouse","bousy","bouts","bovid","bowat","bowed","bower","bowes","bowet","bowie","bowls","bowne","bowrs","bowse","boxed","boxen","boxes","boxla","boxty","boyar","boyau","boyed","boyfs","boygs","boyla","boyos","boysy","bozos","braai","brach","brack","bract","brads","braes","brags","brail","braks","braky","brame","brane","brank","brans","brant","brast","brats","brava","bravi","braws","braxy","brays","braza","braze","bream","brede","breds","breem","breer","brees","breid","breis","breme","brens","brent","brere","brers","breve","brews","breys","brier","bries","brigs","briki","briks","brill","brims","brins","brios","brise","briss","brith","brits","britt","brize","broch","brock","brods","brogh","brogs","brome","bromo","bronc","brond","brool","broos","brose","brosy","brows","brugh","bruin","bruit","brule","brume","brung","brusk","brust","bruts","buats","buaze","bubal","bubas","bubba","bubbe","bubby","bubus","buchu","bucko","bucks","bucku","budas","budis","budos","buffa","buffe","buffi","buffo","buffs","buffy","bufos","bufty","buhls","buhrs","buiks","buist","bukes","bulbs","bulgy","bulks","bulla","bulls","bulse","bumbo","bumfs","bumph","bumps","bumpy","bunas","bunce","bunco","bunde","bundh","bunds","bundt","bundu","bundy","bungs","bungy","bunia","bunje","bunjy","bunko","bunks","bunns","bunts","bunty","bunya","buoys","buppy","buran","buras","burbs","burds","buret","burfi","burgh","burgs","burin","burka","burke","burks","burls","burns","buroo","burps","burqa","burro","burrs","burry","bursa","burse","busby","buses","busks","busky","bussu","busti","busts","busty","buteo","butes","butle","butoh","butts","butty","butut","butyl","buzzy","bwana","bwazi","byded","bydes","byked","bykes","byres","byrls","byssi","bytes","byway","caaed","cabas","caber","cabob","caboc","cabre","cacas","cacks","cacky","cadee","cades","cadge","cadgy","cadie","cadis","cadre","caeca","caese","cafes","caffs","caged","cager","cages","cagot","cahow","caids","cains","caird","cajon","cajun","caked","cakes","cakey","calfs","calid","calif","calix","calks","calla","calls","calms","calmy","calos","calpa","calps","calve","calyx","caman","camas","cames","camis","camos","campi","campo","camps","campy","camus","caned","caneh","caner","canes","cangs","canid","canna","canns","canso","canst","canto","cants","canty","capas","caped","capes","capex","caphs","capiz","caple","capon","capos","capot","capri","capul","carap","carbo","carbs","carby","cardi","cards","cardy","cared","carer","cares","caret","carex","carks","carle","carls","carns","carny","carob","carom","caron","carpi","carps","carrs","carse","carta","carte","carts","carvy","casas","casco","cased","cases","casks","casky","casts","casus","cates","cauda","cauks","cauld","cauls","caums","caups","cauri","causa","cavas","caved","cavel","caver","caves","cavie","cawed","cawks","caxon","ceaze","cebid","cecal","cecum","ceded","ceder","cedes","cedis","ceiba","ceili","ceils","celeb","cella","celli","cells","celom","celts","cense","cento","cents","centu","ceorl","cepes","cerci","cered","ceres","cerge","ceria","ceric","cerne","ceroc","ceros","certs","certy","cesse","cesta","cesti","cetes","cetyl","cezve","chace","chack","chaco","chado","chads","chaft","chais","chals","chams","chana","chang","chank","chape","chaps","chapt","chara","chare","chark","charr","chars","chary","chats","chave","chavs","chawk","chaws","chaya","chays","cheep","chefs","cheka","chela","chelp","chemo","chems","chere","chert","cheth","chevy","chews","chewy","chiao","chias","chibs","chica","chich","chico","chics","chiel","chiks","chile","chimb","chimo","chimp","chine","ching","chink","chino","chins","chips","chirk","chirl","chirm","chiro","chirr","chirt","chiru","chits","chive","chivs","chivy","chizz","choco","chocs","chode","chogs","choil","choko","choky","chola","choli","cholo","chomp","chons","choof","chook","choom","choon","chops","chota","chott","chout","choux","chowk","chows","chubs","chufa","chuff","chugs","chums","churl","churr","chuse","chuts","chyle","chyme","chynd","cibol","cided","cides","ciels","ciggy","cilia","cills","cimar","cimex","cinct","cines","cinqs","cions","cippi","circs","cires","cirls","cirri","cisco","cissy","cists","cital","cited","citer","cites","cives","civet","civie","civvy","clach","clade","clads","claes","clags","clame","clams","clans","claps","clapt","claro","clart","clary","clast","clats","claut","clave","clavi","claws","clays","cleck","cleek","cleep","clefs","clegs","cleik","clems","clepe","clept","cleve","clews","clied","clies","clift","clime","cline","clint","clipe","clips","clipt","clits","cloam","clods","cloff","clogs","cloke","clomb","clomp","clonk","clons","cloop","cloot","clops","clote","clots","clour","clous","clows","cloye","cloys","cloze","clubs","clues","cluey","clunk","clype","cnida","coact","coady","coala","coals","coaly","coapt","coarb","coate","coati","coats","cobbs","cobby","cobia","coble","cobza","cocas","cocci","cocco","cocks","cocky","cocos","codas","codec","coded","coden","coder","codes","codex","codon","coeds","coffs","cogie","cogon","cogue","cohab","cohen","cohoe","cohog","cohos","coifs","coign","coils","coins","coirs","coits","coked","cokes","colas","colby","colds","coled","coles","coley","colic","colin","colls","colly","colog","colts","colza","comae","comal","comas","combe","combi","combo","combs","comby","comer","comes","comix","commo","comms","commy","compo","comps","compt","comte","comus","coned","cones","coney","confs","conga","conge","congo","conia","conin","conks","conky","conne","conns","conte","conto","conus","convo","cooch","cooed","cooee","cooer","cooey","coofs","cooks","cooky","cools","cooly","coomb","cooms","coomy","coons","coops","coopt","coost","coots","cooze","copal","copay","coped","copen","coper","copes","coppy","copra","copsy","coqui","coram","corbe","corby","cords","cored","cores","corey","corgi","coria","corks","corky","corms","corni","corno","corns","cornu","corps","corse","corso","cosec","cosed","coses","coset","cosey","cosie","costa","coste","costs","cotan","coted","cotes","coths","cotta","cotts","coude","coups","courb","courd","coure","cours","couta","couth","coved","coves","covin","cowal","cowan","cowed","cowks","cowls","cowps","cowry","coxae","coxal","coxed","coxes","coxib","coyau","coyed","coyer","coypu","cozed","cozen","cozes","cozey","cozie","craal","crabs","crags","craic","craig","crake","crame","crams","crans","crape","craps","crapy","crare","craws","crays","creds","creel","crees","crems","crena","creps","crepy","crewe","crews","crias","cribs","cries","crims","crine","crios","cripe","crips","crise","crith","crits","croci","crocs","croft","crogs","cromb","crome","cronk","crons","crool","croon","crops","crore","crost","crout","crows","croze","cruck","crudo","cruds","crudy","crues","cruet","cruft","crunk","cruor","crura","cruse","crusy","cruve","crwth","cryer","ctene","cubby","cubeb","cubed","cuber","cubes","cubit","cuddy","cuffo","cuffs","cuifs","cuing","cuish","cuits","cukes","culch","culet","culex","culls","cully","culms","culpa","culti","cults","culty","cumec","cundy","cunei","cunit","cunts","cupel","cupid","cuppa","cuppy","curat","curbs","curch","curds","curdy","cured","curer","cures","curet","curfs","curia","curie","curli","curls","curns","curny","currs","cursi","curst","cusec","cushy","cusks","cusps","cuspy","cusso","cusum","cutch","cuter","cutes","cutey","cutin","cutis","cutto","cutty","cutup","cuvee","cuzes","cwtch","cyano","cyans","cycad","cycas","cyclo","cyder","cylix","cymae","cymar","cymas","cymes","cymol","cysts","cytes","cyton","czars","daals","dabba","daces","dacha","dacks","dadah","dadas","dados","daffs","daffy","dagga","daggy","dagos","dahls","daiko","daine","daint","daker","daled","dales","dalis","dalle","dalts","daman","damar","dames","damme","damns","damps","dampy","dancy","dangs","danio","danks","danny","dants","daraf","darbs","darcy","dared","darer","dares","darga","dargs","daric","daris","darks","darky","darns","darre","darts","darzi","dashi","dashy","datal","dated","dater","dates","datos","datto","daube","daubs","dauby","dauds","dault","daurs","dauts","daven","davit","dawah","dawds","dawed","dawen","dawks","dawns","dawts","dayan","daych","daynt","dazed","dazer","dazes","deads","deair","deals","deans","deare","dearn","dears","deary","deash","deave","deaws","deawy","debag","debby","debel","debes","debts","debud","debur","debus","debye","decad","decaf","decan","decko","decks","decos","dedal","deeds","deedy","deely","deems","deens","deeps","deere","deers","deets","deeve","deevs","defat","deffo","defis","defog","degas","degum","degus","deice","deids","deify","deils","deism","deist","deked","dekes","dekko","deled","deles","delfs","delft","delis","dells","delly","delos","delph","delts","deman","demes","demic","demit","demob","demoi","demos","dempt","denar","denay","dench","denes","denet","denis","dents","deoxy","derat","deray","dered","deres","derig","derma","derms","derns","derny","deros","derro","derry","derth","dervs","desex","deshi","desis","desks","desse","devas","devel","devis","devon","devos","devot","dewan","dewar","dewax","dewed","dexes","dexie","dhaba","dhaks","dhals","dhikr","dhobi","dhole","dholl","dhols","dhoti","dhows","dhuti","diact","dials","diane","diazo","dibbs","diced","dicer","dices","dicht","dicks","dicky","dicot","dicta","dicts","dicty","diddy","didie","didos","didst","diebs","diels","diene","diets","diffs","dight","dikas","diked","diker","dikes","dikey","dildo","dilli","dills","dimbo","dimer","dimes","dimps","dinar","dined","dines","dinge","dings","dinic","dinks","dinky","dinna","dinos","dints","diols","diota","dippy","dipso","diram","direr","dirke","dirks","dirls","dirts","disas","disci","discs","dishy","disks","disme","dital","ditas","dited","dites","ditsy","ditts","ditzy","divan","divas","dived","dives","divis","divna","divos","divot","divvy","diwan","dixie","dixit","diyas","dizen","djinn","djins","doabs","doats","dobby","dobes","dobie","dobla","dobra","dobro","docht","docks","docos","docus","doddy","dodos","doeks","doers","doest","doeth","doffs","dogan","doges","dogey","doggo","doggy","dogie","dohyo","doilt","doily","doits","dojos","dolce","dolci","doled","doles","dolia","dolls","dolma","dolor","dolos","dolts","domal","domed","domes","domic","donah","donas","donee","doner","donga","dongs","donko","donna","donne","donny","donsy","doobs","dooce","doody","dooks","doole","dools","dooly","dooms","doomy","doona","doorn","doors","doozy","dopas","doped","doper","dopes","dorad","dorba","dorbs","doree","dores","doric","doris","dorks","dorky","dorms","dormy","dorps","dorrs","dorsa","dorse","dorts","dorty","dosai","dosas","dosed","doseh","doser","doses","dosha","dotal","doted","doter","dotes","dotty","douar","douce","doucs","douks","doula","douma","doums","doups","doura","douse","douts","doved","doven","dover","doves","dovie","dowar","dowds","dowed","dower","dowie","dowle","dowls","dowly","downa","downs","dowps","dowse","dowts","doxed","doxes","doxie","doyen","doyly","dozed","dozer","dozes","drabs","drack","draco","draff","drags","drail","drams","drant","draps","drats","drave","draws","drays","drear","dreck","dreed","dreer","drees","dregs","dreks","drent","drere","drest","dreys","dribs","drice","dries","drily","drips","dript","droid","droil","droke","drole","drome","drony","droob","droog","drook","drops","dropt","drouk","drows","drubs","drugs","drums","drupe","druse","drusy","druxy","dryad","dryas","dsobo","dsomo","duads","duals","duans","duars","dubbo","ducal","ducat","duces","ducks","ducky","ducts","duddy","duded","dudes","duels","duets","duett","duffs","dufus","duing","duits","dukas","duked","dukes","dukka","dulce","dules","dulia","dulls","dulse","dumas","dumbo","dumbs","dumka","dumky","dumps","dunam","dunch","dunes","dungs","dungy","dunks","dunno","dunny","dunsh","dunts","duomi","duomo","duped","duper","dupes","duple","duply","duppy","dural","duras","dured","dures","durgy","durns","duroc","duros","duroy","durra","durrs","durry","durst","durum","durzi","dusks","dusts","duxes","dwaal","dwale","dwalm","dwams","dwang","dwaum","dweeb","dwile","dwine","dyads","dyers","dyked","dykes","dykey","dykon","dynel","dynes","dzhos","eagre","ealed","eales","eaned","eards","eared","earls","earns","earnt","earst","eased","easer","eases","easle","easts","eathe","eaved","eaves","ebbed","ebbet","ebons","ebook","ecads","eched","eches","echos","ecrus","edema","edged","edger","edges","edile","edits","educe","educt","eejit","eensy","eeven","eevns","effed","egads","egers","egest","eggar","egged","egger","egmas","ehing","eider","eidos","eigne","eiked","eikon","eilds","eisel","ejido","ekkas","elain","eland","elans","elchi","eldin","elemi","elfed","eliad","elint","elmen","eloge","elogy","eloin","elops","elpee","elsin","elute","elvan","elven","elver","elves","emacs","embar","embay","embog","embow","embox","embus","emeer","emend","emerg","emery","emeus","emics","emirs","emits","emmas","emmer","emmet","emmew","emmys","emoji","emong","emote","emove","empts","emule","emure","emyde","emyds","enarm","enate","ended","ender","endew","endue","enews","enfix","eniac","enlit","enmew","ennog","enoki","enols","enorm","enows","enrol","ensew","ensky","entia","enure","enurn","envoi","enzym","eorls","eosin","epact","epees","ephah","ephas","ephod","ephor","epics","epode","epopt","epris","eques","equid","erbia","erevs","ergon","ergos","ergot","erhus","erica","erick","erics","ering","erned","ernes","erose","erred","erses","eruct","erugo","eruvs","erven","ervil","escar","escot","esile","eskar","esker","esnes","esses","estoc","estop","estro","etage","etape","etats","etens","ethal","ethne","ethyl","etics","etnas","ettin","ettle","etuis","etwee","etyma","eughs","euked","eupad","euros","eusol","evens","evert","evets","evhoe","evils","evite","evohe","ewers","ewest","ewhow","ewked","exams","exeat","execs","exeem","exeme","exfil","exies","exine","exing","exits","exode","exome","exons","expat","expos","exude","exuls","exurb","eyass","eyers","eyots","eyras","eyres","eyrie","eyrir","ezine","fabby","faced","facer","faces","facia","facta","facts","faddy","faded","fader","fades","fadge","fados","faena","faery","faffs","faffy","faggy","fagin","fagot","faiks","fails","faine","fains","fairs","faked","faker","fakes","fakey","fakie","fakir","falaj","falls","famed","fames","fanal","fands","fanes","fanga","fango","fangs","fanks","fanon","fanos","fanum","faqir","farad","farci","farcy","fards","fared","farer","fares","farle","farls","farms","faros","farro","farse","farts","fasci","fasti","fasts","fated","fates","fatly","fatso","fatwa","faugh","fauld","fauns","faurd","fauts","fauve","favas","favel","faver","faves","favus","fawns","fawny","faxed","faxes","fayed","fayer","fayne","fayre","fazed","fazes","feals","feare","fears","feart","fease","feats","feaze","feces","fecht","fecit","fecks","fedex","feebs","feeds","feels","feens","feers","feese","feeze","fehme","feint","feist","felch","felid","fells","felly","felts","felty","femal","femes","femmy","fends","fendy","fenis","fenks","fenny","fents","feods","feoff","ferer","feres","feria","ferly","fermi","ferms","ferns","ferny","fesse","festa","fests","festy","fetas","feted","fetes","fetor","fetta","fetts","fetwa","feuar","feuds","feued","feyed","feyer","feyly","fezes","fezzy","fiars","fiats","fibro","fices","fiche","fichu","ficin","ficos","fides","fidge","fidos","fiefs","fient","fiere","fiers","fiest","fifed","fifer","fifes","fifis","figgy","figos","fiked","fikes","filar","filch","filed","files","filii","filks","fille","fillo","fills","filmi","films","filos","filum","finca","finds","fined","fines","finis","finks","finny","finos","fiord","fiqhs","fique","fired","firer","fires","firie","firks","firms","firns","firry","firth","fiscs","fisks","fists","fisty","fitch","fitly","fitna","fitte","fitts","fiver","fives","fixed","fixes","fixit","fjeld","flabs","flaff","flags","flaks","flamm","flams","flamy","flane","flans","flaps","flary","flats","flava","flawn","flaws","flawy","flaxy","flays","fleam","fleas","fleek","fleer","flees","flegs","fleme","fleur","flews","flexi","flexo","fleys","flics","flied","flies","flimp","flims","flips","flirs","flisk","flite","flits","flitt","flobs","flocs","floes","flogs","flong","flops","flors","flory","flosh","flota","flote","flows","flubs","flued","flues","fluey","fluky","flump","fluor","flurr","fluty","fluyt","flyby","flype","flyte","foals","foams","foehn","fogey","fogie","fogle","fogou","fohns","foids","foils","foins","folds","foley","folia","folic","folie","folks","folky","fomes","fonda","fonds","fondu","fones","fonly","fonts","foods","foody","fools","foots","footy","foram","forbs","forby","fordo","fords","forel","fores","forex","forks","forky","forme","forms","forts","forza","forze","fossa","fosse","fouat","fouds","fouer","fouet","foule","fouls","fount","fours","fouth","fovea","fowls","fowth","foxed","foxes","foxie","foyle","foyne","frabs","frack","fract","frags","fraim","franc","frape","fraps","frass","frate","frati","frats","fraus","frays","frees","freet","freit","fremd","frena","freon","frere","frets","fribs","frier","fries","frigs","frise","frist","frith","frits","fritt","frize","frizz","froes","frogs","frons","frore","frorn","frory","frosh","frows","frowy","frugs","frump","frush","frust","fryer","fubar","fubby","fubsy","fucks","fucus","fuddy","fudgy","fuels","fuero","fuffs","fuffy","fugal","fuggy","fugie","fugio","fugle","fugly","fugus","fujis","fulls","fumed","fumer","fumes","fumet","fundi","funds","fundy","fungo","fungs","funks","fural","furan","furca","furls","furol","furrs","furth","furze","furzy","fused","fusee","fusel","fuses","fusil","fusks","fusts","fusty","futon","fuzed","fuzee","fuzes","fuzil","fyces","fyked","fykes","fyles","fyrds","fytte","gabba","gabby","gable","gaddi","gades","gadge","gadid","gadis","gadje","gadjo","gadso","gaffs","gaged","gager","gages","gaids","gains","gairs","gaita","gaits","gaitt","gajos","galah","galas","galax","galea","galed","gales","galls","gally","galop","galut","galvo","gamas","gamay","gamba","gambe","gambo","gambs","gamed","games","gamey","gamic","gamin","gamme","gammy","gamps","ganch","gandy","ganef","ganev","gangs","ganja","ganof","gants","gaols","gaped","gaper","gapes","gapos","gappy","garbe","garbo","garbs","garda","gares","garis","garms","garni","garre","garth","garum","gases","gasps","gaspy","gasts","gatch","gated","gater","gates","gaths","gator","gauch","gaucy","gauds","gauje","gault","gaums","gaumy","gaups","gaurs","gauss","gauzy","gavot","gawcy","gawds","gawks","gawps","gawsy","gayal","gazal","gazar","gazed","gazes","gazon","gazoo","geals","geans","geare","gears","geats","gebur","gecks","geeks","geeps","geest","geist","geits","gelds","gelee","gelid","gelly","gelts","gemel","gemma","gemmy","gemot","genal","genas","genes","genet","genic","genii","genip","genny","genoa","genom","genro","gents","genty","genua","genus","geode","geoid","gerah","gerbe","geres","gerle","germs","germy","gerne","gesse","gesso","geste","gests","getas","getup","geums","geyan","geyer","ghast","ghats","ghaut","ghazi","ghees","ghest","ghyll","gibed","gibel","giber","gibes","gibli","gibus","gifts","gigas","gighe","gigot","gigue","gilas","gilds","gilet","gills","gilly","gilpy","gilts","gimel","gimme","gimps","gimpy","ginch","ginge","gings","ginks","ginny","ginzo","gipon","gippo","gippy","girds","girls","girns","giron","giros","girrs","girsh","girts","gismo","gisms","gists","gitch","gites","giust","gived","gives","gizmo","glace","glads","glady","glaik","glair","glams","glans","glary","glaum","glaur","glazy","gleba","glebe","gleby","glede","gleds","gleed","gleek","glees","gleet","gleis","glens","glent","gleys","glial","glias","glibs","gliff","glift","glike","glime","glims","glisk","glits","glitz","gloam","globi","globs","globy","glode","glogg","gloms","gloop","glops","glost","glout","glows","gloze","glued","gluer","glues","gluey","glugs","glume","glums","gluon","glute","gluts","gnarl","gnarr","gnars","gnats","gnawn","gnaws","gnows","goads","goafs","goals","goary","goats","goaty","goban","gobar","gobbi","gobbo","gobby","gobis","gobos","godet","godso","goels","goers","goest","goeth","goety","gofer","goffs","gogga","gogos","goier","gojis","golds","goldy","goles","golfs","golpe","golps","gombo","gomer","gompa","gonch","gonef","gongs","gonia","gonif","gonks","gonna","gonof","gonys","gonzo","gooby","goods","goofs","googs","gooks","gooky","goold","gools","gooly","goons","goony","goops","goopy","goors","goory","goosy","gopak","gopik","goral","goras","gored","gores","goris","gorms","gormy","gorps","gorse","gorsy","gosht","gosse","gotch","goths","gothy","gotta","gouch","gouks","goura","gouts","gouty","gowan","gowds","gowfs","gowks","gowls","gowns","goxes","goyim","goyle","graal","grabs","grads","graff","graip","grama","grame","gramp","grams","grana","grans","grapy","gravs","grays","grebe","grebo","grece","greek","grees","grege","grego","grein","grens","grese","greve","grews","greys","grice","gride","grids","griff","grift","grigs","grike","grins","griot","grips","gript","gripy","grise","grist","grisy","grith","grits","grize","groat","grody","grogs","groks","groma","grone","groof","grosz","grots","grouf","grovy","grows","grrls","grrrl","grubs","grued","grues","grufe","grume","grump","grund","gryce","gryde","gryke","grype","grypt","guaco","guana","guano","guans","guars","gucks","gucky","gudes","guffs","gugas","guids","guimp","guiro","gulag","gular","gulas","gules","gulet","gulfs","gulfy","gulls","gulph","gulps","gulpy","gumma","gummi","gumps","gundy","gunge","gungy","gunks","gunky","gunny","guqin","gurdy","gurge","gurls","gurly","gurns","gurry","gursh","gurus","gushy","gusla","gusle","gusli","gussy","gusts","gutsy","gutta","gutty","guyed","guyle","guyot","guyse","gwine","gyals","gyans","gybed","gybes","gyeld","gymps","gynae","gynie","gynny","gynos","gyoza","gypos","gyppo","gyppy","gyral","gyred","gyres","gyron","gyros","gyrus","gytes","gyved","gyves","haafs","haars","hable","habus","hacek","hacks","hadal","haded","hades","hadji","hadst","haems","haets","haffs","hafiz","hafts","haggs","hahas","haick","haika","haiks","haiku","hails","haily","hains","haint","hairs","haith","hajes","hajis","hajji","hakam","hakas","hakea","hakes","hakim","hakus","halal","haled","haler","hales","halfa","halfs","halid","hallo","halls","halma","halms","halon","halos","halse","halts","halva","halwa","hamal","hamba","hamed","hames","hammy","hamza","hanap","hance","hanch","hands","hangi","hangs","hanks","hanky","hansa","hanse","hants","haole","haoma","hapax","haply","happi","hapus","haram","hards","hared","hares","harim","harks","harls","harms","harns","haros","harps","harts","hashy","hasks","hasps","hasta","hated","hates","hatha","hauds","haufs","haugh","hauld","haulm","hauls","hault","hauns","hause","haver","haves","hawed","hawks","hawms","hawse","hayed","hayer","hayey","hayle","hazan","hazed","hazer","hazes","heads","heald","heals","heame","heaps","heapy","heare","hears","heast","heats","heben","hebes","hecht","hecks","heder","hedgy","heeds","heedy","heels","heeze","hefte","hefts","heids","heigh","heils","heirs","hejab","hejra","heled","heles","helio","hells","helms","helos","helot","helps","helve","hemal","hemes","hemic","hemin","hemps","hempy","hench","hends","henge","henna","henny","henry","hents","hepar","herbs","herby","herds","heres","herls","herma","herms","herns","heros","herry","herse","hertz","herye","hesps","hests","hetes","heths","heuch","heugh","hevea","hewed","hewer","hewgh","hexad","hexed","hexer","hexes","hexyl","heyed","hiant","hicks","hided","hider","hides","hiems","highs","hight","hijab","hijra","hiked","hiker","hikes","hikoi","hilar","hilch","hillo","hills","hilts","hilum","hilus","himbo","hinau","hinds","hings","hinky","hinny","hints","hiois","hiply","hired","hiree","hirer","hires","hissy","hists","hithe","hived","hiver","hives","hizen","hoaed","hoagy","hoars","hoary","hoast","hobos","hocks","hocus","hodad","hodja","hoers","hogan","hogen","hoggs","hoghs","hohed","hoick","hoied","hoiks","hoing","hoise","hokas","hoked","hokes","hokey","hokis","hokku","hokum","holds","holed","holes","holey","holks","holla","hollo","holme","holms","holon","holos","holts","homas","homed","homes","homey","homie","homme","homos","honan","honda","honds","honed","honer","hones","hongi","hongs","honks","honky","hooch","hoods","hoody","hooey","hoofs","hooka","hooks","hooky","hooly","hoons","hoops","hoord","hoors","hoosh","hoots","hooty","hoove","hopak","hoped","hoper","hopes","hoppy","horah","horal","horas","horis","horks","horme","horns","horst","horsy","hosed","hosel","hosen","hoser","hoses","hosey","hosta","hosts","hotch","hoten","hotty","houff","houfs","hough","houri","hours","houts","hovea","hoved","hoven","hoves","howbe","howes","howff","howfs","howks","howls","howre","howso","hoxed","hoxes","hoyas","hoyed","hoyle","hubby","hucks","hudna","hudud","huers","huffs","huffy","huger","huggy","huhus","huias","hulas","hules","hulks","hulky","hullo","hulls","hully","humas","humfs","humic","humps","humpy","hunks","hunts","hurds","hurls","hurly","hurra","hurst","hurts","hushy","husks","husos","hutia","huzza","huzzy","hwyls","hydra","hyens","hygge","hying","hykes","hylas","hyleg","hyles","hylic","hymns","hynde","hyoid","hyped","hypes","hypha","hyphy","hypos","hyrax","hyson","hythe","iambi","iambs","ibrik","icers","iched","iches","ichor","icier","icker","ickle","icons","ictal","ictic","ictus","idant","ideas","idees","ident","idled","idles","idola","idols","idyls","iftar","igapo","igged","iglus","ihram","ikans","ikats","ikons","ileac","ileal","ileum","ileus","iliad","ilial","ilium","iller","illth","imago","imams","imari","imaum","imbar","imbed","imide","imido","imids","imine","imino","immew","immit","immix","imped","impis","impot","impro","imshi","imshy","inapt","inarm","inbye","incel","incle","incog","incus","incut","indew","india","indie","indol","indow","indri","indue","inerm","infix","infos","infra","ingan","ingle","inion","inked","inker","inkle","inned","innit","inorb","inrun","inset","inspo","intel","intil","intis","intra","inula","inure","inurn","inust","invar","inwit","iodic","iodid","iodin","iotas","ippon","irade","irids","iring","irked","iroko","irone","irons","isbas","ishes","isled","isles","isnae","issei","istle","items","ither","ivied","ivies","ixias","ixnay","ixora","ixtle","izard","izars","izzat","jaaps","jabot","jacal","jacks","jacky","jaded","jades","jafas","jaffa","jagas","jager","jaggs","jaggy","jagir","jagra","jails","jaker","jakes","jakey","jalap","jalop","jambe","jambo","jambs","jambu","james","jammy","jamon","janes","janns","janny","janty","japan","japed","japer","japes","jarks","jarls","jarps","jarta","jarul","jasey","jaspe","jasps","jatos","jauks","jaups","javas","javel","jawan","jawed","jaxie","jeans","jeats","jebel","jedis","jeels","jeely","jeeps","jeers","jeeze","jefes","jeffs","jehad","jehus","jelab","jello","jells","jembe","jemmy","jenny","jeons","jerid","jerks","jerry","jesse","jests","jesus","jetes","jeton","jeune","jewed","jewie","jhala","jiaos","jibba","jibbs","jibed","jiber","jibes","jiffs","jiggy","jigot","jihad","jills","jilts","jimmy","jimpy","jingo","jinks","jinne","jinni","jinns","jirds","jirga","jirre","jisms","jived","jiver","jives","jivey","jnana","jobed","jobes","jocko","jocks","jocky","jocos","jodel","joeys","johns","joins","joked","jokes","jokey","jokol","joled","joles","jolls","jolts","jolty","jomon","jomos","jones","jongs","jonty","jooks","joram","jorum","jotas","jotty","jotun","joual","jougs","jouks","joule","jours","jowar","jowed","jowls","jowly","joyed","jubas","jubes","jucos","judas","judgy","judos","jugal","jugum","jujus","juked","jukes","jukus","julep","jumar","jumby","jumps","junco","junks","junky","jupes","jupon","jural","jurat","jurel","jures","justs","jutes","jutty","juves","juvie","kaama","kabab","kabar","kabob","kacha","kacks","kadai","kades","kadis","kafir","kagos","kagus","kahal","kaiak","kaids","kaies","kaifs","kaika","kaiks","kails","kaims","kaing","kains","kakas","kakis","kalam","kales","kalif","kalis","kalpa","kamas","kames","kamik","kamis","kamme","kanae","kanas","kandy","kaneh","kanes","kanga","kangs","kanji","kants","kanzu","kaons","kapas","kaphs","kapok","kapow","kapus","kaput","karas","karat","karks","karns","karoo","karos","karri","karst","karsy","karts","karzy","kasha","kasme","katal","katas","katis","katti","kaugh","kauri","kauru","kaury","kaval","kavas","kawas","kawau","kawed","kayle","kayos","kazis","kazoo","kbars","kebar","kebob","kecks","kedge","kedgy","keech","keefs","keeks","keels","keema","keeno","keens","keeps","keets","keeve","kefir","kehua","keirs","kelep","kelim","kells","kelly","kelps","kelpy","kelts","kelty","kembo","kembs","kemps","kempt","kempy","kenaf","kench","kendo","kenos","kente","kents","kepis","kerbs","kerel","kerfs","kerky","kerma","kerne","kerns","keros","kerry","kerve","kesar","kests","ketas","ketch","ketes","ketol","kevel","kevil","kexes","keyed","keyer","khadi","khafs","khans","khaph","khats","khaya","khazi","kheda","kheth","khets","khoja","khors","khoum","khuds","kiaat","kiack","kiang","kibbe","kibbi","kibei","kibes","kibla","kicks","kicky","kiddo","kiddy","kidel","kidge","kiefs","kiers","kieve","kievs","kight","kikes","kikoi","kiley","kilim","kills","kilns","kilos","kilps","kilts","kilty","kimbo","kinas","kinda","kinds","kindy","kines","kings","kinin","kinks","kinos","kiore","kipes","kippa","kipps","kirby","kirks","kirns","kirri","kisan","kissy","kists","kited","kiter","kites","kithe","kiths","kitul","kivas","kiwis","klang","klaps","klett","klick","klieg","kliks","klong","kloof","kluge","klutz","knags","knaps","knarl","knars","knaur","knawe","knees","knell","knish","knits","knive","knobs","knops","knosp","knots","knout","knowe","knows","knubs","knurl","knurr","knurs","knuts","koans","koaps","koban","kobos","koels","koffs","kofta","kogal","kohas","kohen","kohls","koine","kojis","kokam","kokas","koker","kokra","kokum","kolas","kolos","kombu","konbu","kondo","konks","kooks","kooky","koori","kopek","kophs","kopje","koppa","korai","koras","korat","kores","korma","koros","korun","korus","koses","kotch","kotos","kotow","koura","kraal","krabs","kraft","krais","krait","krang","krans","kranz","kraut","krays","kreep","kreng","krewe","krona","krone","kroon","krubi","krunk","ksars","kubie","kudos","kudus","kudzu","kufis","kugel","kuias","kukri","kukus","kulak","kulan","kulas","kulfi","kumis","kumys","kuris","kurre","kurta","kurus","kusso","kutas","kutch","kutis","kutus","kuzus","kvass","kvell","kwela","kyack","kyaks","kyang","kyars","kyats","kybos","kydst","kyles","kylie","kylin","kylix","kyloe","kynde","kynds","kypes","kyrie","kytes","kythe","laari","labda","labia","labis","labra","laced","lacer","laces","lacet","lacey","lacks","laddy","laded","lader","lades","laers","laevo","lagan","lahal","lahar","laich","laics","laids","laigh","laika","laiks","laird","lairs","lairy","laith","laity","laked","laker","lakes","lakhs","lakin","laksa","laldy","lalls","lamas","lambs","lamby","lamed","lamer","lames","lamia","lammy","lamps","lanai","lanas","lanch","lande","lands","lanes","lanks","lants","lapin","lapis","lapje","larch","lards","lardy","laree","lares","largo","laris","larks","larky","larns","larnt","larum","lased","laser","lases","lassi","lassu","lassy","lasts","latah","lated","laten","latex","lathi","laths","lathy","latke","latus","lauan","lauch","lauds","laufs","laund","laura","laval","lavas","laved","laver","laves","lavra","lavvy","lawed","lawer","lawin","lawks","lawns","lawny","laxed","laxer","laxes","laxly","layed","layin","layup","lazar","lazed","lazes","lazos","lazzi","lazzo","leads","leady","leafs","leaks","leams","leans","leany","leaps","leare","lears","leary","leats","leavy","leaze","leben","leccy","ledes","ledgy","ledum","leear","leeks","leeps","leers","leese","leets","leeze","lefte","lefts","leger","leges","legge","leggo","legit","lehrs","lehua","leirs","leish","leman","lemed","lemel","lemes","lemma","lemme","lends","lenes","lengs","lenis","lenos","lense","lenti","lento","leone","lepid","lepra","lepta","lered","leres","lerps","lesbo","leses","lests","letch","lethe","letup","leuch","leuco","leuds","leugh","levas","levee","leves","levin","levis","lewis","lexes","lexis","lezes","lezza","lezzy","liana","liane","liang","liard","liars","liart","liber","libra","libri","lichi","licht","licit","licks","lidar","lidos","liefs","liens","liers","lieus","lieve","lifer","lifes","lifts","ligan","liger","ligge","ligne","liked","liker","likes","likin","lills","lilos","lilts","liman","limas","limax","limba","limbi","limbs","limby","limed","limen","limes","limey","limma","limns","limos","limpa","limps","linac","linch","linds","lindy","lined","lines","liney","linga","lings","lingy","linin","links","linky","linns","linny","linos","lints","linty","linum","linux","lions","lipas","lipes","lipin","lipos","lippy","liras","lirks","lirot","lisks","lisle","lisps","lists","litai","litas","lited","liter","lites","litho","liths","litre","lived","liven","lives","livor","livre","llano","loach","loads","loafs","loams","loans","loast","loave","lobar","lobed","lobes","lobos","lobus","loche","lochs","locie","locis","locks","locos","locum","loden","lodes","loess","lofts","logan","loges","loggy","logia","logie","logoi","logon","logos","lohan","loids","loins","loipe","loirs","lokes","lolls","lolly","lolog","lomas","lomed","lomes","loner","longa","longe","longs","looby","looed","looey","loofa","loofs","looie","looks","looky","looms","loons","loony","loops","loord","loots","loped","loper","lopes","loppy","loral","loran","lords","lordy","lorel","lores","loric","loris","losed","losel","losen","loses","lossy","lotah","lotas","lotes","lotic","lotos","lotsa","lotta","lotte","lotto","lotus","loued","lough","louie","louis","louma","lound","louns","loupe","loups","loure","lours","loury","louts","lovat","loved","loves","lovey","lovie","lowan","lowed","lowes","lownd","lowne","lowns","lowps","lowry","lowse","lowts","loxed","loxes","lozen","luach","luaus","lubed","lubes","lubra","luces","lucks","lucre","ludes","ludic","ludos","luffa","luffs","luged","luger","luges","lulls","lulus","lumas","lumbi","lumme","lummy","lumps","lunas","lunes","lunet","lungi","lungs","lunks","lunts","lupin","lured","lurer","lures","lurex","lurgi","lurgy","lurks","lurry","lurve","luser","lushy","lusks","lusts","lusus","lutea","luted","luter","lutes","luvvy","luxed","luxer","luxes","lweis","lyams","lyard","lyart","lyase","lycea","lycee","lycra","lymes","lynes","lyres","lysed","lyses","lysin","lysis","lysol","lyssa","lyted","lytes","lythe","lytic","lytta","maaed","maare","maars","mabes","macas","maced","macer","maces","mache","machi","machs","macks","macle","macon","madge","madid","madre","maerl","mafic","mages","maggs","magot","magus","mahoe","mahua","mahwa","maids","maiko","maiks","maile","maill","mails","maims","mains","maire","mairs","maise","maist","makar","makes","makis","makos","malam","malar","malas","malax","males","malic","malik","malis","malls","malms","malmy","malts","malty","malus","malva","malwa","mamas","mamba","mamee","mamey","mamie","manas","manat","mandi","maneb","maned","maneh","manes","manet","mangs","manis","manky","manna","manos","manse","manta","manto","manty","manul","manus","mapau","maqui","marae","marah","maras","marcs","mardy","mares","marge","margs","maria","marid","marka","marks","marle","marls","marly","marms","maron","maror","marra","marri","marse","marts","marvy","masas","mased","maser","mases","mashy","masks","massa","massy","masts","masty","masus","matai","mated","mater","mates","maths","matin","matlo","matte","matts","matza","matzo","mauby","mauds","mauls","maund","mauri","mausy","mauts","mauzy","maven","mavie","mavin","mavis","mawed","mawks","mawky","mawns","mawrs","maxed","maxes","maxis","mayan","mayas","mayed","mayos","mayst","mazed","mazer","mazes","mazey","mazut","mbira","meads","meals","meane","means","meany","meare","mease","meath","meats","mebos","mechs","mecks","medii","medle","meeds","meers","meets","meffs","meins","meint","meiny","meith","mekka","melas","melba","melds","melic","melik","mells","melts","melty","memes","memos","menad","mends","mened","menes","menge","mengs","mensa","mense","mensh","menta","mento","menus","meous","meows","merch","mercs","merde","mered","merel","merer","meres","meril","meris","merks","merle","merls","merse","mesal","mesas","mesel","meses","meshy","mesic","mesne","meson","messy","mesto","meted","metes","metho","meths","metic","metif","metis","metol","metre","meuse","meved","meves","mewed","mewls","meynt","mezes","mezze","mezzo","mhorr","miaou","miaow","miasm","miaul","micas","miche","micht","micks","micky","micos","micra","middy","midgy","midis","miens","mieve","miffs","miffy","mifty","miggs","mihas","mihis","miked","mikes","mikra","mikva","milch","milds","miler","miles","milfs","milia","milko","milks","mille","mills","milor","milos","milpa","milts","milty","miltz","mimed","mimeo","mimer","mimes","mimsy","minae","minar","minas","mincy","minds","mined","mines","minge","mings","mingy","minis","minke","minks","minny","minos","mints","mired","mires","mirex","mirid","mirin","mirks","mirky","mirly","miros","mirvs","mirza","misch","misdo","mises","misgo","misos","missa","mists","misty","mitch","miter","mites","mitis","mitre","mitts","mixed","mixen","mixer","mixes","mixte","mixup","mizen","mizzy","mneme","moans","moats","mobby","mobes","mobey","mobie","moble","mochi","mochs","mochy","mocks","moder","modes","modge","modii","modus","moers","mofos","moggy","mohel","mohos","mohrs","mohua","mohur","moile","moils","moira","moire","moits","mojos","mokes","mokis","mokos","molal","molas","molds","moled","moles","molla","molls","molly","molto","molts","molys","momes","momma","mommy","momus","monad","monal","monas","monde","mondo","moner","mongo","mongs","monic","monie","monks","monos","monte","monty","moobs","mooch","moods","mooed","mooks","moola","mooli","mools","mooly","moong","moons","moony","moops","moors","moory","moots","moove","moped","moper","mopes","mopey","moppy","mopsy","mopus","morae","moras","morat","moray","morel","mores","moria","morne","morns","morra","morro","morse","morts","mosed","moses","mosey","mosks","mosso","moste","mosts","moted","moten","motes","motet","motey","moths","mothy","motis","motte","motts","motty","motus","motza","mouch","moues","mould","mouls","moups","moust","mousy","moved","moves","mowas","mowed","mowra","moxas","moxie","moyas","moyle","moyls","mozed","mozes","mozos","mpret","mucho","mucic","mucid","mucin","mucks","mucor","mucro","mudge","mudir","mudra","muffs","mufti","mugga","muggs","muggy","muhly","muids","muils","muirs","muist","mujik","mulct","muled","mules","muley","mulga","mulie","mulla","mulls","mulse","mulsh","mumms","mumps","mumsy","mumus","munga","munge","mungo","mungs","munis","munts","muntu","muons","muras","mured","mures","murex","murid","murks","murls","murly","murra","murre","murri","murrs","murry","murti","murva","musar","musca","mused","muser","muses","muset","musha","musit","musks","musos","musse","mussy","musth","musts","mutch","muted","muter","mutes","mutha","mutis","muton","mutts","muxed","muxes","muzak","muzzy","mvule","myall","mylar","mynah","mynas","myoid","myoma","myope","myops","myopy","mysid","mythi","myths","mythy","myxos","mzees","naams","naans","nabes","nabis","nabks","nabla","nabob","nache","nacho","nacre","nadas","naeve","naevi","naffs","nagas","naggy","nagor","nahal","naiad","naifs","naiks","nails","naira","nairu","naked","naker","nakfa","nalas","naled","nalla","named","namer","names","namma","namus","nanas","nance","nancy","nandu","nanna","nanos","nanua","napas","naped","napes","napoo","nappa","nappe","nappy","naras","narco","narcs","nards","nares","naric","naris","narks","narky","narre","nashi","natch","nates","natis","natty","nauch","naunt","navar","naves","navew","navvy","nawab","nazes","nazir","nazis","nduja","neafe","neals","neaps","nears","neath","neats","nebek","nebel","necks","neddy","needs","neeld","neele","neemb","neems","neeps","neese","neeze","negro","negus","neifs","neist","neive","nelis","nelly","nemas","nemns","nempt","nenes","neons","neper","nepit","neral","nerds","nerka","nerks","nerol","nerts","nertz","nervy","nests","netes","netop","netts","netty","neuks","neume","neums","nevel","neves","nevus","newbs","newed","newel","newie","newsy","newts","nexts","nexus","ngaio","ngana","ngati","ngoma","ngwee","nicad","nicht","nicks","nicol","nidal","nided","nides","nidor","nidus","niefs","nieve","nifes","niffs","niffy","nifty","niger","nighs","nihil","nikab","nikah","nikau","nills","nimbi","nimbs","nimps","niner","nines","ninon","nipas","nippy","niqab","nirls","nirly","nisei","nisse","nisus","niter","nites","nitid","niton","nitre","nitro","nitry","nitty","nival","nixed","nixer","nixes","nixie","nizam","nkosi","noahs","nobby","nocks","nodal","noddy","nodes","nodus","noels","noggs","nohow","noils","noily","noint","noirs","noles","nolls","nolos","nomas","nomen","nomes","nomic","nomoi","nomos","nonas","nonce","nones","nonet","nongs","nonis","nonny","nonyl","noobs","nooit","nooks","nooky","noons","noops","nopal","noria","noris","norks","norma","norms","nosed","noser","noses","notal","noted","noter","notes","notum","nould","noule","nouls","nouns","nouny","noups","novae","novas","novum","noway","nowed","nowls","nowts","nowty","noxal","noxes","noyau","noyed","noyes","nubby","nubia","nucha","nuddy","nuder","nudes","nudie","nudzh","nuffs","nugae","nuked","nukes","nulla","nulls","numbs","numen","nummy","nunny","nurds","nurdy","nurls","nurrs","nutso","nutsy","nyaff","nyala","nying","nyssa","oaked","oaker","oakum","oared","oases","oasis","oasts","oaten","oater","oaths","oaves","obang","obeah","obeli","obeys","obias","obied","obiit","obits","objet","oboes","obole","oboli","obols","occam","ocher","oches","ochre","ochry","ocker","ocrea","octad","octan","octas","octyl","oculi","odahs","odals","odeon","odeum","odism","odist","odium","odors","odour","odyle","odyls","ofays","offed","offie","oflag","ofter","ogams","ogeed","ogees","oggin","ogham","ogive","ogled","ogler","ogles","ogmic","ogres","ohias","ohing","ohmic","ohone","oidia","oiled","oiler","oinks","oints","ojime","okapi","okays","okehs","okras","oktas","oldie","oleic","olein","olent","oleos","oleum","olios","ollas","ollav","oller","ollie","ology","olpae","olpes","omasa","omber","ombus","omens","omers","omits","omlah","omovs","omrah","oncer","onces","oncet","oncus","onely","oners","onery","onium","onkus","onlay","onned","ontic","oobit","oohed","oomph","oonts","ooped","oorie","ooses","ootid","oozed","oozes","opahs","opals","opens","opepe","oping","oppos","opsin","opted","opter","orach","oracy","orals","orang","orant","orate","orbed","orcas","orcin","ordos","oread","orfes","orgia","orgic","orgue","oribi","oriel","orixa","orles","orlon","orlop","ormer","ornis","orpin","orris","ortho","orval","orzos","oscar","oshac","osier","osmic","osmol","ossia","ostia","otaku","otary","ottar","ottos","oubit","oucht","ouens","ouija","oulks","oumas","oundy","oupas","ouped","ouphe","ouphs","ourie","ousel","ousts","outby","outed","outre","outro","outta","ouzel","ouzos","ovals","ovels","ovens","overs","ovist","ovoli","ovolo","ovule","owche","owies","owled","owler","owlet","owned","owres","owrie","owsen","oxbow","oxers","oxeye","oxids","oxies","oxime","oxims","oxlip","oxter","oyers","ozeki","ozzie","paals","paans","pacas","paced","pacer","paces","pacey","pacha","packs","pacos","pacta","pacts","padis","padle","padma","padre","padri","paean","paedo","paeon","paged","pager","pages","pagle","pagod","pagri","paiks","pails","pains","paire","pairs","paisa","paise","pakka","palas","palay","palea","paled","pales","palet","palis","palki","palla","palls","pally","palms","palmy","palpi","palps","palsa","pampa","panax","pance","panda","pands","pandy","paned","panes","panga","pangs","panim","panko","panne","panni","panto","pants","panty","paoli","paolo","papas","papaw","papes","pappi","pappy","parae","paras","parch","pardi","pards","pardy","pared","paren","pareo","pares","pareu","parev","parge","pargo","paris","parki","parks","parky","parle","parly","parma","parol","parps","parra","parrs","parti","parts","parve","parvo","paseo","pases","pasha","pashm","paska","paspy","passe","pasts","pated","paten","pater","pates","paths","patin","patka","patly","patte","patus","pauas","pauls","pavan","paved","paven","paver","paves","pavid","pavin","pavis","pawas","pawaw","pawed","pawer","pawks","pawky","pawls","pawns","paxes","payed","payor","paysd","peage","peags","peaks","peaky","peals","peans","peare","pears","peart","pease","peats","peaty","peavy","peaze","pebas","pechs","pecke","pecks","pecky","pedes","pedis","pedro","peece","peeks","peels","peens","peeoy","peepe","peeps","peers","peery","peeve","peggy","peghs","peins","peise","peize","pekan","pekes","pekin","pekoe","pelas","pelau","peles","pelfs","pells","pelma","pelon","pelta","pelts","pends","pendu","pened","penes","pengo","penie","penis","penks","penna","penni","pents","peons","peony","pepla","pepos","peppy","pepsi","perai","perce","percs","perdu","perdy","perea","peres","peris","perks","perms","perns","perog","perps","perry","perse","perst","perts","perve","pervo","pervs","pervy","pesos","pests","pesty","petar","peter","petit","petre","petri","petti","petto","pewee","pewit","peyse","phage","phang","phare","pharm","pheer","phene","pheon","phese","phial","phish","phizz","phlox","phoca","phono","phons","phots","phpht","phuts","phyla","phyle","piani","pians","pibal","pical","picas","piccy","picks","picot","picra","picul","piend","piers","piert","pieta","piets","piezo","pight","pigmy","piing","pikas","pikau","piked","piker","pikes","pikey","pikis","pikul","pilae","pilaf","pilao","pilar","pilau","pilaw","pilch","pilea","piled","pilei","piler","piles","pilis","pills","pilow","pilum","pilus","pimas","pimps","pinas","pined","pines","pingo","pings","pinko","pinks","pinna","pinny","pinon","pinot","pinta","pints","pinup","pions","piony","pious","pioye","pioys","pipal","pipas","piped","pipes","pipet","pipis","pipit","pippy","pipul","pirai","pirls","pirns","pirog","pisco","pises","pisky","pisos","pissy","piste","pitas","piths","piton","pitot","pitta","piums","pixes","pized","pizes","plaas","plack","plage","plans","plaps","plash","plasm","plast","plats","platt","platy","playa","plays","pleas","plebe","plebs","plena","pleon","plesh","plews","plica","plies","plims","pling","plink","ploat","plods","plong","plonk","plook","plops","plots","plotz","plouk","plows","ploye","ploys","plues","pluff","plugs","plums","plumy","pluot","pluto","plyer","poach","poaka","poake","poboy","pocks","pocky","podal","poddy","podex","podge","podgy","podia","poems","poeps","poets","pogey","pogge","pogos","pohed","poilu","poind","pokal","poked","pokes","pokey","pokie","poled","poler","poles","poley","polio","polis","polje","polks","polls","polly","polos","polts","polys","pombe","pomes","pommy","pomos","pomps","ponce","poncy","ponds","pones","poney","ponga","pongo","pongs","pongy","ponks","ponts","ponty","ponzu","poods","pooed","poofs","poofy","poohs","pooja","pooka","pooks","pools","poons","poops","poopy","poori","poort","poots","poove","poovy","popes","poppa","popsy","porae","poral","pored","porer","pores","porge","porgy","porin","porks","porky","porno","porns","porny","porta","ports","porty","posed","poses","posey","posho","posts","potae","potch","poted","potes","potin","potoo","potsy","potto","potts","potty","pouff","poufs","pouke","pouks","poule","poulp","poult","poupe","poupt","pours","pouts","powan","powin","pownd","powns","powny","powre","poxed","poxes","poynt","poyou","poyse","pozzy","praam","prads","prahu","prams","prana","prang","praos","prase","prate","prats","pratt","praty","praus","prays","predy","preed","prees","preif","prems","premy","prent","preon","preop","preps","presa","prese","prest","preve","prexy","preys","prial","pricy","prief","prier","pries","prigs","prill","prima","primi","primp","prims","primy","prink","prion","prise","priss","proas","probs","prods","proem","profs","progs","proin","proke","prole","proll","promo","proms","pronk","props","prore","proso","pross","prost","prosy","proto","proul","prows","proyn","prunt","pruta","pryer","pryse","pseud","pshaw","psion","psoae","psoai","psoas","psora","psych","psyop","pubco","pubes","pubis","pucan","pucer","puces","pucka","pucks","puddy","pudge","pudic","pudor","pudsy","pudus","puers","puffa","puffs","puggy","pugil","puhas","pujah","pujas","pukas","puked","puker","pukes","pukey","pukka","pukus","pulao","pulas","puled","puler","pules","pulik","pulis","pulka","pulks","pulli","pulls","pully","pulmo","pulps","pulus","pumas","pumie","pumps","punas","punce","punga","pungs","punji","punka","punks","punky","punny","punto","punts","punty","pupae","pupas","pupus","purda","pured","pures","purin","puris","purls","purpy","purrs","pursy","purty","puses","pusle","pussy","putid","puton","putti","putto","putts","puzel","pwned","pyats","pyets","pygal","pyins","pylon","pyned","pynes","pyoid","pyots","pyral","pyran","pyres","pyrex","pyric","pyros","pyxed","pyxes","pyxie","pyxis","pzazz","qadis","qaids","qajaq","qanat","qapik","qibla","qophs","qorma","quads","quaff","quags","quair","quais","quaky","quale","quant","quare","quass","quate","quats","quayd","quays","qubit","quean","queme","quena","quern","queyn","queys","quich","quids","quiff","quims","quina","quine","quino","quins","quint","quipo","quips","quipu","quire","quirt","quist","quits","quoad","quods","quoif","quoin","quoit","quoll","quonk","quops","qursh","quyte","rabat","rabic","rabis","raced","races","rache","racks","racon","radge","radix","radon","raffs","rafts","ragas","ragde","raged","ragee","rager","rages","ragga","raggs","raggy","ragis","ragus","rahed","rahui","raias","raids","raiks","raile","rails","raine","rains","raird","raita","raits","rajas","rajes","raked","rakee","raker","rakes","rakia","rakis","rakus","rales","ramal","ramee","ramet","ramie","ramin","ramis","rammy","ramps","ramus","ranas","rance","rands","ranee","ranga","rangi","rangs","rangy","ranid","ranis","ranke","ranks","rants","raped","raper","rapes","raphe","rappe","rared","raree","rares","rarks","rased","raser","rases","rasps","rasse","rasta","ratal","ratan","ratas","ratch","rated","ratel","rater","rates","ratha","rathe","raths","ratoo","ratos","ratus","rauns","raupo","raved","ravel","raver","raves","ravey","ravin","rawer","rawin","rawly","rawns","raxed","raxes","rayah","rayas","rayed","rayle","rayne","razed","razee","razer","razes","razoo","readd","reads","reais","reaks","realo","reals","reame","reams","reamy","reans","reaps","rears","reast","reata","reate","reave","rebbe","rebec","rebid","rebit","rebop","rebuy","recal","recce","recco","reccy","recit","recks","recon","recta","recti","recto","redan","redds","reddy","reded","redes","redia","redid","redip","redly","redon","redos","redox","redry","redub","redux","redye","reech","reede","reeds","reefs","reefy","reeks","reeky","reels","reens","reest","reeve","refed","refel","reffo","refis","refix","refly","refry","regar","reges","reggo","regie","regma","regna","regos","regur","rehem","reifs","reify","reiki","reiks","reink","reins","reird","reist","reive","rejig","rejon","reked","rekes","rekey","relet","relie","relit","rello","reman","remap","remen","remet","remex","remix","renay","rends","reney","renga","renig","renin","renne","renos","rente","rents","reoil","reorg","repeg","repin","repla","repos","repot","repps","repro","reran","rerig","resat","resaw","resay","resee","reses","resew","resid","resit","resod","resow","resto","rests","resty","resus","retag","retax","retem","retia","retie","retox","revet","revie","rewan","rewax","rewed","rewet","rewin","rewon","rewth","rexes","rezes","rheas","rheme","rheum","rhies","rhime","rhine","rhody","rhomb","rhone","rhumb","rhyne","rhyta","riads","rials","riant","riata","ribas","ribby","ribes","riced","ricer","rices","ricey","richt","ricin","ricks","rides","ridgy","ridic","riels","riems","rieve","rifer","riffs","rifte","rifts","rifty","riggs","rigol","riled","riles","riley","rille","rills","rimae","rimed","rimer","rimes","rimus","rinds","rindy","rines","rings","rinks","rioja","riots","riped","ripes","ripps","rises","rishi","risks","risps","risus","rites","ritts","ritzy","rivas","rived","rivel","riven","rives","riyal","rizas","roads","roams","roans","roars","roary","roate","robed","robes","roble","rocks","roded","rodes","roguy","rohes","roids","roils","roily","roins","roist","rojak","rojis","roked","roker","rokes","rolag","roles","rolfs","rolls","romal","roman","romeo","romps","ronde","rondo","roneo","rones","ronin","ronne","ronte","ronts","roods","roofs","roofy","rooks","rooky","rooms","roons","roops","roopy","roosa","roose","roots","rooty","roped","roper","ropes","ropey","roque","roral","rores","roric","rorid","rorie","rorts","rorty","rosed","roses","roset","roshi","rosin","rosit","rosti","rosts","rotal","rotan","rotas","rotch","roted","rotes","rotis","rotls","roton","rotos","rotte","rouen","roues","roule","rouls","roums","roups","roupy","roust","routh","routs","roved","roven","roves","rowan","rowed","rowel","rowen","rowie","rowme","rownd","rowth","rowts","royne","royst","rozet","rozit","ruana","rubai","rubby","rubel","rubes","rubin","ruble","rubli","rubus","ruche","rucks","rudas","rudds","rudes","rudie","rudis","rueda","ruers","ruffe","ruffs","rugae","rugal","ruggy","ruing","ruins","rukhs","ruled","rules","rumal","rumbo","rumen","rumes","rumly","rummy","rumpo","rumps","rumpy","runch","runds","runed","runes","rungs","runic","runny","runts","runty","rupia","rurps","rurus","rusas","ruses","rushy","rusks","rusma","russe","rusts","ruths","rutin","rutty","ryals","rybat","ryked","rykes","rymme","rynds","ryots","ryper","saags","sabal","sabed","saber","sabes","sabha","sabin","sabir","sable","sabot","sabra","sabre","sacks","sacra","saddo","sades","sadhe","sadhu","sadis","sados","sadza","safed","safes","sagas","sager","sages","saggy","sagos","sagum","saheb","sahib","saice","saick","saics","saids","saiga","sails","saims","saine","sains","sairs","saist","saith","sajou","sakai","saker","sakes","sakia","sakis","sakti","salal","salat","salep","sales","salet","salic","salix","salle","salmi","salol","salop","salpa","salps","salse","salto","salts","salue","salut","saman","samas","samba","sambo","samek","samel","samen","sames","samey","samfu","sammy","sampi","samps","sands","saned","sanes","sanga","sangh","sango","sangs","sanko","sansa","santo","sants","saola","sapan","sapid","sapor","saran","sards","sared","saree","sarge","sargo","sarin","saris","sarks","sarky","sarod","saros","sarus","saser","sasin","sasse","satai","satay","sated","satem","sates","satis","sauba","sauch","saugh","sauls","sault","saunt","saury","sauts","saved","saver","saves","savey","savin","sawah","sawed","sawer","saxes","sayed","sayer","sayid","sayne","sayon","sayst","sazes","scabs","scads","scaff","scags","scail","scala","scall","scams","scand","scans","scapa","scape","scapi","scarp","scars","scart","scath","scats","scatt","scaud","scaup","scaur","scaws","sceat","scena","scend","schav","schmo","schul","schwa","sclim","scody","scogs","scoog","scoot","scopa","scops","scots","scoug","scoup","scowp","scows","scrab","scrae","scrag","scran","scrat","scraw","scray","scrim","scrip","scrob","scrod","scrog","scrow","scudi","scudo","scuds","scuff","scuft","scugs","sculk","scull","sculp","sculs","scums","scups","scurf","scurs","scuse","scuta","scute","scuts","scuzz","scyes","sdayn","sdein","seals","seame","seams","seamy","seans","seare","sears","sease","seats","seaze","sebum","secco","sechs","sects","seder","sedes","sedge","sedgy","sedum","seeds","seeks","seeld","seels","seely","seems","seeps","seepy","seers","sefer","segar","segni","segno","segol","segos","sehri","seifs","seils","seine","seirs","seise","seism","seity","seiza","sekos","sekts","selah","seles","selfs","sella","selle","sells","selva","semee","semes","semie","semis","senas","sends","senes","sengi","senna","senor","sensa","sensi","sente","senti","sents","senvy","senza","sepad","sepal","sepic","sepoy","septa","septs","serac","serai","seral","sered","serer","seres","serfs","serge","seric","serin","serks","seron","serow","serra","serre","serrs","serry","servo","sesey","sessa","setae","setal","seton","setts","sewan","sewar","sewed","sewel","sewen","sewin","sexed","sexer","sexes","sexto","sexts","seyen","shads","shags","shahs","shako","shakt","shalm","shaly","shama","shams","shand","shans","shaps","sharn","shash","shaul","shawm","shawn","shaws","shaya","shays","shchi","sheaf","sheal","sheas","sheds","sheel","shend","shent","sheol","sherd","shere","shero","shets","sheva","shewn","shews","shiai","shiel","shier","shies","shill","shily","shims","shins","ships","shirr","shirs","shish","shiso","shist","shite","shits","shiur","shiva","shive","shivs","shlep","shlub","shmek","shmoe","shoat","shoed","shoer","shoes","shogi","shogs","shoji","shojo","shola","shool","shoon","shoos","shope","shops","shorl","shote","shots","shott","showd","shows","shoyu","shred","shris","shrow","shtik","shtum","shtup","shule","shuln","shuls","shuns","shura","shute","shuts","shwas","shyer","sials","sibbs","sibyl","sices","sicht","sicko","sicks","sicky","sidas","sided","sider","sides","sidha","sidhe","sidle","sield","siens","sient","sieth","sieur","sifts","sighs","sigil","sigla","signa","signs","sijos","sikas","siker","sikes","silds","siled","silen","siler","siles","silex","silks","sills","silos","silts","silty","silva","simar","simas","simba","simis","simps","simul","sinds","sined","sines","sings","sinhs","sinks","sinky","sinus","siped","sipes","sippy","sired","siree","sires","sirih","siris","siroc","sirra","sirup","sisal","sises","sista","sists","sitar","sited","sites","sithe","sitka","situp","situs","siver","sixer","sixes","sixmo","sixte","sizar","sized","sizel","sizer","sizes","skags","skail","skald","skank","skart","skats","skatt","skaws","skean","skear","skeds","skeed","skeef","skeen","skeer","skees","skeet","skegg","skegs","skein","skelf","skell","skelm","skelp","skene","skens","skeos","skeps","skers","skets","skews","skids","skied","skies","skiey","skimo","skims","skink","skins","skint","skios","skips","skirl","skirr","skite","skits","skive","skivy","sklim","skoal","skody","skoff","skogs","skols","skool","skort","skosh","skran","skrik","skuas","skugs","skyed","skyer","skyey","skyfs","skyre","skyrs","skyte","slabs","slade","slaes","slags","slaid","slake","slams","slane","slank","slaps","slart","slats","slaty","slaws","slays","slebs","sleds","sleer","slews","sleys","slier","slily","slims","slipe","slips","slipt","slish","slits","slive","sloan","slobs","sloes","slogs","sloid","slojd","slomo","sloom","sloot","slops","slopy","slorm","slots","slove","slows","sloyd","slubb","slubs","slued","slues","sluff","slugs","sluit","slums","slurb","slurs","sluse","sluts","slyer","slype","smaak","smaik","smalm","smalt","smarm","smaze","smeek","smees","smeik","smeke","smerk","smews","smirr","smirs","smits","smogs","smoko","smolt","smoor","smoot","smore","smorg","smout","smowt","smugs","smurs","smush","smuts","snabs","snafu","snags","snaps","snarf","snark","snars","snary","snash","snath","snaws","snead","sneap","snebs","sneck","sneds","sneed","snees","snell","snibs","snick","snies","snift","snigs","snips","snipy","snirt","snits","snobs","snods","snoek","snoep","snogs","snoke","snood","snook","snool","snoot","snots","snowk","snows","snubs","snugs","snush","snyes","soaks","soaps","soare","soars","soave","sobas","socas","soces","socko","socks","socle","sodas","soddy","sodic","sodom","sofar","sofas","softa","softs","softy","soger","sohur","soils","soily","sojas","sojus","sokah","soken","sokes","sokol","solah","solan","solas","solde","soldi","soldo","solds","soled","solei","soler","soles","solon","solos","solum","solus","soman","somas","sonce","sonde","sones","songs","sonly","sonne","sonny","sonse","sonsy","sooey","sooks","sooky","soole","sools","sooms","soops","soote","soots","sophs","sophy","sopor","soppy","sopra","soral","soras","sorbo","sorbs","sorda","sordo","sords","sored","soree","sorel","sorer","sores","sorex","sorgo","sorns","sorra","sorta","sorts","sorus","soths","sotol","souce","souct","sough","souks","souls","soums","soups","soupy","sours","souse","souts","sowar","sowce","sowed","sowff","sowfs","sowle","sowls","sowms","sownd","sowne","sowps","sowse","sowth","soyas","soyle","soyuz","sozin","spacy","spado","spaed","spaer","spaes","spags","spahi","spail","spain","spait","spake","spald","spale","spall","spalt","spams","spane","spang","spans","spard","spars","spart","spate","spats","spaul","spawl","spaws","spayd","spays","spaza","spazz","speal","spean","speat","specs","spect","speel","speer","speil","speir","speks","speld","spelk","speos","spets","speug","spews","spewy","spial","spica","spick","spics","spide","spier","spies","spiff","spifs","spiks","spile","spims","spina","spink","spins","spirt","spiry","spits","spitz","spivs","splay","splog","spode","spods","spoom","spoor","spoot","spork","sposh","spots","sprad","sprag","sprat","spred","sprew","sprit","sprod","sprog","sprue","sprug","spuds","spued","spuer","spues","spugs","spule","spume","spumy","spurs","sputa","spyal","spyre","squab","squaw","squeg","squid","squit","squiz","stabs","stade","stags","stagy","staig","stane","stang","staph","staps","starn","starr","stars","stats","staun","staws","stays","stean","stear","stedd","stede","steds","steek","steem","steen","steil","stela","stele","stell","steme","stems","stend","steno","stens","stent","steps","stept","stere","stets","stews","stewy","steys","stich","stied","sties","stilb","stile","stime","stims","stimy","stipa","stipe","stire","stirk","stirp","stirs","stive","stivy","stoae","stoai","stoas","stoat","stobs","stoep","stogy","stoit","stoln","stoma","stond","stong","stonk","stonn","stook","stoor","stope","stops","stopt","stoss","stots","stott","stoun","stoup","stour","stown","stowp","stows","strad","strae","strag","strak","strep","strew","stria","strig","strim","strop","strow","stroy","strum","stubs","stude","studs","stull","stulm","stumm","stums","stuns","stupa","stupe","sture","sturt","styed","styes","styli","stylo","styme","stymy","styre","styte","subah","subas","subby","suber","subha","succi","sucks","sucky","sucre","sudds","sudor","sudsy","suede","suent","suers","suete","suets","suety","sugan","sughs","sugos","suhur","suids","suint","suits","sujee","sukhs","sukuk","sulci","sulfa","sulfo","sulks","sulph","sulus","sumis","summa","sumos","sumph","sumps","sunis","sunks","sunna","sunns","sunup","supes","supra","surah","sural","suras","surat","surds","sured","sures","surfs","surfy","surgy","surra","sused","suses","susus","sutor","sutra","sutta","swabs","swack","swads","swage","swags","swail","swain","swale","swaly","swamy","swang","swank","swans","swaps","swapt","sward","sware","swarf","swart","swats","swayl","sways","sweal","swede","sweed","sweel","sweer","swees","sweir","swelt","swerf","sweys","swies","swigs","swile","swims","swink","swipe","swire","swiss","swith","swits","swive","swizz","swobs","swole","swoln","swops","swopt","swots","swoun","sybbe","sybil","syboe","sybow","sycee","syces","sycon","syens","syker","sykes","sylis","sylph","sylva","symar","synch","syncs","synds","syned","synes","synth","syped","sypes","syphs","syrah","syren","sysop","sythe","syver","taals","taata","taber","tabes","tabid","tabis","tabla","tabor","tabun","tabus","tacan","taces","tacet","tache","tacho","tachs","tacks","tacos","tacts","taels","tafia","taggy","tagma","tahas","tahrs","taiga","taigs","taiko","tails","tains","taira","taish","taits","tajes","takas","takes","takhi","takin","takis","takky","talak","talaq","talar","talas","talcs","talcy","talea","taler","tales","talks","talky","talls","talma","talpa","taluk","talus","tamal","tamed","tames","tamin","tamis","tammy","tamps","tanas","tanga","tangi","tangs","tanhs","tanka","tanks","tanky","tanna","tansy","tanti","tanto","tanty","tapas","taped","tapen","tapes","tapet","tapis","tappa","tapus","taras","tardo","tared","tares","targa","targe","tarns","taroc","tarok","taros","tarps","tarre","tarry","tarsi","tarts","tarty","tasar","tased","taser","tases","tasks","tassa","tasse","tasso","tatar","tater","tates","taths","tatie","tatou","tatts","tatus","taube","tauld","tauon","taupe","tauts","tavah","tavas","taver","tawai","tawas","tawed","tawer","tawie","tawse","tawts","taxed","taxer","taxes","taxis","taxol","taxon","taxor","taxus","tayra","tazza","tazze","teade","teads","teaed","teaks","teals","teams","tears","teats","teaze","techs","techy","tecta","teels","teems","teend","teene","teens","teeny","teers","teffs","teggs","tegua","tegus","tehrs","teiid","teils","teind","teins","telae","telco","teles","telex","telia","telic","tells","telly","teloi","telos","temed","temes","tempi","temps","tempt","temse","tench","tends","tendu","tenes","tenge","tenia","tenne","tenno","tenny","tenon","tents","tenty","tenue","tepal","tepas","tepoy","terai","teras","terce","terek","teres","terfe","terfs","terga","terms","terne","terns","terry","terts","tesla","testa","teste","tests","tetes","teths","tetra","tetri","teuch","teugh","tewed","tewel","tewit","texas","texes","texts","thack","thagi","thaim","thale","thali","thana","thane","thang","thans","thanx","tharm","thars","thaws","thawy","thebe","theca","theed","theek","thees","thegn","theic","thein","thelf","thema","thens","theow","therm","thesp","thete","thews","thewy","thigs","thilk","thill","thine","thins","thiol","thirl","thoft","thole","tholi","thoro","thorp","thous","thowl","thrae","thraw","thrid","thrip","throe","thuds","thugs","thuja","thunk","thurl","thuya","thymi","thymy","tians","tiars","tical","ticca","ticed","tices","tichy","ticks","ticky","tiddy","tided","tides","tiers","tiffs","tifos","tifts","tiges","tigon","tikas","tikes","tikis","tikka","tilak","tiled","tiler","tiles","tills","tilly","tilth","tilts","timbo","timed","times","timon","timps","tinas","tinct","tinds","tinea","tined","tines","tinge","tings","tinks","tinny","tints","tinty","tipis","tippy","tired","tires","tirls","tiros","tirrs","titch","titer","titis","titre","titty","titup","tiyin","tiyns","tizes","tizzy","toads","toady","toaze","tocks","tocky","tocos","todde","toeas","toffs","toffy","tofts","tofus","togae","togas","toged","toges","togue","tohos","toile","toils","toing","toise","toits","tokay","toked","toker","tokes","tokos","tolan","tolar","tolas","toled","toles","tolls","tolly","tolts","tolus","tolyl","toman","tombs","tomes","tomia","tommy","tomos","tondi","tondo","toned","toner","tones","toney","tongs","tonka","tonks","tonne","tonus","tools","tooms","toons","toots","toped","topee","topek","toper","topes","tophe","tophi","tophs","topis","topoi","topos","toppy","toque","torah","toran","toras","torcs","tores","toric","torii","toros","torot","torrs","torse","torsi","torsk","torta","torte","torts","tosas","tosed","toses","toshy","tossy","toted","toter","totes","totty","touks","touns","tours","touse","tousy","touts","touze","touzy","towed","towie","towns","towny","towse","towsy","towts","towze","towzy","toyed","toyer","toyon","toyos","tozed","tozes","tozie","trabs","trads","tragi","traik","trams","trank","tranq","trans","trant","trape","traps","trapt","trass","trats","tratt","trave","trayf","trays","treck","treed","treen","trees","trefa","treif","treks","trema","trems","tress","trest","trets","trews","treyf","treys","triac","tride","trier","tries","triff","trigo","trigs","trike","trild","trill","trims","trine","trins","triol","trior","trios","trips","tripy","trist","troad","troak","troat","trock","trode","trods","trogs","trois","troke","tromp","trona","tronc","trone","tronk","trons","trooz","troth","trots","trows","troys","trued","trues","trugo","trugs","trull","tryer","tryke","tryma","tryps","tsade","tsadi","tsars","tsked","tsuba","tsubo","tuans","tuart","tuath","tubae","tubar","tubas","tubby","tubed","tubes","tucks","tufas","tuffe","tuffs","tufts","tufty","tugra","tuile","tuina","tuism","tuktu","tules","tulpa","tulsi","tumid","tummy","tumps","tumpy","tunas","tunds","tuned","tuner","tunes","tungs","tunny","tupek","tupik","tuple","tuque","turds","turfs","turfy","turks","turme","turms","turns","turnt","turps","turrs","tushy","tusks","tusky","tutee","tutti","tutty","tutus","tuxes","tuyer","twaes","twain","twals","twank","twats","tways","tweel","tween","tweep","tweer","twerk","twerp","twier","twigs","twill","twilt","twink","twins","twiny","twire","twirp","twite","twits","twoer","twyer","tyees","tyers","tyiyn","tykes","tyler","tymps","tynde","tyned","tynes","typal","typed","types","typey","typic","typos","typps","typto","tyran","tyred","tyres","tyros","tythe","tzars","udals","udons","ugali","ugged","uhlan","uhuru","ukase","ulama","ulans","ulema","ulmin","ulnad","ulnae","ulnar","ulnas","ulpan","ulvas","ulyie","ulzie","umami","umbel","umber","umble","umbos","umbre","umiac","umiak","umiaq","ummah","ummas","ummed","umped","umphs","umpie","umpty","umrah","umras","unais","unapt","unarm","unary","unaus","unbag","unban","unbar","unbed","unbid","unbox","uncap","unces","uncia","uncos","uncoy","uncus","undam","undee","undos","undug","uneth","unfix","ungag","unget","ungod","ungot","ungum","unhat","unhip","unica","units","unjam","unked","unket","unkid","unlaw","unlay","unled","unlet","unlid","unman","unmew","unmix","unpay","unpeg","unpen","unpin","unred","unrid","unrig","unrip","unsaw","unsay","unsee","unsew","unsex","unsod","untax","untin","unwet","unwit","unwon","upbow","upbye","updos","updry","upend","upjet","uplay","upled","uplit","upped","upran","uprun","upsee","upsey","uptak","upter","uptie","uraei","urali","uraos","urare","urari","urase","urate","urbex","urbia","urdee","ureal","ureas","uredo","ureic","urena","urent","urged","urger","urges","urial","urite","urman","urnal","urned","urped","ursae","ursid","urson","urubu","urvas","users","usnea","usque","usure","usury","uteri","uveal","uveas","uvula","vacua","vaded","vades","vagal","vagus","vails","vaire","vairs","vairy","vakas","vakil","vales","valis","valse","vamps","vampy","vanda","vaned","vanes","vangs","vants","vaped","vaper","vapes","varan","varas","vardy","varec","vares","varia","varix","varna","varus","varve","vasal","vases","vasts","vasty","vatic","vatus","vauch","vaute","vauts","vawte","vaxes","veale","veals","vealy","veena","veeps","veers","veery","vegas","veges","vegie","vegos","vehme","veils","veily","veins","veiny","velar","velds","veldt","veles","vells","velum","venae","venal","vends","vendu","veney","venge","venin","vents","venus","verbs","verra","verry","verst","verts","vertu","vespa","vesta","vests","vetch","vexed","vexer","vexes","vexil","vezir","vials","viand","vibes","vibex","vibey","viced","vices","vichy","viers","views","viewy","vifda","viffs","vigas","vigia","vilde","viler","villi","vills","vimen","vinal","vinas","vinca","vined","viner","vines","vinew","vinic","vinos","vints","viold","viols","vired","vireo","vires","virga","virge","virid","virls","virtu","visas","vised","vises","visie","visne","vison","visto","vitae","vitas","vitex","vitro","vitta","vivas","vivat","vivda","viver","vives","vizir","vizor","vleis","vlies","vlogs","voars","vocab","voces","voddy","vodou","vodun","voema","vogie","voids","voile","voips","volae","volar","voled","voles","volet","volks","volta","volte","volti","volts","volva","volve","vomer","voted","votes","vouge","voulu","vowed","vower","voxel","vozhd","vraic","vrils","vroom","vrous","vrouw","vrows","vuggs","vuggy","vughs","vughy","vulgo","vulns","vulva","vutty","waacs","wacke","wacko","wacks","wadds","waddy","waded","wader","wades","wadge","wadis","wadts","waffs","wafts","waged","wages","wagga","wagyu","wahoo","waide","waifs","waift","wails","wains","wairs","waite","waits","wakas","waked","waken","waker","wakes","wakfs","waldo","walds","waled","waler","wales","walie","walis","walks","walla","walls","wally","walty","wamed","wames","wamus","wands","waned","wanes","waney","wangs","wanks","wanky","wanle","wanly","wanna","wants","wanty","wanze","waqfs","warbs","warby","wards","wared","wares","warez","warks","warms","warns","warps","warre","warst","warts","wases","washy","wasms","wasps","waspy","wasts","watap","watts","wauff","waugh","wauks","waulk","wauls","waurs","waved","waves","wavey","wawas","wawes","wawls","waxed","waxer","waxes","wayed","wazir","wazoo","weald","weals","weamb","weans","wears","webby","weber","wecht","wedel","wedgy","weeds","weeke","weeks","weels","weems","weens","weeny","weeps","weepy","weest","weete","weets","wefte","wefts","weids","weils","weirs","weise","weize","wekas","welds","welke","welks","welkt","wells","welly","welts","wembs","wends","wenge","wenny","wents","weros","wersh","wests","wetas","wetly","wexed","wexes","whamo","whams","whang","whaps","whare","whata","whats","whaup","whaur","wheal","whear","wheen","wheep","wheft","whelk","whelm","whens","whets","whews","wheys","whids","whift","whigs","whilk","whims","whins","whios","whips","whipt","whirr","whirs","whish","whiss","whist","whits","whity","whizz","whomp","whoof","whoot","whops","whore","whorl","whort","whoso","whows","whump","whups","whyda","wicca","wicks","wicky","widdy","wides","wiels","wifed","wifes","wifey","wifie","wifty","wigan","wigga","wiggy","wikis","wilco","wilds","wiled","wiles","wilga","wilis","wilja","wills","wilts","wimps","winds","wined","wines","winey","winge","wings","wingy","winks","winna","winns","winos","winze","wiped","wiper","wipes","wired","wirer","wires","wirra","wised","wises","wisha","wisht","wisps","wists","witan","wited","wites","withe","withs","withy","wived","wiver","wives","wizen","wizes","woads","woald","wocks","wodge","woful","wojus","woker","wokka","wolds","wolfs","wolly","wolve","wombs","womby","womyn","wonga","wongi","wonks","wonky","wonts","woods","wooed","woofs","woofy","woold","wools","woons","woops","woopy","woose","woosh","wootz","words","works","worms","wormy","worts","wowed","wowee","woxen","wrang","wraps","wrapt","wrast","wrate","wrawl","wrens","wrick","wried","wrier","wries","writs","wroke","wroot","wroth","wryer","wuddy","wudus","wulls","wurst","wuses","wushu","wussy","wuxia","wyled","wyles","wynds","wynns","wyted","wytes","xebec","xenia","xenic","xenon","xeric","xerox","xerus","xoana","xrays","xylan","xylem","xylic","xylol","xylyl","xysti","xysts","yaars","yabas","yabba","yabby","yacca","yacka","yacks","yaffs","yager","yages","yagis","yahoo","yaird","yakka","yakow","yales","yamen","yampy","yamun","yangs","yanks","yapok","yapon","yapps","yappy","yarak","yarco","yards","yarer","yarfa","yarks","yarns","yarrs","yarta","yarto","yates","yauds","yauld","yaups","yawed","yawey","yawls","yawns","yawny","yawps","ybore","yclad","ycled","ycond","ydrad","ydred","yeads","yeahs","yealm","yeans","yeard","years","yecch","yechs","yechy","yedes","yeeds","yeesh","yeggs","yelks","yells","yelms","yelps","yelts","yenta","yente","yerba","yerds","yerks","yeses","yesks","yests","yesty","yetis","yetts","yeuks","yeuky","yeven","yeves","yewen","yexed","yexes","yfere","yiked","yikes","yills","yince","yipes","yippy","yirds","yirks","yirrs","yirth","yites","yitie","ylems","ylike","ylkes","ymolt","ympes","yobbo","yobby","yocks","yodel","yodhs","yodle","yogas","yogee","yoghs","yogic","yogin","yogis","yoick","yojan","yoked","yokel","yoker","yokes","yokul","yolks","yolky","yomim","yomps","yonic","yonis","yonks","yoofs","yoops","yores","yorks","yorps","youks","yourn","yours","yourt","youse","yowed","yowes","yowie","yowls","yowza","yrapt","yrent","yrivd","yrneh","ysame","ytost","yuans","yucas","yucca","yucch","yucko","yucks","yucky","yufts","yugas","yuked","yukes","yukky","yukos","yulan","yules","yummo","yummy","yumps","yupon","yuppy","yurta","yurts","yuzus","zabra","zacks","zaida","zaidy","zaire","zakat","zaman","zambo","zamia","zanja","zante","zanza","zanze","zappy","zarfs","zaris","zatis","zaxes","zayin","zazen","zeals","zebec","zebub","zebus","zedas","zeins","zendo","zerda","zerks","zeros","zests","zetas","zexes","zezes","zhomo","zibet","ziffs","zigan","zilas","zilch","zilla","zills","zimbi","zimbs","zinco","zincs","zincy","zineb","zines","zings","zingy","zinke","zinky","zippo","zippy","ziram","zitis","zizel","zizit","zlote","zloty","zoaea","zobos","zobus","zocco","zoeae","zoeal","zoeas","zoism","zoist","zombi","zonae","zonda","zoned","zoner","zones","zonks","zooea","zooey","zooid","zooks","zooms","zoons","zooty","zoppa","zoppo","zoril","zoris","zorro","zouks","zowee","zowie","zulus","zupan","zupas","zuppa","zurfs","zuzim","zygal","zygon","zymes","zymic"]},Fe=6,kt=5,Wd=15,Us={...Eo,contains:s=>Eo.words.includes(s)||Eo.valid.includes(s)};let Sb=class{constructor(){ee(this,"value");ee(this,"notSet");this.notSet=new Set}not(e){this.notSet.add(e)}};class Rb{constructor(){ee(this,"letterCounts");ee(this,"notSet");ee(this,"word");this.notSet=new Set,this.letterCounts=new Map,this.word=[];for(let e=0;e<kt;++e)this.word.push(new Sb)}confirmCount(e){let t=this.letterCounts.get(e);t?t[1]=!0:this.not(e)}countConfirmed(e){const t=this.letterCounts.get(e);return t?t[1]:!1}setCount(e,t){let n=this.letterCounts.get(e);n?n[0]=t:this.letterCounts.set(e,[t,!1])}incrementCount(e){++this.letterCounts.get(e)[0]}not(e){this.notSet.add(e)}inGlobalNotList(e){return this.notSet.has(e)}lettersNotAt(e){return new Set([...this.notSet,...this.word[e].notSet])}}function Cb(s,e){const t=new Rb;for(let r=0;r<s;++r){const i=new Set;for(let o=0;o<kt;++o){const u=e.state[r][o],l=e.words[r][o];if(u===""){t.confirmCount(l),t.inGlobalNotList(l)||t.word[o].not(l);continue}i.has(l)?t.incrementCount(l):t.countConfirmed(l)||(i.add(l),t.setCount(l,1)),u===""?t.word[o].value=l:t.word[o].not(l)}}let n="";for(let r=0;r<t.word.length;++r)n+=t.word[r].value?t.word[r].value:`[^${[...t.lettersNotAt(r)].join(" ")}]`;return r=>{if(new RegExp(n).test(r)){const i=r.split("");for(const o of t.letterCounts){const u=Pb(i,o[0]);if(!u||o[1][1]&&u!==o[1][0])return!1}return!0}return!1}}function Pb(s,e){return s.reduce((t,n)=>n===e?t+1:t,0)}function Vb(s){switch(s%10){case 1:return`${s}st`;case 2:return`${s}nd`;case 3:return`${s}rd`;default:return`${s}th`}}const on=["qwertyuiop","asdfghjkl","zxcvbnm"];function _n(s,e){const t=e??Date.now();switch(s){case rt.daily:return Date.UTC(1970,0,1+Math.floor((t-new Date().getTimezoneOffset()*Xe.MINUTE)/Xe.DAY));case rt.hourly:return t-t%Xe.HOUR;case rt.infinite:return t-t%Xe.SECOND}}const pe={default:rt.daily,modes:[{name:"Daily",unit:Xe.DAY,start:16423704e5,seed:_n(rt.daily),historical:!1,streak:!0,useTimeZone:!0},{name:"Hourly",unit:Xe.HOUR,start:16425288e5,seed:_n(rt.hourly),historical:!1,icon:"m50,7h100v33c0,40 -35,40 -35,60c0,20 35,20 35,60v33h-100v-33c0,-40 35,-40 35,-60c0,-20 -35,-20 -35,-60z",streak:!0},{name:"Infinite",unit:Xe.SECOND,start:16424286e5,seed:_n(rt.infinite),historical:!1,icon:"m7,100c0,-50 68,-50 93,0c25,50 93,50 93,0c0,-50 -68,-50 -93,0c-25,50 -93,50 -93,0z"},{name:"Session",unit:0,start:0,seed:0,historical:!1,icon:"m20,20h160v20h-160zm0,40h160v20h-160zm0,40h160v20h-160zm0,40h160v20h-160z",sessionId:""}]};function Ws(s,e){const t=e?_n(s):pe.modes[s].seed;return Math.round((t-pe.modes[s].start)/pe.modes[s].unit)+1}function Gd(s,e,t){const n=Ab(`${t}`);return Math.floor(s+(e-s)*n())}const Ut=200,Go=["Genius","Magnificent","Impressive","Splendid","Great","Phew"];class Bi{toString(){return JSON.stringify(this)}}var bn,wr;class Ko extends Bi{constructor(t,n){super();ee(this,"active");ee(this,"guesses");ee(this,"validHard");ee(this,"time");ee(this,"wordNumber");ee(this,"board");Yn(this,bn,!1);Yn(this,wr,void 0);ys(this,wr,t),n&&this.parse(n),Os(this,bn)||(this.active=!0,this.guesses=0,this.validHard=!0,this.time=pe.modes[t].seed,this.wordNumber=Ws(t),this.board={words:Array(Fe).fill(""),state:Array.from({length:Fe},()=>Array(kt).fill(""))},ys(this,bn,!0))}get latestWord(){return this.board.words[this.guesses]}get lastState(){return this.board.state[this.guesses-1]}get lastWord(){return this.board.words[this.guesses-1]}checkHardMode(){for(let t=0;t<kt;++t)if(this.board.state[this.guesses-1][t]===""&&this.board.words[this.guesses-1][t]!==this.board.words[this.guesses][t])return{pos:t,char:this.board.words[this.guesses-1][t],type:""};for(let t=0;t<kt;++t)if(this.board.state[this.guesses-1][t]===""&&!this.board.words[this.guesses].includes(this.board.words[this.guesses-1][t]))return{pos:t,char:this.board.words[this.guesses-1][t],type:""};return{pos:-1,char:"",type:""}}guess(t){const n=t.split(""),r=Array(kt).fill("");for(let i=0;i<kt;++i)n[i]===this.latestWord.charAt(i)&&(r[i]="",n[i]="$");for(let i=0;i<kt;++i){const o=n.indexOf(this.latestWord[i]);r[i]!==""&&o>=0&&(n[o]="$",r[i]="")}return r}parse(t){const n=JSON.parse(t);n.wordNumber===Ws(Os(this,wr))&&(this.active=n.active,this.guesses=n.guesses,this.validHard=n.validHard,this.time=n.time,this.wordNumber=n.wordNumber,this.board=n.board,ys(this,bn,!0))}}bn=new WeakMap,wr=new WeakMap;let Kd=class extends Bi{constructor(t){super();ee(this,"hard",new Array(pe.modes.length).fill(!1));ee(this,"dark",!0);ee(this,"colorblind",!1);ee(this,"tutorial",3);if(t){const n=JSON.parse(t);this.hard=n.hard,this.dark=n.dark,this.colorblind=n.colorblind,this.tutorial=n.tutorial}}};var bs;class Db extends Bi{constructor(t){super();ee(this,"played",0);ee(this,"lastGame",0);ee(this,"guesses",{fail:0,1:0,2:0,3:0,4:0,5:0,6:0});ee(this,"streak");ee(this,"maxStreak");Yn(this,bs,!1);typeof t=="string"?this.parse(t):pe.modes[t].streak&&(this.streak=0,this.maxStreak=0,ys(this,bs,!0))}parse(t){const n=JSON.parse(t);this.played=n.played,this.lastGame=n.lastGame,this.guesses=n.guesses,n.streak!=null&&(this.streak=n.streak,this.maxStreak=n.maxStreak,ys(this,bs,!0))}addWin(t,n){++this.guesses[t],++this.played,Os(this,bs)&&(this.streak=n.seed-this.lastGame>n.unit?1:this.streak+1,this.maxStreak=Math.max(this.streak,this.maxStreak)),this.lastGame=n.seed}addLoss(t){++this.guesses.fail,++this.played,Os(this,bs)&&(this.streak=0),this.lastGame=t.seed}get hasStreak(){return Os(this,bs)}}bs=new WeakMap;class _r{constructor(e){ee(this,"a","");ee(this,"b","");ee(this,"c","");ee(this,"d","");ee(this,"e","");ee(this,"f","");ee(this,"g","");ee(this,"h","");ee(this,"i","");ee(this,"j","");ee(this,"k","");ee(this,"l","");ee(this,"m","");ee(this,"n","");ee(this,"o","");ee(this,"p","");ee(this,"q","");ee(this,"r","");ee(this,"s","");ee(this,"t","");ee(this,"u","");ee(this,"v","");ee(this,"w","");ee(this,"x","");ee(this,"y","");ee(this,"z","");if(e)for(let t=0;t<Fe;++t)for(let n=0;n<e.words[t].length;++n)(this[e.words[t][n]]===""||e.state[t][n]==="")&&(this[e.words[t][n]]=e.state[t][n])}update(e,t){e.forEach((n,r)=>{(this[t[r]]===""||n==="")&&(this[t[r]]=n)})}}function Qo(s){return s.useTimeZone?s.unit-(Date.now()-(s.seed+new Date().getTimezoneOffset()*Xe.MINUTE)):s.unit-(Date.now()-s.seed)}function Xo(s){return!(s.active||s.guesses>0&&s.board.state[s.guesses-1].join("")==="".repeat(kt))}var wn;class Nb extends Bi{constructor(t,n){super();ee(this,"sessionId");ee(this,"currentWordIndex");ee(this,"completed");ee(this,"startTime");ee(this,"endTime");ee(this,"wordResults");ee(this,"currentWord");ee(this,"currentHint");ee(this,"currentWordLength");ee(this,"board");ee(this,"guesses");ee(this,"active");Yn(this,wn,!1);this.sessionId=t,n&&this.parse(n),Os(this,wn)||(this.currentWordIndex=0,this.completed=!1,this.startTime=Date.now(),this.wordResults=[],this.currentWord="",this.currentHint="",this.currentWordLength=0,this.board={words:Array(Fe).fill(""),state:Array.from({length:Fe},()=>Array(Wd).fill(""))},this.guesses=0,this.active=!0,ys(this,wn,!0))}get latestWord(){return this.board.words[this.guesses]}get lastState(){return this.board.state[this.guesses-1]}get lastWord(){return this.board.words[this.guesses-1]}guess(t,n){const r=t.split(""),i=n.split(""),o=Array(t.length).fill("");for(let u=0;u<t.length;++u)r[u]===i[u]&&(o[u]="",r[u]="$",i[u]="$");for(let u=0;u<t.length;++u)if(o[u]!==""){const l=i.indexOf(r[u]);l>=0&&(i[l]="$",o[u]="")}return o}parse(t){try{const n=JSON.parse(t);this.sessionId=n.sessionId,this.currentWordIndex=n.currentWordIndex,this.completed=n.completed,this.startTime=n.startTime,this.endTime=n.endTime,this.wordResults=n.wordResults||[],this.currentWord=n.currentWord||"",this.currentHint=n.currentHint||"",this.currentWordLength=n.currentWordLength||0,this.board=n.board,this.guesses=n.guesses,this.active=n.active,ys(this,wn,!0)}catch{}}}wn=new WeakMap;function zb(s){return s.length>=3&&s.length<=Wd&&/^[a-zA-Z]+$/.test(s)}const Ct=class Ct{constructor(e,t=Ct.noop){ee(this,"stop");ee(this,"start");ee(this,"value");ee(this,"subscribers");this.subscribers=new Set,this.start=t,this.value=e}set(e,t=!1){if((t||Ct.safe_not_equal(this.value,e))&&(this.value=e,stop)){const n=!Ct.subscriber_queue.length;for(const r of this.subscribers)r[1](),Ct.subscriber_queue.push(r,this.value);if(n){for(let r=0;r<Ct.subscriber_queue.length;r+=2)Ct.subscriber_queue[r][0](Ct.subscriber_queue[r+1]);Ct.subscriber_queue.length=0}}}update(e){this.set(e(this.value))}subscribe(e,t=Ct.noop){const n=[e,t];return this.subscribers.add(n),this.subscribers.size===1&&(this.stop=this.start(this.set)||Ct.noop),e(this.value),()=>{this.subscribers.delete(n),this.subscribers.size===0&&(this.stop(),this.stop=null)}}static safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}static noop(){return null}};ee(Ct,"subscriber_queue",[]);let Yo=Ct;const Ue=new Yo,ns=Bd(new _r),Ot=Bd(new Kd);function Mb(s){let e,t,n;return{c(){e=N("div"),e.innerHTML=`share
	<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path fill="white" d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"></path></svg>`,D(e,"class","svelte-gyq5p4")},m(r,i){j(r,e,i),t||(n=[ce(e,"click",s[0]),ce(e,"keydown",s[0])],t=!0)},p:ae,i:ae,o:ae,d(r){r&&L(e),t=!1,$e(n)}}}function Ob(s,e,t){let n;At(s,Ue,u=>t(2,n=u));let{state:r}=e;const i=Dn("toaster");function o(){navigator.clipboard.writeText(`${pe.modes[n].name} Wordle+ #${r.wordNumber} ${Xo(r)?"X":r.guesses}/${r.board.words.length}

    ${r.board.state.slice(0,r.guesses).map(u=>u.join("")).join(`
    `)}
mikhad.github.io/wordle`),i.pop("Copied")}return s.$$set=u=>{"state"in u&&t(1,r=u.state)},[o,r]}class xb extends Ne{constructor(e){super(),De(this,e,Ob,Mb,Se,{state:1})}}function Lb(s){let e,t,n,r,i,o,u;return{c(){e=N("div"),t=N("div"),n=H(s[0]),r=$(),i=N("div"),o=H(s[0]),D(t,"class","front svelte-frmspd"),D(i,"class","back svelte-frmspd"),D(e,"data-animation",s[5]),D(e,"class",u="tile "+s[1]+" "+s[3]+" svelte-frmspd"),Pt(e,"transition-delay",s[2]*Ut+"ms"),Re(e,"value",s[0]),Re(e,"pop",s[4])},m(l,c){j(l,e,c),E(e,t),E(t,n),E(e,r),E(e,i),E(i,o)},p(l,[c]){c&1&&ue(n,l[0]),c&1&&ue(o,l[0]),c&32&&D(e,"data-animation",l[5]),c&10&&u!==(u="tile "+l[1]+" "+l[3]+" svelte-frmspd")&&D(e,"class",u),c&4&&Pt(e,"transition-delay",l[2]*Ut+"ms"),c&11&&Re(e,"value",l[0]),c&26&&Re(e,"pop",l[4])},i:ae,o:ae,d(l){l&&L(e)}}}function jb(s,e,t){let{value:n=""}=e,{state:r}=e,{position:i=0}=e;function o(){setTimeout(()=>t(5,c="bounce"),(Fe+i)*Ut)}let u,l=!1,c="";const h=Ue.subscribe(()=>{t(5,c=""),t(3,u=""),setTimeout(()=>t(3,u=""),10)});return setTimeout(()=>t(4,l=!0),200),sh(h),s.$$set=f=>{"value"in f&&t(0,n=f.value),"state"in f&&t(1,r=f.state),"position"in f&&t(2,i=f.position)},s.$$.update=()=>{s.$$.dirty&1&&!n&&t(5,c="")},[n,r,i,u,l,c,o]}class gt extends Ne{constructor(e){super(),De(this,e,jb,Lb,Se,{value:0,state:1,position:2,bounce:6})}get bounce(){return this.$$.ctx[6]}}function rc(s,e,t){const n=s.slice();return n[16]=e[t],n[17]=e,n[18]=t,n}function ic(s){let e,t=s[18],n;const r=()=>s[11](e,t),i=()=>s[11](null,t);let o={state:s[3][s[18]],value:s[2].charAt(s[18]),position:s[18]};return e=new gt({props:o}),r(),{c(){ne(e.$$.fragment)},m(u,l){te(e,u,l),n=!0},p(u,l){t!==u[18]&&(i(),t=u[18],r());const c={};l&8&&(c.state=u[3][u[18]]),l&4&&(c.value=u[2].charAt(u[18])),e.$set(c)},i(u){n||(U(e.$$.fragment,u),n=!0)},o(u){B(e.$$.fragment,u),n=!1},d(u){i(),se(e,u)}}}function Fb(s){let e,t,n,r,i=Array(s[6]),o=[];for(let l=0;l<i.length;l+=1)o[l]=ic(rc(s,i,l));const u=l=>B(o[l],1,1,()=>{o[l]=null});return{c(){e=N("div");for(let l=0;l<o.length;l+=1)o[l].c();D(e,"class","board-row svelte-ssibky"),D(e,"data-animation",s[4]),Re(e,"complete",s[0]>s[1])},m(l,c){j(l,e,c);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(e,null);t=!0,n||(r=[ce(e,"contextmenu",ti(s[12])),ce(e,"dblclick",ti(s[13])),ce(e,"touchstart",s[8]),ce(e,"animationend",s[14])],n=!0)},p(l,[c]){if(c&108){i=Array(l[6]);let h;for(h=0;h<i.length;h+=1){const f=rc(l,i,h);o[h]?(o[h].p(f,c),U(o[h],1)):(o[h]=ic(f),o[h].c(),U(o[h],1),o[h].m(e,null))}for(Je(),h=i.length;h<o.length;h+=1)u(h);Ze()}(!t||c&16)&&D(e,"data-animation",l[4]),(!t||c&3)&&Re(e,"complete",l[0]>l[1])},i(l){if(!t){for(let c=0;c<i.length;c+=1)U(o[c]);t=!0}},o(l){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)B(o[c]);t=!1},d(l){l&&L(e),Lt(o,l),n=!1,$e(r)}}}const $b=400;function Ub(s,e,t){let n,{guesses:r}=e,{num:i}=e,{value:o=""}=e,{state:u}=e;function l(){t(4,f="shake")}function c(){m.forEach(V=>V.bounce())}const h=Qt();let f="",m=[],g=0;function _(V){Date.now()-g<=$b?(V.preventDefault(),h("ctx",{x:V.changedTouches[0].clientX,y:V.changedTouches[0].clientY})):g=Date.now()}function I(V,z){Pe[V?"unshift":"push"](()=>{m[z]=V,t(5,m)})}const k=V=>h("ctx",{x:V.clientX,y:V.clientY}),S=V=>h("ctx",{x:V.clientX,y:V.clientY}),C=()=>t(4,f="");return s.$$set=V=>{"guesses"in V&&t(0,r=V.guesses),"num"in V&&t(1,i=V.num),"value"in V&&t(2,o=V.value),"state"in V&&t(3,u=V.state)},s.$$.update=()=>{s.$$.dirty&8&&t(6,n=u.length||kt)},[r,i,o,u,f,m,n,h,_,l,c,I,k,S,C]}class qb extends Ne{constructor(e){super(),De(this,e,Ub,Fb,Se,{guesses:0,num:1,value:2,state:3,shake:9,bounce:10})}get shake(){return this.$$.ctx[9]}get bounce(){return this.$$.ctx[10]}}function Bb(s){let e,t,n=s[3]>1?"are":"is",r,i,o,u,l,c,h,f=s[3]>1?"s":"",m,g,_,I,k,S,C=s[4]>1?"es":"",V;return{c(){e=N("div"),t=H("Considering all hints, there "),r=H(n),i=H(`:
			`),o=N("br"),u=N("br"),l=$(),c=H(s[3]),h=H(" possible answer"),m=H(f),g=$(),_=N("br"),I=$(),k=H(s[4]),S=H(" valid guess"),V=H(C)},m(z,O){j(z,e,O),E(e,t),E(e,r),E(e,i),E(e,o),E(e,u),E(e,l),E(e,c),E(e,h),E(e,m),E(e,g),E(e,_),E(e,I),E(e,k),E(e,S),E(e,V)},p(z,O){O&8&&n!==(n=z[3]>1?"are":"is")&&ue(r,n),O&8&&ue(c,z[3]),O&8&&f!==(f=z[3]>1?"s":"")&&ue(m,f),O&16&&ue(k,z[4]),O&16&&C!==(C=z[4]>1?"es":"")&&ue(V,C)},i:ae,o:ae,d(z){z&&L(e)}}}function Hb(s){let e,t,n,r,i,o,u,l=s[3]>1?"s":"",c,h,f,m,g,_,I=s[4]>1?"es":"",k,S,C,V;return C=new qd({props:{word:s[2],alternates:1}}),{c(){e=N("div"),t=H(`Considering all hints, this row had:
			`),n=N("br"),r=N("br"),i=$(),o=H(s[3]),u=H(" possible answer"),c=H(l),h=$(),f=N("br"),m=$(),g=H(s[4]),_=H(" valid guess"),k=H(I),S=$(),ne(C.$$.fragment)},m(z,O){j(z,e,O),E(e,t),E(e,n),E(e,r),E(e,i),E(e,o),E(e,u),E(e,c),E(e,h),E(e,f),E(e,m),E(e,g),E(e,_),E(e,k),j(z,S,O),te(C,z,O),V=!0},p(z,O){(!V||O&8)&&ue(o,z[3]),(!V||O&8)&&l!==(l=z[3]>1?"s":"")&&ue(c,l),(!V||O&16)&&ue(g,z[4]),(!V||O&16)&&I!==(I=z[4]>1?"es":"")&&ue(k,I);const F={};O&4&&(F.word=z[2]),C.$set(F)},i(z){V||(U(C.$$.fragment,z),V=!0)},o(z){B(C.$$.fragment,z),V=!1},d(z){z&&L(e),z&&L(S),se(C,z)}}}function Wb(s){let e,t,n,r;const i=[Hb,Bb],o=[];function u(l,c){return l[2]!==""?0:1}return t=u(s),n=o[t]=i[t](s),{c(){e=N("div"),n.c(),D(e,"class","ctx-menu svelte-uw0qlf"),Pt(e,"top",s[1]+"px"),Pt(e,"left",s[0]+"px")},m(l,c){j(l,e,c),o[t].m(e,null),r=!0},p(l,[c]){let h=t;t=u(l),t===h?o[t].p(l,c):(Je(),B(o[h],1,1,()=>{o[h]=null}),Ze(),n=o[t],n?n.p(l,c):(n=o[t]=i[t](l),n.c()),U(n,1),n.m(e,null)),(!r||c&2)&&Pt(e,"top",l[1]+"px"),(!r||c&1)&&Pt(e,"left",l[0]+"px")},i(l){r||(U(n),r=!0)},o(l){B(n),r=!1},d(l){l&&L(e),o[t].d()}}}function Gb(s,e,t){let{x:n=0}=e,{y:r=0}=e,{word:i=""}=e,{pAns:o}=e,{pSols:u}=e;const l=+getComputedStyle(document.body).getPropertyValue("--game-width")/2;return s.$$set=c=>{"x"in c&&t(0,n=c.x),"y"in c&&t(1,r=c.y),"word"in c&&t(2,i=c.word),"pAns"in c&&t(3,o=c.pAns),"pSols"in c&&t(4,u=c.pSols)},s.$$.update=()=>{s.$$.dirty&1&&t(0,n=window.innerWidth-n<l?window.innerWidth-l:n)},[n,r,i,o,u]}class Kb extends Ne{constructor(e){super(),De(this,e,Gb,Wb,Se,{x:0,y:1,word:2,pAns:3,pSols:4})}}function Qb(s){const e=s-1;return e*e*e+1}function Cn(s,{delay:e=0,duration:t=400,easing:n=Ri}={}){const r=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*r}`}}function Ai(s,{delay:e=0,duration:t=400,easing:n=Qb,start:r=0,opacity:i=0}={}){const o=getComputedStyle(s),u=+o.opacity,l=o.transform==="none"?"":o.transform,c=1-r,h=u*(1-i);return{delay:e,duration:t,easing:n,css:(f,m)=>`
			transform: ${l} scale(${1-c*m});
			opacity: ${u-h*m}
		`}}function oc(s,e,t){const n=s.slice();return n[28]=e[t],n[29]=e,n[30]=t,n}function ac(s){let e,t;return e=new Kb({props:{pAns:s[7],pSols:s[8],x:s[9],y:s[10],word:s[11]}}),{c(){ne(e.$$.fragment)},m(n,r){te(e,n,r),t=!0},p(n,r){const i={};r&128&&(i.pAns=n[7]),r&256&&(i.pSols=n[8]),r&512&&(i.x=n[9]),r&1024&&(i.y=n[10]),r&2048&&(i.word=n[11]),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function lc(s){let e,t=s[30],n,r;const i=()=>s[20](e,t),o=()=>s[20](null,t);function u(h){s[21](h,s[30])}function l(...h){return s[22](s[30],...h)}let c={num:s[30],guesses:s[2],state:s[1].state[s[30]]};return s[0][s[30]]!==void 0&&(c.value=s[0][s[30]]),e=new qb({props:c}),i(),Pe.push(()=>He(e,"value",u)),e.$on("ctx",l),{c(){ne(e.$$.fragment)},m(h,f){te(e,h,f),r=!0},p(h,f){s=h,t!==s[30]&&(o(),t=s[30],i());const m={};f&4&&(m.guesses=s[2]),f&2&&(m.state=s[1].state[s[30]]),!n&&f&1&&(n=!0,m.value=s[0][s[30]],Ge(()=>n=!1)),e.$set(m)},i(h){r||(U(e.$$.fragment,h),r=!0)},o(h){B(e.$$.fragment,h),r=!1},d(h){o(),se(e,h)}}}function uc(s){let e,t;return{c(){e=ut("svg"),t=ut("path"),D(t,"d",s[3]),D(t,"stroke-width","14"),D(t,"class","svelte-aomcqy"),D(e,"xmlns","http://www.w3.org/2000/svg"),D(e,"viewBox","0 0 200 200"),D(e,"fill","none"),D(e,"class","svelte-aomcqy")},m(n,r){j(n,e,r),E(e,t)},p(n,r){r&8&&D(t,"d",n[3])},d(n){n&&L(e)}}}function cc(s){let e,t,n,r,i;return{c(){e=N("div"),e.innerHTML=`double tap a row to see a word&#39;s definition, or how many words can be played there
			<span class="ok">OK</span>`,D(e,"class","tutorial svelte-aomcqy")},m(o,u){j(o,e,u),n=!0,r||(i=[ce(e,"click",s[23]),ce(e,"keydown",s[24])],r=!0)},p:ae,i(o){n||(Vt(()=>{n&&(t||(t=Is(e,Ai,{},!0)),t.run(1))}),n=!0)},o(o){t||(t=Is(e,Ai,{},!1)),t.run(0),n=!1},d(o){o&&L(e),o&&t&&t.end(),r=!1,$e(i)}}}function Xb(s){let e,t,n,r,i,o,u,l=s[6]&&ac(s),c=s[0],h=[];for(let _=0;_<c.length;_+=1)h[_]=lc(oc(s,c,_));const f=_=>B(h[_],1,1,()=>{h[_]=null});let m=s[3]&&uc(s),g=s[4]&&cc(s);return{c(){l&&l.c(),e=$(),t=N("div");for(let _=0;_<h.length;_+=1)h[_].c();n=$(),m&&m.c(),r=$(),g&&g.c(),D(t,"class","board svelte-aomcqy")},m(_,I){l&&l.m(_,I),j(_,e,I),j(_,t,I);for(let k=0;k<h.length;k+=1)h[k]&&h[k].m(t,null);E(t,n),m&&m.m(t,null),E(t,r),g&&g.m(t,null),i=!0,o||(u=[ce(t,"touchstart",s[14]),ce(t,"touchend",s[15]),ce(t,"touchmove",ti(s[19]))],o=!0)},p(_,[I]){if(_[6]?l?(l.p(_,I),I&64&&U(l,1)):(l=ac(_),l.c(),U(l,1),l.m(e.parentNode,e)):l&&(Je(),B(l,1,1,()=>{l=null}),Ze()),I&8231){c=_[0];let k;for(k=0;k<c.length;k+=1){const S=oc(_,c,k);h[k]?(h[k].p(S,I),U(h[k],1)):(h[k]=lc(S),h[k].c(),U(h[k],1),h[k].m(t,n))}for(Je(),k=c.length;k<h.length;k+=1)f(k);Ze()}_[3]?m?m.p(_,I):(m=uc(_),m.c(),m.m(t,r)):m&&(m.d(1),m=null),_[4]?g?(g.p(_,I),I&16&&U(g,1)):(g=cc(_),g.c(),U(g,1),g.m(t,null)):g&&(Je(),B(g,1,1,()=>{g=null}),Ze())},i(_){if(!i){U(l);for(let I=0;I<c.length;I+=1)U(h[I]);U(g),i=!0}},o(_){B(l),h=h.filter(Boolean);for(let I=0;I<h.length;I+=1)B(h[I]);B(g),i=!1},d(_){l&&l.d(_),_&&L(e),_&&L(t),Lt(h,_),m&&m.d(),g&&g.d(),o=!1,$e(u)}}}const Yb=120,Jb=100,Zb=300;function ew(s,e,t){let{value:n}=e,{board:r}=e,{guesses:i}=e,{icon:o}=e,{tutorial:u}=e;function l(Q){m[Q].shake()}function c(Q){m[Q].bounce()}function h(Q){(!Q||!Q.defaultPrevented)&&t(6,g=!1)}const f=Qt();let m=[],g=!1,_=0,I=0,k=0,S=0,C="";function V(Q,fe,_e,Y){if(i>=_e){t(9,k=Q),t(10,S=fe),t(6,g=!0),t(11,C=i>_e?Y:"");const W=Cb(_e,r);t(7,_=Us.words.filter(le=>W(le)).length),t(8,I=_+Us.valid.filter(le=>W(le)).length)}}let z,O,F;function v(Q){z=Q.changedTouches[0].pageX,O=Q.changedTouches[0].pageY,F=Date.now()}function y(Q){let fe=Q.changedTouches[0].clientX-z,_e=Q.changedTouches[0].clientY-O;Date.now()-F>Zb||Math.abs(fe)>=Yb&&Math.abs(_e)<Jb&&f("swipe",{direction:fe<0?"left":"right"})}function w(Q){Of.call(this,s,Q)}function T(Q,fe){Pe[Q?"unshift":"push"](()=>{m[fe]=Q,t(5,m)})}function A(Q,fe){s.$$.not_equal(n[fe],Q)&&(n[fe]=Q,t(0,n))}const P=(Q,fe)=>V(fe.detail.x,fe.detail.y,Q,n[Q]),R=()=>f("closeTutPopUp"),he=()=>f("closeTutPopUp");return s.$$set=Q=>{"value"in Q&&t(0,n=Q.value),"board"in Q&&t(1,r=Q.board),"guesses"in Q&&t(2,i=Q.guesses),"icon"in Q&&t(3,o=Q.icon),"tutorial"in Q&&t(4,u=Q.tutorial)},[n,r,i,o,u,m,g,_,I,k,S,C,f,V,v,y,l,c,h,w,T,A,P,R,he]}class Qd extends Ne{constructor(e){super(),De(this,e,ew,Xb,Se,{value:0,board:1,guesses:2,icon:3,tutorial:4,shake:16,bounce:17,hideCtx:18})}get shake(){return this.$$.ctx[16]}get bounce(){return this.$$.ctx[17]}get hideCtx(){return this.$$.ctx[18]}}function tw(s){let e,t,n,r,i,o,u,l,c,h,f,m,g,_,I,k,S,C,V,z,O,F,v,y,w,T,A,P,R,he,Q,fe,_e,Y,W,le,ze,Ie,we,X,J,St,Ce,ht,Et,Ke,re,it,be,Me,zt,Tt,ds,Xt,Yt,fs,Jt;return C=new gt({props:{value:"w",state:""}}),z=new gt({props:{value:"e",state:""}}),F=new gt({props:{value:"a",state:""}}),y=new gt({props:{value:"r",state:""}}),T=new gt({props:{value:"y",state:""}}),Q=new gt({props:{value:"p",state:""}}),_e=new gt({props:{value:"i",state:""}}),W=new gt({props:{value:"l",state:""}}),ze=new gt({props:{value:"l",state:""}}),we=new gt({props:{value:"s",state:""}}),ht=new gt({props:{value:"v",state:""}}),Ke=new gt({props:{value:"a",state:""}}),it=new gt({props:{value:"g",state:""}}),Me=new gt({props:{value:"u",state:""}}),Tt=new gt({props:{value:"e",state:""}}),{c(){e=N("h3"),e.textContent="how to play",t=$(),n=N("div"),r=H("Guess the "),i=N("strong"),i.textContent="WORDLE",o=H(" in "),u=H(Fe),l=H(" tries."),c=$(),h=N("div"),h.textContent=`Each guess must be a valid ${kt} letter word. Hit the enter button to submit.`,f=$(),m=N("div"),m.textContent=`After each guess, the color of the tiles will change to show how close your guess was to the
	word.`,g=$(),_=N("div"),I=N("div"),I.innerHTML="<strong>Examples</strong>",k=$(),S=N("div"),ne(C.$$.fragment),V=$(),ne(z.$$.fragment),O=$(),ne(F.$$.fragment),v=$(),ne(y.$$.fragment),w=$(),ne(T.$$.fragment),A=$(),P=N("div"),P.innerHTML="The letter <strong>W</strong> is in the word and in the correct spot.",R=$(),he=N("div"),ne(Q.$$.fragment),fe=$(),ne(_e.$$.fragment),Y=$(),ne(W.$$.fragment),le=$(),ne(ze.$$.fragment),Ie=$(),ne(we.$$.fragment),X=$(),J=N("div"),J.innerHTML="The letter <strong>I</strong> is in the word but in the wrong spot.",St=$(),Ce=N("div"),ne(ht.$$.fragment),Et=$(),ne(Ke.$$.fragment),re=$(),ne(it.$$.fragment),be=$(),ne(Me.$$.fragment),zt=$(),ne(Tt.$$.fragment),ds=$(),Xt=N("div"),Xt.innerHTML="The letter <strong>U</strong> is not in the word in any spot.",Yt=$(),fs=N("div"),fs.innerHTML=`This is a recreation of the original <a href="https://www.nytimes.com/games/wordle/" target="_blank" rel="noreferrer">Wordle</a>
	by Josh Wardle with additional modes and features, allowing you to play infinite wordles. Switch
	to infinite mode to play an unlimited number of times.
	<br/><br/>
	Open the settings menu to see some of the additional features.
	<br/>
	Written with Svelte, in Typescript by
	<a href="https://github.com/MikhaD" target="_blank" rel="noreferrer">MikhaD</a>.`,D(n,"class","svelte-6daei"),D(h,"class","svelte-6daei"),D(m,"class","svelte-6daei"),D(I,"class","svelte-6daei"),D(S,"class","row svelte-6daei"),D(P,"class","svelte-6daei"),D(he,"class","row svelte-6daei"),D(J,"class","svelte-6daei"),D(Ce,"class","row svelte-6daei"),D(Xt,"class","svelte-6daei"),D(_,"class","examples svelte-6daei"),Re(_,"complete",s[0]),D(fs,"class","svelte-6daei")},m(ie,bt){j(ie,e,bt),j(ie,t,bt),j(ie,n,bt),E(n,r),E(n,i),E(n,o),E(n,u),E(n,l),j(ie,c,bt),j(ie,h,bt),j(ie,f,bt),j(ie,m,bt),j(ie,g,bt),j(ie,_,bt),E(_,I),E(_,k),E(_,S),te(C,S,null),E(S,V),te(z,S,null),E(S,O),te(F,S,null),E(S,v),te(y,S,null),E(S,w),te(T,S,null),E(_,A),E(_,P),E(_,R),E(_,he),te(Q,he,null),E(he,fe),te(_e,he,null),E(he,Y),te(W,he,null),E(he,le),te(ze,he,null),E(he,Ie),te(we,he,null),E(_,X),E(_,J),E(_,St),E(_,Ce),te(ht,Ce,null),E(Ce,Et),te(Ke,Ce,null),E(Ce,re),te(it,Ce,null),E(Ce,be),te(Me,Ce,null),E(Ce,zt),te(Tt,Ce,null),E(_,ds),E(_,Xt),j(ie,Yt,bt),j(ie,fs,bt),Jt=!0},p(ie,[bt]){(!Jt||bt&1)&&Re(_,"complete",ie[0])},i(ie){Jt||(U(C.$$.fragment,ie),U(z.$$.fragment,ie),U(F.$$.fragment,ie),U(y.$$.fragment,ie),U(T.$$.fragment,ie),U(Q.$$.fragment,ie),U(_e.$$.fragment,ie),U(W.$$.fragment,ie),U(ze.$$.fragment,ie),U(we.$$.fragment,ie),U(ht.$$.fragment,ie),U(Ke.$$.fragment,ie),U(it.$$.fragment,ie),U(Me.$$.fragment,ie),U(Tt.$$.fragment,ie),Jt=!0)},o(ie){B(C.$$.fragment,ie),B(z.$$.fragment,ie),B(F.$$.fragment,ie),B(y.$$.fragment,ie),B(T.$$.fragment,ie),B(Q.$$.fragment,ie),B(_e.$$.fragment,ie),B(W.$$.fragment,ie),B(ze.$$.fragment,ie),B(we.$$.fragment,ie),B(ht.$$.fragment,ie),B(Ke.$$.fragment,ie),B(it.$$.fragment,ie),B(Me.$$.fragment,ie),B(Tt.$$.fragment,ie),Jt=!1},d(ie){ie&&L(e),ie&&L(t),ie&&L(n),ie&&L(c),ie&&L(h),ie&&L(f),ie&&L(m),ie&&L(g),ie&&L(_),se(C),se(z),se(F),se(y),se(T),se(Q),se(_e),se(W),se(ze),se(we),se(ht),se(Ke),se(it),se(Me),se(Tt),ie&&L(Yt),ie&&L(fs)}}}function sw(s,e,t){let{visible:n}=e;return s.$$set=r=>{"visible"in r&&t(0,n=r.visible)},[n]}class nw extends Ne{constructor(e){super(),De(this,e,sw,tw,Se,{visible:0})}}function rw(s){let e,t,n;return{c(){e=N("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-1pg4aff"><path d="M4.609 12c0-4.082 3.309-7.391 7.391-7.391a7.39 7.39 0 0 1 6.523 3.912l-1.653 1.567H22v-5.13l-1.572 1.659C18.652 3.841 15.542 2 12 2 6.477 2 2 6.477 2 12s4.477 10 10 10c4.589 0 8.453-3.09 9.631-7.301l-2.512-.703c-.871 3.113-3.73 5.395-7.119 5.395-4.082 0-7.391-3.309-7.391-7.391z"></path></svg>',D(e,"class","button svelte-1pg4aff")},m(r,i){j(r,e,i),t||(n=[ce(e,"click",s[4]),ce(e,"keydown",s[5])],t=!0)},p:ae,d(r){r&&L(e),t=!1,$e(n)}}}function iw(s){let e,t=`${Math.floor(s[0]/Xe.HOUR)}`.padStart(2,"0")+"",n,r,i=`${Math.floor(s[0]%Xe.HOUR/Xe.MINUTE)}`.padStart(2,"0")+"",o,u,l=`${Math.floor(s[0]%Xe.MINUTE/Xe.SECOND)}`.padStart(2,"0")+"",c;return{c(){e=N("div"),n=H(t),r=H(":"),o=H(i),u=H(":"),c=H(l),D(e,"class","timer svelte-1pg4aff")},m(h,f){j(h,e,f),E(e,n),E(e,r),E(e,o),E(e,u),E(e,c)},p(h,f){f&1&&t!==(t=`${Math.floor(h[0]/Xe.HOUR)}`.padStart(2,"0")+"")&&ue(n,t),f&1&&i!==(i=`${Math.floor(h[0]%Xe.HOUR/Xe.MINUTE)}`.padStart(2,"0")+"")&&ue(o,i),f&1&&l!==(l=`${Math.floor(h[0]%Xe.MINUTE/Xe.SECOND)}`.padStart(2,"0")+"")&&ue(c,l)},d(h){h&&L(e)}}}function ow(s){let e,t,n;function r(u,l){return u[0]>0?iw:rw}let i=r(s),o=i(s);return{c(){e=N("h3"),e.textContent="Next wordle",t=$(),n=N("div"),o.c(),D(e,"class","svelte-1pg4aff"),D(n,"class","container svelte-1pg4aff")},m(u,l){j(u,e,l),j(u,t,l),j(u,n,l),o.m(n,null)},p(u,[l]){i===(i=r(u))&&o?o.p(u,l):(o.d(1),o=i(u),o&&(o.c(),o.m(n,null)))},i:ae,o:ae,d(u){u&&L(e),u&&L(t),u&&L(n),o.d()}}}function aw(s,e,t){let n;At(s,Ue,h=>t(3,n=h));const r=Qt();let i=1e3,o;function u(h){clearInterval(o),t(0,i=Qo(pe.modes[h])),i<0&&r("timeup"),o=setInterval(()=>{t(0,i=Qo(pe.modes[h])),i<0&&(clearInterval(o),r("timeup"))},Xe.SECOND)}const l=()=>r("reload"),c=()=>r("reload");return s.$$.update=()=>{s.$$.dirty&8&&u(n)},[i,r,u,n,l,c]}class lw extends Ne{constructor(e){super(),De(this,e,aw,ow,Se,{reset:2})}get reset(){return this.$$.ctx[2]}}function hc(s,e,t){const n=s.slice();return n[2]=e[t],n}function dc(s){let e,t=s[2]+"",n,r,i;return{c(){e=N("div"),n=H(t),D(e,"class","slice svelte-1dgg1bc")},m(o,u){j(o,e,u),E(e,n),i=!0},p(o,u){(!i||u&1)&&t!==(t=o[2]+"")&&ue(n,t)},i(o){i||(r&&r.end(1),i=!0)},o(o){r=Uf(e,Cn,{duration:200}),i=!1},d(o){o&&L(e),o&&r&&r.end()}}}function uw(s){let e,t,n=s[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=dc(hc(s,n,o));const i=o=>B(r[o],1,1,()=>{r[o]=null});return{c(){e=N("div");for(let o=0;o<r.length;o+=1)r[o].c();D(e,"class","toast svelte-1dgg1bc")},m(o,u){j(o,e,u);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null);t=!0},p(o,[u]){if(u&1){n=o[0];let l;for(l=0;l<n.length;l+=1){const c=hc(o,n,l);r[l]?(r[l].p(c,u),U(r[l],1)):(r[l]=dc(c),r[l].c(),U(r[l],1),r[l].m(e,null))}for(Je(),l=n.length;l<r.length;l+=1)i(l);Ze()}},i(o){if(!t){for(let u=0;u<n.length;u+=1)U(r[u]);t=!0}},o(o){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)B(r[u]);t=!1},d(o){o&&L(e),Lt(r,o)}}}function cw(s,e,t){function n(i,o=1){t(0,r=[i,...r]),setTimeout(()=>t(0,r=r.slice(0,r.length-1)),o*1e3)}let r=[];return[r,n]}class hw extends Ne{constructor(e){super(),De(this,e,cw,uw,Se,{pop:1})}get pop(){return this.$$.ctx[1]}}function dw(s){let e,t,n,r=s[0]+1+"",i,o,u=_s.length+"",l,c,h,f=_s[s[0]]+"",m,g,_,I,k,S,C,V,z;return{c(){e=N("div"),t=N("div"),n=H("Tip "),i=H(r),o=H("/"),l=H(u),c=$(),h=N("div"),m=H(f),g=$(),_=ut("svg"),I=ut("path"),k=$(),S=ut("svg"),C=ut("path"),D(t,"class","number svelte-ksmmv8"),D(h,"class","tip svelte-ksmmv8"),D(I,"d","M75,0L25,50L75,100z"),D(_,"class","left svelte-ksmmv8"),D(_,"xmlns","http://www.w3.org/2000/svg"),D(_,"viewBox","0 0 100 100"),D(C,"d","M25,0L75,50L25,100z"),D(S,"class","right svelte-ksmmv8"),D(S,"xmlns","http://www.w3.org/2000/svg"),D(S,"viewBox","0 0 100 100"),D(e,"class","outer svelte-ksmmv8")},m(O,F){j(O,e,F),E(e,t),E(t,n),E(t,i),E(t,o),E(t,l),E(e,c),E(e,h),E(h,m),E(e,g),E(e,_),E(_,I),E(e,k),E(e,S),E(S,C),V||(z=[ce(_,"click",s[2]),ce(_,"keydown",s[2]),ce(S,"click",s[1]),ce(S,"keypress",s[1])],V=!0)},p(O,[F]){F&1&&r!==(r=O[0]+1+"")&&ue(i,r),F&1&&f!==(f=_s[O[0]]+"")&&ue(m,f)},i:ae,o:ae,d(O){O&&L(e),V=!1,$e(z)}}}const _s=["You can change the gamemode by clicking WORDLE+ or swiping the board left or right.","Hard mode is game mode specific. Turning it on in one game mode won't change it on the others.","Double tap or right click a word on the board to learn its definition.","Hard mode can be enabled during a game if you haven't violated the hard mode rules yet.","Double tap or right click the next row to see how many possible words can be played there, if you use all the previous information.","Because words are chosen from the list randomly it is possible to get the same word again.","When you see the refresh button in the top left corner it means a new word is ready.","Everyone has the same wordle at the same time. Your word #73 is the same as everyone elses #73.","There are more valid guesses than possible words, ie. not all 5 letter words can be selected as an answer by the game.","Historical games don't count towards your stats. Historical games are when you follow a link to a specific game number.","Only the data for latest historical game is saved for each game mode."];function fw(s,e,t){let{change:n}=e,r=Math.floor(_s.length*Math.random());function i(){t(0,r=(r+1)%_s.length)}function o(){t(0,r=(r-1+_s.length)%_s.length)}return s.$$set=u=>{"change"in u&&t(3,n=u.change)},s.$$.update=()=>{s.$$.dirty&8&&n&&t(0,r=Math.floor(_s.length*Math.random()))},[r,i,o,n]}class mw extends Ne{constructor(e){super(),De(this,e,fw,dw,Se,{change:3})}}function pw(s){let e,t,n,r;const i=s[2].default,o=is(i,s,s[1],null);return{c(){e=ut("svg"),o&&o.c(),D(e,"xmlns","http://www.w3.org/2000/svg"),D(e,"viewBox","0 0 24 24"),D(e,"class","svelte-17ud64h")},m(u,l){j(u,e,l),o&&o.m(e,null),t=!0,n||(r=[ce(e,"click",function(){rs(s[0])&&s[0].apply(this,arguments)}),ce(e,"keypress",function(){rs(s[0])&&s[0].apply(this,arguments)})],n=!0)},p(u,[l]){s=u,o&&o.p&&(!t||l&2)&&as(o,i,s,s[1],t?os(i,s[1],l,null):ls(s[1]),null)},i(u){t||(U(o,u),t=!0)},o(u){B(o,u),t=!1},d(u){u&&L(e),o&&o.d(u),n=!1,$e(r)}}}function gw(s,e,t){let{$$slots:n={},$$scope:r}=e,{onClick:i=()=>{}}=e;return s.$$set=o=>{"onClick"in o&&t(0,i=o.onClick),"$$scope"in o&&t(1,r=o.$$scope)},[i,r,n]}class Pn extends Ne{constructor(e){super(),De(this,e,gw,pw,Se,{onClick:0})}}function yw(s){let e;return{c(){e=ut("path"),D(e,"d","M4.167 4.167c-1.381 1.381-1.381 3.619 0 5L6.5 11.5a1.18 1.18 0 0 1 0 1.667 1.18 1.18 0 0 1-1.667 0L2.5 10.833C.199 8.532.199 4.801 2.5 2.5s6.032-2.301 8.333 0l3.333 3.333c2.301 2.301 2.301 6.032 0 8.333a1.18 1.18 0 0 1-1.667 0 1.18 1.18 0 0 1 0-1.667c1.381-1.381 1.381-3.619 0-5L9.167 4.167c-1.381-1.381-3.619-1.381-5 0zm5.667 14c-2.301-2.301-2.301-6.032 0-8.333a1.18 1.18 0 0 1 1.667 0 1.18 1.18 0 0 1 0 1.667c-1.381 1.381-1.381 3.619 0 5l3.333 3.333c1.381 1.381 3.619 1.381 5 0s1.381-3.619 0-5L17.5 12.5a1.18 1.18 0 0 1 0-1.667 1.18 1.18 0 0 1 1.667 0l2.333 2.333c2.301 2.301 2.301 6.032 0 8.333s-6.032 2.301-8.333 0l-3.333-3.333z")},m(t,n){j(t,e,n)},p:ae,d(t){t&&L(e)}}}function _w(s){let e,t,n,r=pe.modes[s[1]].name+"",i,o,u,l,c,h,f;return t=new Pn({props:{$$slots:{default:[yw]},$$scope:{ctx:s}}}),{c(){e=N("div"),ne(t.$$.fragment),n=H(`
	Copy link to this game (`),i=H(r),o=H(" #"),u=H(s[0]),l=H(")"),D(e,"class","share-historic svelte-11bt4nm")},m(m,g){j(m,e,g),te(t,e,null),E(e,n),E(e,i),E(e,o),E(e,u),E(e,l),c=!0,h||(f=[ce(e,"click",s[2]),ce(e,"keypress",s[2])],h=!0)},p(m,[g]){const _={};g&16&&(_.$$scope={dirty:g,ctx:m}),t.$set(_),(!c||g&2)&&r!==(r=pe.modes[m[1]].name+"")&&ue(i,r),(!c||g&1)&&ue(u,m[0])},i(m){c||(U(t.$$.fragment,m),c=!0)},o(m){B(t.$$.fragment,m),c=!1},d(m){m&&L(e),se(t),h=!1,$e(f)}}}function bw(s,e,t){let n;At(s,Ue,u=>t(1,n=u));let{wordNumber:r}=e;const i=Dn("toaster");function o(){i.pop("Copied"),navigator.clipboard.writeText(`${window.location.href}/${r}`)}return s.$$set=u=>{"wordNumber"in u&&t(0,r=u.wordNumber)},[r,n,o]}class ww extends Ne{constructor(e){super(),De(this,e,bw,_w,Se,{wordNumber:0})}}function fc(s,e,t){const n=s.slice();return n[20]=e[t],n[22]=t,n}function mc(s){let e,t,n,r;return{c(){e=N("form"),t=N("input"),D(t,"type","text"),D(t,"placeholder","Example: "+window.location+"/1"),D(t,"class","svelte-l3vk6s"),Re(t,"valid",s[0])},m(i,o){j(i,e,o),E(e,t),vn(t,s[2]),n||(r=[ce(t,"input",s[11]),ce(t,"input",s[12]),ce(t,"keydown",s[9])],n=!0)},p(i,o){o&4&&t.value!==i[2]&&vn(t,i[2]),o&1&&Re(t,"valid",i[0])},d(i){i&&L(e),n=!1,$e(r)}}}function pc(s){let e,t=s[20]+"",n;return{c(){e=N("option"),n=H(t),e.__value=s[22],e.value=e.__value},m(r,i){j(r,e,i),E(e,n)},p:ae,d(r){r&&L(e)}}}function vw(s){let e,t,n=s[4],r,i,o,u,l,c,h,f,m,g,_,I,k,S=Ws(s[4],!0)-1+"",C,V,z,O,F,v=mc(s),y=s[5],w=[];for(let T=0;T<y.length;T+=1)w[T]=pc(fc(s,y,T));return{c(){e=N("h3"),e.textContent="Play a historical game",t=$(),v.c(),r=$(),i=N("div"),i.textContent="Paste in a link",o=$(),u=N("h3"),u.textContent="or",l=$(),c=N("div"),h=N("form"),f=N("input"),m=$(),g=N("select");for(let T=0;T<w.length;T+=1)w[T].c();_=$(),I=N("div"),k=H("Enter a game number between 1 and "),C=H(S),V=$(),z=N("div"),z.textContent="play",D(i,"class","svelte-l3vk6s"),D(f,"type","number"),D(f,"placeholder","Example: 1"),D(f,"class","svelte-l3vk6s"),Re(f,"valid",s[1]),D(h,"class","svelte-l3vk6s"),D(g,"class","svelte-l3vk6s"),s[4]===void 0&&Vt(()=>s[15].call(g)),D(c,"class","number svelte-l3vk6s"),D(I,"class","svelte-l3vk6s"),D(z,"class","button svelte-l3vk6s"),Re(z,"disabled",!s[0]&&!s[1])},m(T,A){j(T,e,A),j(T,t,A),v.m(T,A),j(T,r,A),j(T,i,A),j(T,o,A),j(T,u,A),j(T,l,A),j(T,c,A),E(c,h),E(h,f),vn(f,s[3]),E(c,m),E(c,g);for(let P=0;P<w.length;P+=1)w[P]&&w[P].m(g,null);ni(g,s[4],!0),j(T,_,A),j(T,I,A),E(I,k),E(I,C),j(T,V,A),j(T,z,A),O||(F=[ce(f,"input",s[13]),ce(f,"input",s[14]),ce(f,"keydown",s[9]),ce(g,"change",s[15]),ce(z,"click",s[8]),ce(z,"keydown",s[8])],O=!0)},p(T,[A]){if(A&16&&Se(n,n=T[4])?(v.d(1),v=mc(T),v.c(),v.m(r.parentNode,r)):v.p(T,A),A&8&&eh(f.value)!==T[3]&&vn(f,T[3]),A&2&&Re(f,"valid",T[1]),A&32){y=T[5];let P;for(P=0;P<y.length;P+=1){const R=fc(T,y,P);w[P]?w[P].p(R,A):(w[P]=pc(R),w[P].c(),w[P].m(g,null))}for(;P<w.length;P+=1)w[P].d(1);w.length=y.length}A&16&&ni(g,T[4]),A&16&&S!==(S=Ws(T[4],!0)-1+"")&&ue(C,S),A&3&&Re(z,"disabled",!T[0]&&!T[1])},i:ae,o:ae,d(T){T&&L(e),T&&L(t),v.d(T),T&&L(r),T&&L(i),T&&L(o),T&&L(u),T&&L(l),T&&L(c),Lt(w,T),T&&L(_),T&&L(I),T&&L(V),T&&L(z),O=!1,$e(F)}}}function kw(s,e,t){let n;At(s,Ue,v=>t(4,n=v));let{showSettings:r}=e;const i=Dn("toaster"),o=pe.modes.map(v=>v.name.toLowerCase());let u=!1,l=!1,c="",h="",f,m;function g(){t(2,c=""),t(3,h=""),t(0,u=!1),t(1,l=!1)}function _(v,y){return!isNaN(v)&&v>0&&v<y?(m=v,!0):!1}function I(){const v=c.slice(c.indexOf("#")+1).toLowerCase().split("/");return v.length!==2||!(v[0]in rt)||!_(+v[1],Ws(rt[v[0]],!0))?!1:(f=rt[v[0]],!0)}function k(v){if(!u&&!l)return;const y=l?n:f,w=pe.modes[y];w.historical=!0,w.seed=_n(n,(m-1)*w.unit+w.start),Ue.set(y,!0),v.currentTarget.dispatchEvent(ta("close",null,{bubbles:!0})),t(10,r=!1),i.pop(`${rt[n]} wordle #${m}`,2),g()}Ue.subscribe(()=>{r||g()});function S(v){v.key==="Enter"&&(v.preventDefault(),v.currentTarget.blur(),k(v))}function C(){c=this.value,t(2,c)}const V=()=>t(0,u=I());function z(){h=eh(this.value),t(3,h)}const O=()=>t(1,l=_(+h,Ws(n,!0)));function F(){n=th(this),Ue.set(n)}return s.$$set=v=>{"showSettings"in v&&t(10,r=v.showSettings)},[u,l,c,h,n,o,_,I,k,S,r,C,V,z,O,F]}class Ew extends Ne{constructor(e){super(),De(this,e,kw,vw,Se,{showSettings:10})}}function Tw(s){let e,t,n,r,i,o;return{c(){e=N("section"),t=N("div"),n=H(s[0]),r=$(),i=N("div"),o=H(s[1]),D(t,"class","stat svelte-dvu5v6"),D(i,"class","name svelte-dvu5v6"),D(e,"class","svelte-dvu5v6")},m(u,l){j(u,e,l),E(e,t),E(t,n),E(e,r),E(e,i),E(i,o)},p(u,[l]){l&1&&ue(n,u[0]),l&2&&ue(o,u[1])},i:ae,o:ae,d(u){u&&L(e)}}}function Iw(s,e,t){let{stat:n}=e,{name:r}=e;return s.$$set=i=>{"stat"in i&&t(0,n=i.stat),"name"in i&&t(1,r=i.name)},[n,r]}class Aw extends Ne{constructor(e){super(),De(this,e,Iw,Tw,Se,{stat:0,name:1})}}function gc(s,e,t){const n=s.slice();return n[3]=e[t],n}function yc(s){let e,t;return e=new Aw({props:{name:s[3][0],stat:s[3][1]}}),{c(){ne(e.$$.fragment)},m(n,r){te(e,n,r),t=!0},p(n,r){const i={};r&1&&(i.name=n[3][0]),r&1&&(i.stat=n[3][1]),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Sw(s){let e,t,n=pe.modes[s[1]].name+"",r,i,o,u,l,c=s[0],h=[];for(let m=0;m<c.length;m+=1)h[m]=yc(gc(s,c,m));const f=m=>B(h[m],1,1,()=>{h[m]=null});return{c(){e=N("h3"),t=H("Statistics ("),r=H(n),i=H(")"),o=$(),u=N("div");for(let m=0;m<h.length;m+=1)h[m].c();D(u,"class","svelte-ljn64v")},m(m,g){j(m,e,g),E(e,t),E(e,r),E(e,i),j(m,o,g),j(m,u,g);for(let _=0;_<h.length;_+=1)h[_]&&h[_].m(u,null);l=!0},p(m,[g]){if((!l||g&2)&&n!==(n=pe.modes[m[1]].name+"")&&ue(r,n),g&1){c=m[0];let _;for(_=0;_<c.length;_+=1){const I=gc(m,c,_);h[_]?(h[_].p(I,g),U(h[_],1)):(h[_]=yc(I),h[_].c(),U(h[_],1),h[_].m(u,null))}for(Je(),_=c.length;_<h.length;_+=1)f(_);Ze()}},i(m){if(!l){for(let g=0;g<c.length;g+=1)U(h[g]);l=!0}},o(m){h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)B(h[g]);l=!1},d(m){m&&L(e),m&&L(o),m&&L(u),Lt(h,m)}}}function Rw(s,e,t){let n;At(s,Ue,o=>t(1,n=o));let{data:r}=e,i;return s.$$set=o=>{"data"in o&&t(2,r=o.data)},s.$$.update=()=>{s.$$.dirty&5&&(t(0,i=[["Played",r.played],["Win %",Math.round((r.played-r.guesses.fail)/r.played*100)||0],["Average Guesses",(Object.entries(r.guesses).reduce((o,u)=>isNaN(+u[0])?o:o+ +u[0]*u[1],0)/r.played||0).toFixed(1)]]),r.guesses.fail>0&&i.push(["Lost",r.guesses.fail]),r.hasStreak&&(i.push(["Current Streak",r.streak]),i.push(["Max Streak",r.maxStreak])))},[i,n,r]}class Cw extends Ne{constructor(e){super(),De(this,e,Rw,Sw,Se,{data:2})}}function _c(s,e,t){const n=s.slice();n[3]=e[t],n[6]=t;const r=Number(n[3][0]);return n[4]=r,n}function bc(s){let e,t,n=s[3][0]+"",r,i,o,u=s[3][1]+"",l,c;return{c(){e=N("div"),t=N("span"),r=H(n),i=$(),o=N("div"),l=H(u),c=$(),D(t,"class","guess svelte-1pserw8"),D(o,"class","bar svelte-1pserw8"),Pt(o,"width",s[3][1]/s[2]*100+"%"),Re(o,"this",s[4]===s[0].guesses&&!s[0].active&&!Xo(s[0])),D(e,"class","graph svelte-1pserw8")},m(h,f){j(h,e,f),E(e,t),E(t,r),E(e,i),E(e,o),E(o,l),E(e,c)},p(h,f){f&2&&n!==(n=h[3][0]+"")&&ue(r,n),f&2&&u!==(u=h[3][1]+"")&&ue(l,u),f&6&&Pt(o,"width",h[3][1]/h[2]*100+"%"),f&3&&Re(o,"this",h[4]===h[0].guesses&&!h[0].active&&!Xo(h[0]))},d(h){h&&L(e)}}}function wc(s,e){let t,n=!isNaN(e[4]),r,i=n&&bc(e);return{key:s,first:null,c(){t=qs(),i&&i.c(),r=qs(),this.first=t},m(o,u){j(o,t,u),i&&i.m(o,u),j(o,r,u)},p(o,u){e=o,u&2&&(n=!isNaN(e[4])),n?i?i.p(e,u):(i=bc(e),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(o){o&&L(t),i&&i.d(o),o&&L(r)}}}function Pw(s){let e,t,n,r=[],i=new Map,o=Object.entries(s[1]);const u=l=>l[3][0];for(let l=0;l<o.length;l+=1){let c=_c(s,o,l),h=u(c);i.set(h,r[l]=wc(h,c))}return{c(){e=N("h3"),e.textContent="guess distribution",t=$(),n=N("div");for(let l=0;l<r.length;l+=1)r[l].c();D(n,"class","container svelte-1pserw8")},m(l,c){j(l,e,c),j(l,t,c),j(l,n,c);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(n,null)},p(l,[c]){c&7&&(o=Object.entries(l[1]),r=Hf(r,c,u,1,l,o,i,n,Bf,wc,null,_c))},i:ae,o:ae,d(l){l&&L(e),l&&L(t),l&&L(n);for(let c=0;c<r.length;c+=1)r[c].d()}}}function Vw(s,e,t){let n,{game:r}=e,{distribution:i}=e;return s.$$set=o=>{"game"in o&&t(0,r=o.game),"distribution"in o&&t(1,i=o.distribution)},s.$$.update=()=>{s.$$.dirty&2&&t(2,n=Object.entries(i).reduce((o,u)=>isNaN(Number(u[0]))?o:Math.max(u[1],o),1))},[r,i,n]}class Dw extends Ne{constructor(e){super(),De(this,e,Vw,Pw,Se,{game:0,distribution:1})}}function Nw(s){let e;return{c(){e=ut("path"),D(e,"d","M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z")},m(t,n){j(t,e,n)},p:ae,d(t){t&&L(e)}}}function vc(s){let e,t;return e=new Pn({props:{onClick:s[7],$$slots:{default:[zw]},$$scope:{ctx:s}}}),{c(){ne(e.$$.fragment)},m(n,r){te(e,n,r),t=!0},p(n,r){const i={};r&16384&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function zw(s){let e,t,n;return{c(){e=ut("path"),D(e,"d","M4.609 12c0-4.082 3.309-7.391 7.391-7.391a7.39 7.39 0 0 1 6.523 3.912l-1.653 1.567H22v-5.13l-1.572 1.659C18.652 3.841 15.542 2 12 2 6.477 2 2 6.477 2 12s4.477 10 10 10c4.589 0 8.453-3.09 9.631-7.301l-2.512-.703c-.871 3.113-3.73 5.395-7.119 5.395-4.082 0-7.391-3.309-7.391-7.391z")},m(r,i){j(r,e,i),n=!0},p:ae,i(r){n||(Vt(()=>{n&&(t||(t=Is(e,Cn,{duration:200},!0)),t.run(1))}),n=!0)},o(r){t||(t=Is(e,Cn,{duration:200},!1)),t.run(0),n=!1},d(r){r&&L(e),r&&t&&t.end()}}}function kc(s){let e,t;return e=new Pn({props:{onClick:s[10],$$slots:{default:[Mw]},$$scope:{ctx:s}}}),{c(){ne(e.$$.fragment)},m(n,r){te(e,n,r),t=!0},p(n,r){const i={};r&16384&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Mw(s){let e,t,n;return{c(){e=ut("path"),D(e,"d","M16,11V3H8v6H2v12h20V11H16z M10,5h4v14h-4V5z M4,11h4v8H4V11z M20,19h-4v-6h4V19z")},m(r,i){j(r,e,i),n=!0},p:ae,i(r){n||(Vt(()=>{n&&(t||(t=Is(e,Cn,{duration:200},!0)),t.run(1))}),n=!0)},o(r){t||(t=Is(e,Cn,{duration:200},!1)),t.run(0),n=!1},d(r){r&&L(e),r&&t&&t.end()}}}function Ow(s){let e;return{c(){e=ut("path"),D(e,"d","M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z")},m(t,n){j(t,e,n)},p:ae,d(t){t&&L(e)}}}function Ec(s){let e,t,n,r,i;return{c(){e=N("div"),e.innerHTML=`Swipe board or tap WORDLE+ to change game mode
			<span class="ok">OK</span>`,D(e,"class","tutorial")},m(o,u){j(o,e,u),n=!0,r||(i=[ce(e,"click",s[12]),ce(e,"keydown",s[13])],r=!0)},p:ae,i(o){n||(Vt(()=>{n&&(t||(t=Is(e,Ai,{},!0)),t.run(1))}),n=!0)},o(o){t||(t=Is(e,Ai,{},!1)),t.run(0),n=!1},d(o){o&&L(e),o&&t&&t.end(),r=!1,$e(i)}}}function xw(s){let e,t,n,r,i,o,u,l,c,h,f,m,g,_;n=new Pn({props:{onClick:s[6],$$slots:{default:[Nw]},$$scope:{ctx:s}}});let I=s[0]&&vc(s),k=s[1]&&kc(s);h=new Pn({props:{onClick:s[11],$$slots:{default:[Ow]},$$scope:{ctx:s}}});let S=s[2]&&Ec(s);return{c(){e=N("header"),t=N("div"),ne(n.$$.fragment),r=$(),I&&I.c(),i=$(),o=N("h1"),o.textContent="wordle+",u=$(),l=N("div"),k&&k.c(),c=$(),ne(h.$$.fragment),f=$(),S&&S.c(),D(t,"class","icons svelte-2k6r7n"),D(o,"class","svelte-2k6r7n"),D(l,"class","icons svelte-2k6r7n"),D(e,"class","svelte-2k6r7n")},m(C,V){j(C,e,V),E(e,t),te(n,t,null),E(t,r),I&&I.m(t,null),E(e,i),E(e,o),E(e,u),E(e,l),k&&k.m(l,null),E(l,c),te(h,l,null),E(e,f),S&&S.m(e,null),m=!0,g||(_=[ce(o,"click",si(s[8])),ce(o,"contextmenu",si(ti(s[9])))],g=!0)},p(C,[V]){const z={};V&16384&&(z.$$scope={dirty:V,ctx:C}),n.$set(z),C[0]?I?(I.p(C,V),V&1&&U(I,1)):(I=vc(C),I.c(),U(I,1),I.m(t,null)):I&&(Je(),B(I,1,1,()=>{I=null}),Ze()),C[1]?k?(k.p(C,V),V&2&&U(k,1)):(k=kc(C),k.c(),U(k,1),k.m(l,c)):k&&(Je(),B(k,1,1,()=>{k=null}),Ze());const O={};V&16384&&(O.$$scope={dirty:V,ctx:C}),h.$set(O),C[2]?S?(S.p(C,V),V&4&&U(S,1)):(S=Ec(C),S.c(),U(S,1),S.m(e,null)):S&&(Je(),B(S,1,1,()=>{S=null}),Ze())},i(C){m||(U(n.$$.fragment,C),U(I),U(k),U(h.$$.fragment,C),U(S),m=!0)},o(C){B(n.$$.fragment,C),B(I),B(k),B(h.$$.fragment,C),B(S),m=!1},d(C){C&&L(e),se(n),I&&I.d(),k&&k.d(),se(h),S&&S.d(),g=!1,$e(_)}}}function Lw(s,e,t){let n;At(s,Ue,S=>t(4,n=S));let{showStats:r}=e,{tutorial:i}=e,{showRefresh:o}=e,{toaster:u=Dn("toaster")}=e;const l=Qt();Ue.subscribe(S=>{Qo(pe.modes[S])>0&&t(0,o=!1)});const c=()=>l("tutorial"),h=()=>l("reload"),f=()=>{jt(Ue,n=(n+1)%pe.modes.length,n),u.pop(pe.modes[n].name)},m=()=>{jt(Ue,n=(n-1+pe.modes.length)%pe.modes.length,n),u.pop(pe.modes[n].name)},g=()=>l("stats"),_=()=>l("settings"),I=()=>l("closeTutPopUp"),k=()=>l("closeTutPopUp");return s.$$set=S=>{"showStats"in S&&t(1,r=S.showStats),"tutorial"in S&&t(2,i=S.tutorial),"showRefresh"in S&&t(0,o=S.showRefresh),"toaster"in S&&t(3,u=S.toaster)},[o,r,i,u,n,l,c,h,f,m,g,_,I,k]}class jw extends Ne{constructor(e){super(),De(this,e,Lw,xw,Se,{showStats:1,tutorial:2,showRefresh:0,toaster:3})}}function Fw(s){let e,t,n,r,i,o;const u=s[4].default,l=is(u,s,s[3],null);return{c(){e=N("div"),t=H(s[0]),l&&l.c(),D(e,"class",n=$l(s[1])+" svelte-1ymomqm"),Re(e,"big",s[0].length!==1)},m(c,h){j(c,e,h),E(e,t),l&&l.m(e,null),r=!0,i||(o=ce(e,"click",s[5]),i=!0)},p(c,[h]){(!r||h&1)&&ue(t,c[0]),l&&l.p&&(!r||h&8)&&as(l,u,c,c[3],r?os(u,c[3],h,null):ls(c[3]),null),(!r||h&2&&n!==(n=$l(c[1])+" svelte-1ymomqm"))&&D(e,"class",n),(!r||h&3)&&Re(e,"big",c[0].length!==1)},i(c){r||(U(l,c),r=!0)},o(c){B(l,c),r=!1},d(c){c&&L(e),l&&l.d(c),i=!1,o()}}}function $w(s,e,t){let{$$slots:n={},$$scope:r}=e,{letter:i}=e,{state:o=""}=e;const u=Qt(),l=()=>u("keystroke",i);return s.$$set=c=>{"letter"in c&&t(0,i=c.letter),"state"in c&&t(1,o=c.state),"$$scope"in c&&t(3,r=c.$$scope)},[i,o,u,r,n,l]}class br extends Ne{constructor(e){super(),De(this,e,$w,Fw,Se,{letter:0,state:1})}}function Tc(s,e,t){const n=s.slice();return n[14]=e[t],n}function Ic(s,e,t){const n=s.slice();return n[14]=e[t],n}function Ac(s,e,t){const n=s.slice();return n[14]=e[t],n}function Sc(s){let e,t;return e=new br({props:{letter:s[14],state:s[2][s[14]]}}),e.$on("keystroke",s[9]),{c(){ne(e.$$.fragment)},m(n,r){te(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.state=n[2][n[14]]),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Rc(s){let e,t;return e=new br({props:{letter:s[14],state:s[2][s[14]]}}),e.$on("keystroke",s[10]),{c(){ne(e.$$.fragment)},m(n,r){te(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.state=n[2][n[14]]),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Cc(s){let e,t;return e=new br({props:{letter:s[14],state:s[2][s[14]]}}),e.$on("keystroke",s[12]),{c(){ne(e.$$.fragment)},m(n,r){te(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.state=n[2][n[14]]),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Uw(s){let e,t;return{c(){e=ut("svg"),t=ut("path"),D(t,"d","M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H7.07L2.4 12l4.66-7H22v14zm-11.59-2L14 13.41 17.59 17 19 15.59 15.41 12 19 8.41 17.59 7 14 10.59 10.41 7 9 8.41 12.59 12 9 15.59z"),D(e,"xmlns","http://www.w3.org/2000/svg"),D(e,"viewBox","0 0 24 24"),D(e,"class","svelte-bldt10")},m(n,r){j(n,e,r),E(e,t)},p:ae,d(n){n&&L(e)}}}function qw(s){let e,t,n,r,i,o,u,l,c,h,f,m,g,_,I=on[0],k=[];for(let y=0;y<I.length;y+=1)k[y]=Sc(Ac(s,I,y));const S=y=>B(k[y],1,1,()=>{k[y]=null});let C=on[1],V=[];for(let y=0;y<C.length;y+=1)V[y]=Rc(Ic(s,C,y));const z=y=>B(V[y],1,1,()=>{V[y]=null});l=new br({props:{letter:"ENTER"}}),l.$on("keystroke",s[11]);let O=on[2],F=[];for(let y=0;y<O.length;y+=1)F[y]=Cc(Tc(s,O,y));const v=y=>B(F[y],1,1,()=>{F[y]=null});return f=new br({props:{letter:"",$$slots:{default:[Uw]},$$scope:{ctx:s}}}),f.$on("keystroke",s[5]),{c(){e=$(),t=N("div"),n=N("div");for(let y=0;y<k.length;y+=1)k[y].c();r=$(),i=N("div");for(let y=0;y<V.length;y+=1)V[y].c();o=$(),u=N("div"),ne(l.$$.fragment),c=$();for(let y=0;y<F.length;y+=1)F[y].c();h=$(),ne(f.$$.fragment),D(n,"class","row svelte-bldt10"),D(i,"class","row svelte-bldt10"),D(u,"class","row svelte-bldt10"),D(t,"class","keyboard svelte-bldt10"),Re(t,"preventChange",s[1])},m(y,w){j(y,e,w),j(y,t,w),E(t,n);for(let T=0;T<k.length;T+=1)k[T]&&k[T].m(n,null);E(t,r),E(t,i);for(let T=0;T<V.length;T+=1)V[T]&&V[T].m(i,null);E(t,o),E(t,u),te(l,u,null),E(u,c);for(let T=0;T<F.length;T+=1)F[T]&&F[T].m(u,null);E(u,h),te(f,u,null),m=!0,g||(_=ce(document.body,"keydown",s[6]),g=!0)},p(y,[w]){if(w&20){I=on[0];let A;for(A=0;A<I.length;A+=1){const P=Ac(y,I,A);k[A]?(k[A].p(P,w),U(k[A],1)):(k[A]=Sc(P),k[A].c(),U(k[A],1),k[A].m(n,null))}for(Je(),A=I.length;A<k.length;A+=1)S(A);Ze()}if(w&20){C=on[1];let A;for(A=0;A<C.length;A+=1){const P=Ic(y,C,A);V[A]?(V[A].p(P,w),U(V[A],1)):(V[A]=Rc(P),V[A].c(),U(V[A],1),V[A].m(i,null))}for(Je(),A=C.length;A<V.length;A+=1)z(A);Ze()}if(w&20){O=on[2];let A;for(A=0;A<O.length;A+=1){const P=Tc(y,O,A);F[A]?(F[A].p(P,w),U(F[A],1)):(F[A]=Cc(P),F[A].c(),U(F[A],1),F[A].m(u,h))}for(Je(),A=O.length;A<F.length;A+=1)v(A);Ze()}const T={};w&2097152&&(T.$$scope={dirty:w,ctx:y}),f.$set(T),(!m||w&2)&&Re(t,"preventChange",y[1])},i(y){if(!m){for(let w=0;w<I.length;w+=1)U(k[w]);for(let w=0;w<C.length;w+=1)U(V[w]);U(l.$$.fragment,y);for(let w=0;w<O.length;w+=1)U(F[w]);U(f.$$.fragment,y),m=!0}},o(y){k=k.filter(Boolean);for(let w=0;w<k.length;w+=1)B(k[w]);V=V.filter(Boolean);for(let w=0;w<V.length;w+=1)B(V[w]);B(l.$$.fragment,y),F=F.filter(Boolean);for(let w=0;w<F.length;w+=1)B(F[w]);B(f.$$.fragment,y),m=!1},d(y){y&&L(e),y&&L(t),Lt(k,y),Lt(V,y),se(l),Lt(F,y),se(f),g=!1,_()}}}function Bw(s,e,t){let n;At(s,ns,S=>t(2,n=S));let{value:r=""}=e,{disabled:i=!1}=e,{maxLength:o=kt}=e,u=!0;const l=Qt();function c(S){!i&&r.length<o&&(l("keystroke",S),t(7,r+=S))}function h(){i||t(7,r=r.slice(0,r.length-1))}function f(S){if(!S.defaultPrevented){if(!i&&!S.ctrlKey&&!S.altKey){if(S.key&&/^[a-z]$/.test(S.key.toLowerCase()))return c(S.key.toLowerCase());if(S.key==="Backspace")return h();if(S.key==="Enter")return l("submitWord")}S.key==="Escape"&&l("esc")}}const m=Ue.subscribe(()=>{t(1,u=!0),setTimeout(()=>t(1,u=!1),200)});sh(m);const g=S=>c(S.detail),_=S=>c(S.detail),I=()=>!i&&l("submitWord"),k=S=>c(S.detail);return s.$$set=S=>{"value"in S&&t(7,r=S.value),"disabled"in S&&t(0,i=S.disabled),"maxLength"in S&&t(8,o=S.maxLength)},[i,u,n,l,c,h,f,r,o,g,_,I,k]}class Xd extends Ne{constructor(e){super(),De(this,e,Bw,qw,Se,{value:7,disabled:0,maxLength:8})}}const Hw=s=>({}),Pc=s=>({});function Ww(s){let e;return{c(){e=ut("path"),D(e,"d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z")},m(t,n){j(t,e,n)},p:ae,d(t){t&&L(e)}}}function Gw(s){let e,t,n,r,i,o,u,l,c,h,f,m;r=new Pn({props:{$$slots:{default:[Ww]},$$scope:{ctx:s}}});const g=s[3].default,_=is(g,s,s[4],null),I=s[3].footer,k=is(I,s,s[4],Pc);return{c(){e=N("div"),t=N("div"),n=N("div"),ne(r.$$.fragment),i=$(),o=N("div"),_&&_.c(),u=$(),l=N("div"),k&&k.c(),D(n,"class","exit svelte-5i44vt"),D(o,"class","content svelte-5i44vt"),D(l,"class","footer svelte-5i44vt"),D(t,"class","modal svelte-5i44vt"),D(e,"class",c="overlay "+(s[1]?"fullscreen":"popup")+" svelte-5i44vt"),Re(e,"visible",s[0])},m(S,C){j(S,e,C),E(e,t),E(t,n),te(r,n,null),E(t,i),E(t,o),_&&_.m(o,null),E(t,u),E(t,l),k&&k.m(l,null),h=!0,f||(m=[ce(n,"click",s[2]),ce(n,"keydown",s[2]),ce(o,"close",s[2]),ce(e,"click",si(s[2])),ce(e,"keydown",si(s[2]))],f=!0)},p(S,[C]){const V={};C&16&&(V.$$scope={dirty:C,ctx:S}),r.$set(V),_&&_.p&&(!h||C&16)&&as(_,g,S,S[4],h?os(g,S[4],C,null):ls(S[4]),null),k&&k.p&&(!h||C&16)&&as(k,I,S,S[4],h?os(I,S[4],C,Hw):ls(S[4]),Pc),(!h||C&2&&c!==(c="overlay "+(S[1]?"fullscreen":"popup")+" svelte-5i44vt"))&&D(e,"class",c),(!h||C&3)&&Re(e,"visible",S[0])},i(S){h||(U(r.$$.fragment,S),U(_,S),U(k,S),h=!0)},o(S){B(r.$$.fragment,S),B(_,S),B(k,S),h=!1},d(S){S&&L(e),se(r),_&&_.d(S),k&&k.d(S),f=!1,$e(m)}}}function Kw(s,e,t){let{$$slots:n={},$$scope:r}=e,{visible:i=!1}=e,{fullscreen:o=!1}=e;const u=Qt();function l(){t(0,i=!1),u("close")}return s.$$set=c=>{"visible"in c&&t(0,i=c.visible),"fullscreen"in c&&t(1,o=c.fullscreen),"$$scope"in c&&t(4,r=c.$$scope)},[i,o,l,n,r]}class Gr extends Ne{constructor(e){super(),De(this,e,Kw,Gw,Se,{visible:0,fullscreen:1})}}function Vc(s){let e,t,n,r,i=s[2].hint+"",o;return{c(){e=N("div"),t=N("div"),n=N("strong"),n.textContent="Hint:",r=$(),o=H(i),D(n,"class","svelte-1gn9yew"),D(t,"class","hint svelte-1gn9yew"),D(e,"class","hint-container svelte-1gn9yew")},m(u,l){j(u,e,l),E(e,t),E(t,n),E(t,r),E(t,o)},p(u,l){l&4&&i!==(i=u[2].hint+"")&&ue(o,i)},d(u){u&&L(e)}}}function Qw(s){var Ke,re,it;let e,t,n,r,i=(((Ke=s[1])==null?void 0:Ke.name)||"Session")+"",o,u,l,c,h=s[0].currentWordIndex+1+"",f,m,g=(((re=s[1])==null?void 0:re.words.length)||0)+"",_,I,k,S,C,V,z,O=Dc(Date.now()-s[0].startTime)+"",F,v,y,w,T,A,P=s[0].wordResults.filter(Nc).length+"",R,he,Q=(((it=s[1])==null?void 0:it.words.length)||0)+"",fe,_e,Y,W,le,ze,Ie,we,X,J=s[2]&&Vc(s);function St(be){s[8](be)}let Ce={board:s[0].board,guesses:s[0].guesses,icon:"",tutorial:!1};s[0].board.words!==void 0&&(Ce.value=s[0].board.words),W=new Qd({props:Ce}),s[7](W),Pe.push(()=>He(W,"value",St));function ht(be){s[9](be)}let Et={disabled:!s[0].active,maxLength:s[0].currentWordLength};return s[0].board.words[s[0].guesses===Fe?0:s[0].guesses]!==void 0&&(Et.value=s[0].board.words[s[0].guesses===Fe?0:s[0].guesses]),Ie=new Xd({props:Et}),Pe.push(()=>He(Ie,"value",ht)),Ie.$on("submitWord",s[4]),{c(){e=N("main"),t=N("div"),n=N("div"),r=N("h2"),o=H(i),u=$(),l=N("div"),c=H("Word "),f=H(h),m=H(" of "),_=H(g),I=$(),k=N("div"),S=N("div"),C=N("span"),C.textContent="Time",V=$(),z=N("span"),F=H(O),v=$(),y=N("div"),w=N("span"),w.textContent="Words",T=$(),A=N("span"),R=H(P),he=H("/"),fe=H(Q),_e=$(),J&&J.c(),Y=$(),ne(W.$$.fragment),ze=$(),ne(Ie.$$.fragment),D(r,"class","svelte-1gn9yew"),D(l,"class","progress svelte-1gn9yew"),D(n,"class","session-info svelte-1gn9yew"),D(C,"class","stat-label svelte-1gn9yew"),D(z,"class","stat-value svelte-1gn9yew"),D(S,"class","stat svelte-1gn9yew"),D(w,"class","stat-label svelte-1gn9yew"),D(A,"class","stat-value svelte-1gn9yew"),D(y,"class","stat svelte-1gn9yew"),D(k,"class","session-stats svelte-1gn9yew"),D(t,"class","session-header svelte-1gn9yew"),D(e,"class","session-game svelte-1gn9yew"),Pt(e,"--rows",Fe),Pt(e,"--cols",s[0].currentWordLength)},m(be,Me){j(be,e,Me),E(e,t),E(t,n),E(n,r),E(r,o),E(n,u),E(n,l),E(l,c),E(l,f),E(l,m),E(l,_),E(t,I),E(t,k),E(k,S),E(S,C),E(S,V),E(S,z),E(z,F),E(k,v),E(k,y),E(y,w),E(y,T),E(y,A),E(A,R),E(A,he),E(A,fe),E(e,_e),J&&J.m(e,null),E(e,Y),te(W,e,null),E(e,ze),te(Ie,e,null),X=!0},p(be,[Me]){var ds,Xt,Yt;(!X||Me&2)&&i!==(i=(((ds=be[1])==null?void 0:ds.name)||"Session")+"")&&ue(o,i),(!X||Me&1)&&h!==(h=be[0].currentWordIndex+1+"")&&ue(f,h),(!X||Me&2)&&g!==(g=(((Xt=be[1])==null?void 0:Xt.words.length)||0)+"")&&ue(_,g),(!X||Me&1)&&O!==(O=Dc(Date.now()-be[0].startTime)+"")&&ue(F,O),(!X||Me&1)&&P!==(P=be[0].wordResults.filter(Nc).length+"")&&ue(R,P),(!X||Me&2)&&Q!==(Q=(((Yt=be[1])==null?void 0:Yt.words.length)||0)+"")&&ue(fe,Q),be[2]?J?J.p(be,Me):(J=Vc(be),J.c(),J.m(e,Y)):J&&(J.d(1),J=null);const zt={};Me&1&&(zt.board=be[0].board),Me&1&&(zt.guesses=be[0].guesses),!le&&Me&1&&(le=!0,zt.value=be[0].board.words,Ge(()=>le=!1)),W.$set(zt);const Tt={};Me&1&&(Tt.disabled=!be[0].active),Me&1&&(Tt.maxLength=be[0].currentWordLength),!we&&Me&1&&(we=!0,Tt.value=be[0].board.words[be[0].guesses===Fe?0:be[0].guesses],Ge(()=>we=!1)),Ie.$set(Tt),(!X||Me&1)&&Pt(e,"--cols",be[0].currentWordLength)},i(be){X||(U(W.$$.fragment,be),U(Ie.$$.fragment,be),X=!0)},o(be){B(W.$$.fragment,be),B(Ie.$$.fragment,be),X=!1},d(be){be&&L(e),J&&J.d(),s[7](null),se(W),se(Ie)}}}function Dc(s){const e=Math.floor(s/1e3),t=Math.floor(e/60),n=e%60;return t>0?`${t}:${n.toString().padStart(2,"0")}`:`${n}s`}const Nc=s=>s.completed;function Xw(s,e,t){let n;At(s,ns,V=>t(11,n=V));let{sessionState:r}=e,{currentPlayerEntry:i}=e,{toaster:o}=e;sa("toaster",o);const u=Qt();let l=null,c=null,h,f=Date.now();const m=Ut*Fe+800;function g(){if(!c||!l)return;const V=r.latestWord,z=r.currentWord;if(V.length!==z.length){o.pop(`Word must be ${z.length} letters`),h.shake(r.guesses);return}if(!zb(V)){o.pop("Not a valid word"),h.shake(r.guesses);return}const O=r.guess(V,z);t(0,r.board.state[r.guesses]=O,r),t(0,r.guesses++,r),n.update(r.lastState,r.lastWord),ns.set(n),window.console.log("Current guess result:",r);const F=O.every(v=>v==="");if(t(5,i={playerName:localStorage.getItem("player")||"",playerUid:localStorage.getItem("playerUid"),sessionId:r.sessionId,totalGuesses:r.wordResults.reduce((v,y)=>v+y.guesses,0)+r.guesses,totalTime:Date.now()-r.startTime,completedAt:null,wordsCompleted:r.wordResults.filter(v=>v.completed).length+(F?1:0)}),F){h.bounce(r.guesses-1),setTimeout(()=>o.pop(Go[Math.min(r.guesses-1,Go.length-1)]),Ut*z.length+Ut);const v={word:z,guesses:r.guesses,timeSpent:Date.now()-f,completed:!0};r.wordResults.push(v),setTimeout(()=>{r.currentWordIndex+1<l.words.length?_():I()},m*1.4)}else if(r.guesses>=Fe){const v={word:z,guesses:r.guesses,timeSpent:Date.now()-f,completed:!1};r.wordResults.push(v),setTimeout(()=>{o.pop(`The word was: ${z.toUpperCase()}`),setTimeout(()=>{r.currentWordIndex+1<l.words.length?_():I()},2e3)},m)}}function _(){if(l&&(t(0,r.currentWordIndex++,r),r.currentWordIndex<l.words.length)){const V=l.words[r.currentWordIndex];t(0,r.currentWord=V.word.toLowerCase(),r),t(0,r.currentHint=V.hint,r),t(0,r.currentWordLength=V.length,r),t(0,r.guesses=0,r),t(0,r.active=!0,r),t(0,r.board={words:Array(Fe).fill(""),state:Array.from({length:Fe},()=>Array(V.length).fill(""))},r),jt(ns,n=new _r(r.board),n),f=Date.now(),o.pop(`Word ${r.currentWordIndex+1} of ${l.words.length}`)}}function I(){t(0,r.completed=!0,r),t(0,r.endTime=Date.now(),r),t(0,r.active=!1,r);const V=r.wordResults.reduce((v,y)=>v+y.guesses,0),z=r.endTime-r.startTime,O=r.wordResults.filter(v=>v.completed).length,F={playerName:localStorage.getItem("player")||"",playerUid:localStorage.getItem("playerUid"),sessionId:r.sessionId,totalGuesses:V,totalTime:z,completedAt:r.endTime,wordsCompleted:O};u("complete",F)}Ci(()=>{f=Date.now()});function k(V){Pe[V?"unshift":"push"](()=>{h=V,t(3,h)})}function S(V){s.$$.not_equal(r.board.words,V)&&(r.board.words=V,t(0,r))}function C(V){s.$$.not_equal(r.board.words[r.guesses===Fe?0:r.guesses],V)&&(r.board.words[r.guesses===Fe?0:r.guesses]=V,t(0,r))}return s.$$set=V=>{"sessionState"in V&&t(0,r=V.sessionState),"currentPlayerEntry"in V&&t(5,i=V.currentPlayerEntry),"toaster"in V&&t(6,o=V.toaster)},s.$$.update=()=>{s.$$.dirty&3&&(t(1,l=Ii(r.sessionId)),l&&r.currentWordIndex<l.words.length&&t(2,c=l.words[r.currentWordIndex]))},[r,l,c,h,g,i,o,k,S,C]}class Yw extends Ne{constructor(e){super(),De(this,e,Xw,Qw,Se,{sessionState:0,currentPlayerEntry:5,toaster:6})}}function zc(s){let e,t,n,r,i,o=s[1].words.length+"",u,l,c,h,f,m,g=s[1].words.map(Oc).join(", ")+"",_,I,k,S,C,V,z;return{c(){e=N("div"),t=N("div"),n=N("span"),n.textContent="Words:",r=$(),i=N("span"),u=H(o),l=$(),c=N("div"),h=N("span"),h.textContent="Lengths:",f=$(),m=N("span"),_=H(g),I=$(),k=N("div"),S=N("span"),S.textContent="Session Key:",C=$(),V=N("span"),z=H(s[0]),D(n,"class","detail-label svelte-1mfytwl"),D(i,"class","detail-value svelte-1mfytwl"),D(t,"class","detail svelte-1mfytwl"),D(h,"class","detail-label svelte-1mfytwl"),D(m,"class","detail-value svelte-1mfytwl"),D(c,"class","detail svelte-1mfytwl"),D(S,"class","detail-label svelte-1mfytwl"),D(V,"class","detail-value svelte-1mfytwl"),D(k,"class","detail svelte-1mfytwl"),D(e,"class","session-details svelte-1mfytwl")},m(O,F){j(O,e,F),E(e,t),E(t,n),E(t,r),E(t,i),E(i,u),E(e,l),E(e,c),E(c,h),E(c,f),E(c,m),E(m,_),E(e,I),E(e,k),E(k,S),E(k,C),E(k,V),E(V,z)},p(O,F){F&2&&o!==(o=O[1].words.length+"")&&ue(u,o),F&2&&g!==(g=O[1].words.map(Oc).join(", ")+"")&&ue(_,g),F&1&&ue(z,O[0])},d(O){O&&L(e)}}}function Mc(s){let e,t;return{c(){e=N("div"),t=H(s[3]),D(e,"class","error svelte-1mfytwl")},m(n,r){j(n,e,r),E(e,t)},p(n,r){r&8&&ue(t,n[3])},d(n){n&&L(e)}}}function Jw(s){let e;return{c(){e=H("Start Playing")},m(t,n){j(t,e,n)},d(t){t&&L(e)}}}function Zw(s){let e;return{c(){e=H("Starting...")},m(t,n){j(t,e,n)},d(t){t&&L(e)}}}function ev(s){var _e,Y;let e,t,n,r=(((_e=s[1])==null?void 0:_e.name)||"")+"",i,o,u,l,c=(((Y=s[1])==null?void 0:Y.words.length)||0)+"",h,f,m,g,_,I,k,S,C,V,z,O,F,v,y,w,T,A,P=s[1]&&zc(s),R=s[3]&&Mc(s);function he(W,le){return W[4]?Zw:Jw}let Q=he(s),fe=Q(s);return{c(){e=N("div"),t=N("div"),n=N("h2"),i=H(r),o=$(),u=N("p"),l=H("Play through "),h=H(c),f=H(" words with hints and compete on the leaderboard!"),m=$(),P&&P.c(),g=$(),_=N("div"),I=N("div"),k=N("label"),k.textContent="Enter Your Name:",S=$(),C=N("input"),V=$(),R&&R.c(),z=$(),O=N("div"),F=N("button"),fe.c(),y=$(),w=N("div"),w.innerHTML=`<h3 class="svelte-1mfytwl">How to Play:</h3> 
		<ul class="svelte-1mfytwl"><li class="svelte-1mfytwl">Guess each word using the provided hints</li> 
			<li class="svelte-1mfytwl">Words can be of different lengths (3-15 letters)</li> 
			<li class="svelte-1mfytwl">You have 6 attempts per word</li> 
			<li class="svelte-1mfytwl">Your total time and guesses are tracked</li> 
			<li class="svelte-1mfytwl">Compete with other players on the leaderboard!</li></ul>`,D(n,"class","svelte-1mfytwl"),D(u,"class","session-description svelte-1mfytwl"),D(t,"class","session-header svelte-1mfytwl"),D(k,"for","player-name"),D(k,"class","svelte-1mfytwl"),D(C,"id","player-name"),D(C,"type","text"),D(C,"placeholder","Your display name"),D(C,"maxlength","20"),C.disabled=s[4],D(C,"class","svelte-1mfytwl"),D(I,"class","input-group svelte-1mfytwl"),D(F,"class","start-button svelte-1mfytwl"),F.disabled=v=!s[1]||!s[2].trim()||s[4],D(O,"class","button-group svelte-1mfytwl"),D(_,"class","input-section svelte-1mfytwl"),D(w,"class","info-section svelte-1mfytwl"),D(e,"class","session-player-selector svelte-1mfytwl")},m(W,le){j(W,e,le),E(e,t),E(t,n),E(n,i),E(t,o),E(t,u),E(u,l),E(u,h),E(u,f),E(t,m),P&&P.m(t,null),E(e,g),E(e,_),E(_,I),E(I,k),E(I,S),E(I,C),vn(C,s[2]),E(_,V),R&&R.m(_,null),E(_,z),E(_,O),E(O,F),fe.m(F,null),E(e,y),E(e,w),T||(A=[ce(C,"input",s[7]),ce(C,"keypress",s[6]),ce(F,"click",s[5])],T=!0)},p(W,[le]){var ze,Ie;le&2&&r!==(r=(((ze=W[1])==null?void 0:ze.name)||"")+"")&&ue(i,r),le&2&&c!==(c=(((Ie=W[1])==null?void 0:Ie.words.length)||0)+"")&&ue(h,c),W[1]?P?P.p(W,le):(P=zc(W),P.c(),P.m(t,null)):P&&(P.d(1),P=null),le&16&&(C.disabled=W[4]),le&4&&C.value!==W[2]&&vn(C,W[2]),W[3]?R?R.p(W,le):(R=Mc(W),R.c(),R.m(_,z)):R&&(R.d(1),R=null),Q!==(Q=he(W))&&(fe.d(1),fe=Q(W),fe&&(fe.c(),fe.m(F,null))),le&22&&v!==(v=!W[1]||!W[2].trim()||W[4])&&(F.disabled=v)},i:ae,o:ae,d(W){W&&L(e),P&&P.d(),R&&R.d(),fe.d(),T=!1,$e(A)}}}const Oc=s=>s.length;function tv(s,e,t){let{sessionId:n}=e;const r=Qt();let i="",o="",u=!1,l=null;async function c(){if(!l){t(3,o="Session not found");return}if(!i.trim()){t(3,o="Please enter your name");return}const m=i.trim();t(4,u=!0),t(3,o="");try{r("start",{sessionId:n,playerName:m})}catch{t(3,o="Failed to check session status. Please try again."),t(4,u=!1)}}function h(m){m.key==="Enter"&&!u&&c()}function f(){i=this.value,t(2,i)}return s.$$set=m=>{"sessionId"in m&&t(0,n=m.sessionId)},s.$$.update=()=>{s.$$.dirty&3&&(t(1,l=Ii(n)),l||t(3,o="Session not found"))},[n,l,i,o,u,c,h,f]}class sv extends Ne{constructor(e){super(),De(this,e,tv,ev,Se,{sessionId:0})}}function nv(s){let e,t,n;return{c(){e=N("div"),D(e,"disabled",s[1]),D(e,"class","svelte-16o9p8g"),Re(e,"checked",s[0])},m(r,i){j(r,e,i),t||(n=ce(e,"click",s[2]),t=!0)},p(r,[i]){i&2&&D(e,"disabled",r[1]),i&1&&Re(e,"checked",r[0])},i:ae,o:ae,d(r){r&&L(e),t=!1,n()}}}function rv(s,e,t){let{value:n}=e,{disabled:r=!1}=e;const i=o=>!r&&t(0,n=!n);return s.$$set=o=>{"value"in o&&t(0,n=o.value),"disabled"in o&&t(1,r=o.disabled)},[n,r,i]}class iv extends Ne{constructor(e){super(),De(this,e,rv,nv,Se,{value:0,disabled:1})}}function xc(s,e,t){const n=s.slice();return n[4]=e[t],n[6]=t,n}function Lc(s){let e,t=s[4]+"",n;return{c(){e=N("option"),n=H(t),e.__value=s[6],e.value=e.__value},m(r,i){j(r,e,i),E(e,n)},p(r,i){i&2&&t!==(t=r[4]+"")&&ue(n,t)},d(r){r&&L(e)}}}function ov(s){let e,t,n,r=s[1],i=[];for(let o=0;o<r.length;o+=1)i[o]=Lc(xc(s,r,o));return{c(){e=N("select");for(let o=0;o<i.length;o+=1)i[o].c();e.disabled=s[2],s[0]===void 0&&Vt(()=>s[3].call(e))},m(o,u){j(o,e,u);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(e,null);ni(e,s[0],!0),t||(n=ce(e,"change",s[3]),t=!0)},p(o,[u]){if(u&2){r=o[1];let l;for(l=0;l<r.length;l+=1){const c=xc(o,r,l);i[l]?i[l].p(c,u):(i[l]=Lc(c),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=r.length}u&4&&(e.disabled=o[2]),u&1&&ni(e,o[0])},i:ae,o:ae,d(o){o&&L(e),Lt(i,o),t=!1,n()}}}function av(s,e,t){let{value:n}=e,{options:r}=e,{disabled:i=!1}=e;function o(){n=th(this),t(0,n)}return s.$$set=u=>{"value"in u&&t(0,n=u.value),"options"in u&&t(1,r=u.options),"disabled"in u&&t(2,i=u.disabled)},[n,r,i,o]}class lv extends Ne{constructor(e){super(),De(this,e,av,ov,Se,{value:0,options:1,disabled:2})}}const uv=s=>({}),jc=s=>({}),cv=s=>({}),Fc=s=>({}),hv=s=>({}),$c=s=>({});function dv(s){let e,t,n,r;function i(l){s[7](l)}var o=s[4][s[1]];function u(l){let c={options:l[2],disabled:l[3]};return l[0]!==void 0&&(c.value=l[0]),{props:c}}return o&&(e=Ul(o,u(s)),Pe.push(()=>He(e,"value",i))),{c(){e&&ne(e.$$.fragment),n=qs()},m(l,c){e&&te(e,l,c),j(l,n,c),r=!0},p(l,c){const h={};if(c&4&&(h.options=l[2]),c&8&&(h.disabled=l[3]),!t&&c&1&&(t=!0,h.value=l[0],Ge(()=>t=!1)),c&2&&o!==(o=l[4][l[1]])){if(e){Je();const f=e;B(f.$$.fragment,1,0,()=>{se(f,1)}),Ze()}o?(e=Ul(o,u(l)),Pe.push(()=>He(e,"value",i)),ne(e.$$.fragment),U(e.$$.fragment,1),te(e,n.parentNode,n)):e=null}else o&&e.$set(h)},i(l){r||(e&&U(e.$$.fragment,l),r=!0)},o(l){e&&B(e.$$.fragment,l),r=!1},d(l){l&&L(n),e&&se(e,l)}}}function fv(s){let e;const t=s[6].custom,n=is(t,s,s[5],jc);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&32)&&as(n,t,r,r[5],e?os(t,r[5],i,uv):ls(r[5]),jc)},i(r){e||(U(n,r),e=!0)},o(r){B(n,r),e=!1},d(r){n&&n.d(r)}}}function mv(s){let e,t,n,r,i,o,u,l,c;const h=s[6].title,f=is(h,s,s[5],$c),m=s[6].desc,g=is(m,s,s[5],Fc),_=[fv,dv],I=[];function k(S,C){return S[1]==="custom"?0:1}return u=k(s),l=I[u]=_[u](s),{c(){e=N("div"),t=N("div"),n=N("div"),f&&f.c(),r=$(),i=N("div"),g&&g.c(),o=$(),l.c(),D(n,"class","title svelte-40b4uj"),D(i,"class","desc svelte-40b4uj"),D(e,"class","setting svelte-40b4uj")},m(S,C){j(S,e,C),E(e,t),E(t,n),f&&f.m(n,null),E(t,r),E(t,i),g&&g.m(i,null),E(e,o),I[u].m(e,null),c=!0},p(S,[C]){f&&f.p&&(!c||C&32)&&as(f,h,S,S[5],c?os(h,S[5],C,hv):ls(S[5]),$c),g&&g.p&&(!c||C&32)&&as(g,m,S,S[5],c?os(m,S[5],C,cv):ls(S[5]),Fc);let V=u;u=k(S),u===V?I[u].p(S,C):(Je(),B(I[V],1,1,()=>{I[V]=null}),Ze(),l=I[u],l?l.p(S,C):(l=I[u]=_[u](S),l.c()),U(l,1),l.m(e,null))},i(S){c||(U(f,S),U(g,S),U(l),c=!0)},o(S){B(f,S),B(g,S),B(l),c=!1},d(S){S&&L(e),f&&f.d(S),g&&g.d(S),I[u].d()}}}function pv(s,e,t){let{$$slots:n={},$$scope:r}=e,{value:i}=e,{type:o}=e,{options:u=[]}=e,{disabled:l=!1}=e;const c={switch:iv,dropdown:lv};function h(f){i=f,t(0,i)}return s.$$set=f=>{"value"in f&&t(0,i=f.value),"type"in f&&t(1,o=f.type),"options"in f&&t(2,u=f.options),"disabled"in f&&t(3,l=f.disabled),"$$scope"in f&&t(5,r=f.$$scope)},[i,o,u,l,c,r,n,h]}class Zn extends Ne{constructor(e){super(),De(this,e,pv,mv,Se,{value:0,type:1,options:2,disabled:3})}}function gv(s){let e;return{c(){e=H("Hard Mode")},m(t,n){j(t,e,n)},d(t){t&&L(e)}}}function yv(s){let e;return{c(){e=H("Any revealed hints must be used in subsequent guesses")},m(t,n){j(t,e,n)},d(t){t&&L(e)}}}function _v(s){let e;return{c(){e=H("Dark Theme")},m(t,n){j(t,e,n)},d(t){t&&L(e)}}}function bv(s){let e;return{c(){e=H("Color Blind Mode")},m(t,n){j(t,e,n)},d(t){t&&L(e)}}}function wv(s){let e;return{c(){e=H("High contrast colors")},m(t,n){j(t,e,n)},d(t){t&&L(e)}}}function vv(s){let e;return{c(){e=H("Game Mode")},m(t,n){j(t,e,n)},d(t){t&&L(e)}}}function kv(s){let e;return{c(){e=H("The game mode determines how often the word refreshes")},m(t,n){j(t,e,n)},d(t){t&&L(e)}}}function Ev(s){let e;return{c(){e=H("Play Historical Game")},m(t,n){j(t,e,n)},d(t){t&&L(e)}}}function Tv(s){let e;return{c(){e=H("Play a previous word by pasting in a link or setting the date number")},m(t,n){j(t,e,n)},d(t){t&&L(e)}}}function Iv(s){let e,t,n,r;return{c(){e=ut("svg"),t=ut("path"),D(t,"d","M19.391 12c0-4.082-3.309-7.391-7.391-7.391a7.39 7.39 0 0 0-6.523 3.912l1.653 1.567H2v-5.13l1.572 1.659A9.99 9.99 0 0 1 12 2a10 10 0 1 1 0 20c-4.589 0-8.453-3.09-9.631-7.301l2.512-.703c.871 3.113 3.73 5.395 7.119 5.395 4.082 0 7.391-3.309 7.391-7.391zM12 7.5a1 1 0 0 1 1 1v3.062l3.288 3.031a1 1 0 0 1-1.356 1.471L11 12.438V8.5a1 1 0 0 1 1-1z"),D(e,"class","custom svelte-1ktskry"),D(e,"xmlns","http://www.w3.org/2000/svg"),D(e,"viewBox","0 0 24 24")},m(i,o){j(i,e,o),E(e,t),n||(r=ce(e,"click",s[11]),n=!0)},p:ae,d(i){i&&L(e),n=!1,r()}}}function Av(s){let e,t,n,r,i,o,u,l,c,h,f,m,g,_,I,k,S,C,V,z,O,F,v,y;function w(W){s[6](W)}let T={type:"switch",disabled:!s[0].validHard,$$slots:{desc:[yv],title:[gv]},$$scope:{ctx:s}};s[1].hard[s[2]]!==void 0&&(T.value=s[1].hard[s[2]]),o=new Zn({props:T}),Pe.push(()=>He(o,"value",w));function A(W){s[8](W)}let P={type:"switch",$$slots:{title:[_v]},$$scope:{ctx:s}};s[1].dark!==void 0&&(P.value=s[1].dark),c=new Zn({props:P}),Pe.push(()=>He(c,"value",A));function R(W){s[9](W)}let he={type:"switch",$$slots:{desc:[wv],title:[bv]},$$scope:{ctx:s}};s[1].colorblind!==void 0&&(he.value=s[1].colorblind),m=new Zn({props:he}),Pe.push(()=>He(m,"value",R));function Q(W){s[10](W)}let fe={type:"dropdown",options:pe.modes.map(Sv),$$slots:{desc:[kv],title:[vv]},$$scope:{ctx:s}};s[2]!==void 0&&(fe.value=s[2]),I=new Zn({props:fe}),Pe.push(()=>He(I,"value",Q));function _e(W){s[12](W)}let Y={type:"custom",$$slots:{custom:[Iv],desc:[Tv],title:[Ev]},$$scope:{ctx:s}};return s[2]!==void 0&&(Y.value=s[2]),C=new Zn({props:Y}),Pe.push(()=>He(C,"value",_e)),{c(){e=N("div"),t=N("div"),n=N("h3"),n.textContent="settings",r=$(),i=N("div"),ne(o.$$.fragment),l=$(),ne(c.$$.fragment),f=$(),ne(m.$$.fragment),_=$(),ne(I.$$.fragment),S=$(),ne(C.$$.fragment),z=$(),O=N("div"),O.innerHTML=`<a href="https://github.com/MikhaD/wordle" target="_blank" rel="noreferrer">Leave a </a> 
			<a href="https://github.com/MikhaD/wordle/issues" target="_blank" rel="noreferrer">Report a Bug</a>`,D(O,"class","links svelte-1ktskry"),D(t,"class","settings-top"),D(e,"class","outer svelte-1ktskry")},m(W,le){j(W,e,le),E(e,t),E(t,n),E(t,r),E(t,i),te(o,i,null),E(t,l),te(c,t,null),E(t,f),te(m,t,null),E(t,_),te(I,t,null),E(t,S),te(C,t,null),E(t,z),E(t,O),F=!0,v||(y=ce(i,"click",s[7]),v=!0)},p(W,[le]){const ze={};le&1&&(ze.disabled=!W[0].validHard),le&8192&&(ze.$$scope={dirty:le,ctx:W}),!u&&le&6&&(u=!0,ze.value=W[1].hard[W[2]],Ge(()=>u=!1)),o.$set(ze);const Ie={};le&8192&&(Ie.$$scope={dirty:le,ctx:W}),!h&&le&2&&(h=!0,Ie.value=W[1].dark,Ge(()=>h=!1)),c.$set(Ie);const we={};le&8192&&(we.$$scope={dirty:le,ctx:W}),!g&&le&2&&(g=!0,we.value=W[1].colorblind,Ge(()=>g=!1)),m.$set(we);const X={};le&8192&&(X.$$scope={dirty:le,ctx:W}),!k&&le&4&&(k=!0,X.value=W[2],Ge(()=>k=!1)),I.$set(X);const J={};le&8192&&(J.$$scope={dirty:le,ctx:W}),!V&&le&4&&(V=!0,J.value=W[2],Ge(()=>V=!1)),C.$set(J)},i(W){F||(U(o.$$.fragment,W),U(c.$$.fragment,W),U(m.$$.fragment,W),U(I.$$.fragment,W),U(C.$$.fragment,W),F=!0)},o(W){B(o.$$.fragment,W),B(c.$$.fragment,W),B(m.$$.fragment,W),B(I.$$.fragment,W),B(C.$$.fragment,W),F=!1},d(W){W&&L(e),se(o),se(c),se(m),se(I),se(C),v=!1,y()}}}const Sv=s=>s.name;function Rv(s,e,t){let n,r;At(s,Ot,k=>t(1,n=k)),At(s,Ue,k=>t(2,r=k));let{state:i}=e;const o=Dn("toaster"),u=Qt();let l;Ci(()=>{t(5,l=document.documentElement)});function c(k){s.$$.not_equal(n.hard[r],k)&&(n.hard[r]=k,Ot.set(n))}const h=()=>{i.validHard||o.pop("Game has already violated hard mode")};function f(k){s.$$.not_equal(n.dark,k)&&(n.dark=k,Ot.set(n))}function m(k){s.$$.not_equal(n.colorblind,k)&&(n.colorblind=k,Ot.set(n))}function g(k){r=k,Ue.set(r)}const _=()=>u("historical");function I(k){r=k,Ue.set(r)}return s.$$set=k=>{"state"in k&&t(0,i=k.state)},s.$$.update=()=>{s.$$.dirty&34&&l&&(n.dark?l.classList.remove("light"):l.classList.add("light"),n.colorblind?l.classList.add("colorblind"):l.classList.remove("colorblind"),localStorage.setItem("settings",n.toString()))},[i,n,r,o,u,l,c,h,f,m,g,_,I]}class Cv extends Ne{constructor(e){super(),De(this,e,Rv,Av,Se,{state:0})}}function Pv(s){let e,t;return e=new nw({props:{visible:s[5]}}),{c(){ne(e.$$.fragment)},m(n,r){te(e,n,r),t=!0},p(n,r){const i={};r[0]&32&&(i.visible=n[5]),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Vv(s){let e,t,n,r;return e=new Cw({props:{data:s[1]}}),n=new Dw({props:{distribution:s[1].guesses,game:s[2]}}),{c(){ne(e.$$.fragment),t=$(),ne(n.$$.fragment)},m(i,o){te(e,i,o),j(i,t,o),te(n,i,o),r=!0},p(i,o){const u={};o[0]&2&&(u.data=i[1]),e.$set(u);const l={};o[0]&2&&(l.distribution=i[1].guesses),o[0]&4&&(l.game=i[2]),n.$set(l)},i(i){r||(U(e.$$.fragment,i),U(n.$$.fragment,i),r=!0)},o(i){B(e.$$.fragment,i),B(n.$$.fragment,i),r=!1},d(i){se(e,i),i&&L(t),se(n,i)}}}function Dv(s){let e;return{c(){e=N("h2"),e.textContent="Statistics not available for historical games",D(e,"class","historical svelte-zu82m8")},m(t,n){j(t,e,n)},p:ae,i:ae,o:ae,d(t){t&&L(e)}}}function Nv(s){let e,t,n={slot:"1"};return e=new lw({props:n}),s[32](e),e.$on("timeup",s[33]),e.$on("reload",s[17]),{c(){ne(e.$$.fragment)},m(r,i){te(e,r,i),t=!0},p(r,i){const o={};e.$set(o)},i(r){t||(U(e.$$.fragment,r),t=!0)},o(r){B(e.$$.fragment,r),t=!1},d(r){s[32](null),se(e,r)}}}function zv(s){let e,t;return e=new xb({props:{slot:"2",state:s[2]}}),{c(){ne(e.$$.fragment)},m(n,r){te(e,n,r),t=!0},p(n,r){const i={};r[0]&4&&(i.state=n[2]),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Mv(s){let e,t,n,r;return{c(){e=N("div"),e.textContent="give up",D(e,"class","button concede svelte-zu82m8")},m(i,o){j(i,e,o),n||(r=[ce(e,"click",s[16]),ce(e,"keydown",s[16])],n=!0)},p:ae,i(i){t||Vt(()=>{t=$f(e,Cn,{delay:300}),t.start()})},o:ae,d(i){i&&L(e),n=!1,$e(r)}}}function Ov(s){let e,t;return e=new qd({props:{word:s[0],alternates:2}}),{c(){ne(e.$$.fragment)},m(n,r){te(e,n,r),t=!0},p(n,r){const i={};r[0]&1&&(i.word=n[0]),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function xv(s){let e,t,n,r,i,o,u,l,c,h,f;const m=[Dv,Vv],g=[];function _(C,V){return C[4].modes[C[12]].historical?0:1}e=_(s),t=g[e]=m[e](s),r=new tb({props:{visible:!s[2].active,$$slots:{2:[zv],1:[Nv]},$$scope:{ctx:s}}}),o=new ww({props:{wordNumber:s[2].wordNumber}});const I=[Ov,Mv],k=[];function S(C,V){return C[2].active?1:0}return l=S(s),c=k[l]=I[l](s),{c(){t.c(),n=$(),ne(r.$$.fragment),i=$(),ne(o.$$.fragment),u=$(),c.c(),h=qs()},m(C,V){g[e].m(C,V),j(C,n,V),te(r,C,V),j(C,i,V),te(o,C,V),j(C,u,V),k[l].m(C,V),j(C,h,V),f=!0},p(C,V){let z=e;e=_(C),e===z?g[e].p(C,V):(Je(),B(g[z],1,1,()=>{g[z]=null}),Ze(),t=g[e],t?t.p(C,V):(t=g[e]=m[e](C),t.c()),U(t,1),t.m(n.parentNode,n));const O={};V[0]&4&&(O.visible=!C[2].active),V[0]&2564|V[1]&16384&&(O.$$scope={dirty:V,ctx:C}),r.$set(O);const F={};V[0]&4&&(F.wordNumber=C[2].wordNumber),o.$set(F);let v=l;l=S(C),l===v?k[l].p(C,V):(Je(),B(k[v],1,1,()=>{k[v]=null}),Ze(),c=k[l],c?c.p(C,V):(c=k[l]=I[l](C),c.c()),U(c,1),c.m(h.parentNode,h))},i(C){f||(U(t),U(r.$$.fragment,C),U(o.$$.fragment,C),U(c),f=!0)},o(C){B(t),B(r.$$.fragment,C),B(o.$$.fragment,C),B(c),f=!1},d(C){g[e].d(C),C&&L(n),se(r,C),C&&L(i),se(o,C),C&&L(u),k[l].d(C),C&&L(h)}}}function Uc(s){let e,t,n;return{c(){e=N("div"),e.textContent="give up",D(e,"class","button concede svelte-zu82m8")},m(r,i){j(r,e,i),t||(n=[ce(e,"click",s[16]),ce(e,"keydown",s[16])],t=!0)},p:ae,d(r){r&&L(e),t=!1,$e(n)}}}function Lv(s){let e,t,n,r,i;e=new Cv({props:{state:s[2]}}),e.$on("historical",s[36]);let o=s[2].active&&Uc(s);return r=new mw({props:{change:s[6]}}),{c(){ne(e.$$.fragment),t=$(),o&&o.c(),n=$(),ne(r.$$.fragment)},m(u,l){te(e,u,l),j(u,t,l),o&&o.m(u,l),j(u,n,l),te(r,u,l),i=!0},p(u,l){const c={};l[0]&4&&(c.state=u[2]),e.$set(c),u[2].active?o?o.p(u,l):(o=Uc(u),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null);const h={};l[0]&64&&(h.change=u[6]),r.$set(h)},i(u){i||(U(e.$$.fragment,u),U(r.$$.fragment,u),i=!0)},o(u){B(e.$$.fragment,u),B(r.$$.fragment,u),i=!1},d(u){se(e,u),u&&L(t),o&&o.d(u),u&&L(n),se(r,u)}}}function jv(s){let e,t,n,r,i,o,u=s[4].modes[s[12]].name+"",l,c,h=s[2].wordNumber+"",f,m,g;return{c(){e=N("a"),e.textContent="Original Wordle",t=$(),n=N("div"),r=N("div"),r.textContent=`v${s[14]}`,i=$(),o=N("div"),l=H(u),c=H(" word #"),f=H(h),D(e,"href","https://www.nytimes.com/games/wordle/"),D(e,"target","_blank"),D(e,"rel","noreferrer"),D(o,"title","double click to reset your stats"),D(o,"class","word")},m(_,I){j(_,e,I),j(_,t,I),j(_,n,I),E(n,r),E(n,i),E(n,o),E(o,l),E(o,c),E(o,f),m||(g=ce(o,"dblclick",s[35]),m=!0)},p(_,I){I[0]&4112&&u!==(u=_[4].modes[_[12]].name+"")&&ue(l,u),I[0]&4&&h!==(h=_[2].wordNumber+"")&&ue(f,h)},d(_){_&&L(e),_&&L(t),_&&L(n),m=!1,g()}}}function Fv(s){let e,t,n;function r(o){s[38](o)}let i={};return s[6]!==void 0&&(i.showSettings=s[6]),e=new Ew({props:i}),Pe.push(()=>He(e,"showSettings",r)),{c(){ne(e.$$.fragment)},m(o,u){te(e,o,u),n=!0},p(o,u){const l={};!t&&u[0]&64&&(t=!0,l.showSettings=o[6],Ge(()=>t=!1)),e.$set(l)},i(o){n||(U(e.$$.fragment,o),n=!0)},o(o){B(e.$$.fragment,o),n=!1},d(o){se(e,o)}}}function $v(s){let e,t,n,r,i,o,u,l,c,h,f,m,g,_,I,k,S,C,V,z,O,F,v,y,w;function T(X){s[19](X)}let A={tutorial:s[13].tutorial===2,showStats:s[1].played>0||s[4].modes[s[12]].historical&&!s[2].active};s[9]!==void 0&&(A.showRefresh=s[9]),n=new jw({props:A}),Pe.push(()=>He(n,"showRefresh",T)),n.$on("closeTutPopUp",co(s[20])),n.$on("stats",s[21]),n.$on("tutorial",s[22]),n.$on("settings",s[23]),n.$on("reload",s[17]);function P(X){s[25](X)}let R={tutorial:s[13].tutorial===1,board:s[2].board,guesses:s[2].guesses,icon:s[4].modes[s[12]].icon};s[2].board.words!==void 0&&(R.value=s[2].board.words),o=new Qd({props:R}),s[24](o),Pe.push(()=>He(o,"value",P)),o.$on("closeTutPopUp",co(s[26])),o.$on("swipe",s[18]);function he(X){s[27](X)}let Q={disabled:!s[2].active||s[13].tutorial===3||s[8]};s[2].board.words[s[2].guesses===Fe?0:s[2].guesses]!==void 0&&(Q.value=s[2].board.words[s[2].guesses===Fe?0:s[2].guesses]),c=new Xd({props:Q}),Pe.push(()=>He(c,"value",he)),c.$on("keystroke",s[28]),c.$on("submitWord",s[15]),c.$on("esc",s[29]);function fe(X){s[30](X)}let _e={fullscreen:s[13].tutorial===0,$$slots:{default:[Pv]},$$scope:{ctx:s}};s[5]!==void 0&&(_e.visible=s[5]),m=new Gr({props:_e}),Pe.push(()=>He(m,"visible",fe)),m.$on("close",co(s[31]));function Y(X){s[34](X)}let W={$$slots:{default:[xv]},$$scope:{ctx:s}};s[7]!==void 0&&(W.visible=s[7]),I=new Gr({props:W}),Pe.push(()=>He(I,"visible",Y));function le(X){s[37](X)}let ze={fullscreen:!0,$$slots:{footer:[jv],default:[Lv]},$$scope:{ctx:s}};s[6]!==void 0&&(ze.visible=s[6]),C=new Gr({props:ze}),Pe.push(()=>He(C,"visible",le));function Ie(X){s[39](X)}let we={$$slots:{default:[Fv]},$$scope:{ctx:s}};return s[8]!==void 0&&(we.visible=s[8]),O=new Gr({props:we}),Pe.push(()=>He(O,"visible",Ie)),{c(){e=$(),t=N("main"),ne(n.$$.fragment),i=$(),ne(o.$$.fragment),l=$(),ne(c.$$.fragment),f=$(),ne(m.$$.fragment),_=$(),ne(I.$$.fragment),S=$(),ne(C.$$.fragment),z=$(),ne(O.$$.fragment),Pt(t,"--rows",Fe),Pt(t,"--cols",kt),D(t,"class","svelte-zu82m8"),Re(t,"guesses",s[2].guesses!==0)},m(X,J){j(X,e,J),j(X,t,J),te(n,t,null),E(t,i),te(o,t,null),E(t,l),te(c,t,null),j(X,f,J),te(m,X,J),j(X,_,J),te(I,X,J),j(X,S,J),te(C,X,J),j(X,z,J),te(O,X,J),v=!0,y||(w=[ce(document.body,"click",function(){rs(s[10].hideCtx)&&s[10].hideCtx.apply(this,arguments)}),ce(document.body,"contextmenu",function(){rs(s[10].hideCtx)&&s[10].hideCtx.apply(this,arguments)})],y=!0)},p(X,J){s=X;const St={};J[0]&8192&&(St.tutorial=s[13].tutorial===2),J[0]&4118&&(St.showStats=s[1].played>0||s[4].modes[s[12]].historical&&!s[2].active),!r&&J[0]&512&&(r=!0,St.showRefresh=s[9],Ge(()=>r=!1)),n.$set(St);const Ce={};J[0]&8192&&(Ce.tutorial=s[13].tutorial===1),J[0]&4&&(Ce.board=s[2].board),J[0]&4&&(Ce.guesses=s[2].guesses),J[0]&4112&&(Ce.icon=s[4].modes[s[12]].icon),!u&&J[0]&4&&(u=!0,Ce.value=s[2].board.words,Ge(()=>u=!1)),o.$set(Ce);const ht={};J[0]&8452&&(ht.disabled=!s[2].active||s[13].tutorial===3||s[8]),!h&&J[0]&4&&(h=!0,ht.value=s[2].board.words[s[2].guesses===Fe?0:s[2].guesses],Ge(()=>h=!1)),c.$set(ht),(!v||J[0]&4)&&Re(t,"guesses",s[2].guesses!==0);const Et={};J[0]&8192&&(Et.fullscreen=s[13].tutorial===0),J[0]&32|J[1]&16384&&(Et.$$scope={dirty:J,ctx:s}),!g&&J[0]&32&&(g=!0,Et.visible=s[5],Ge(()=>g=!1)),m.$set(Et);const Ke={};J[0]&6679|J[1]&16384&&(Ke.$$scope={dirty:J,ctx:s}),!k&&J[0]&128&&(k=!0,Ke.visible=s[7],Ge(()=>k=!1)),I.$set(Ke);const re={};J[0]&4444|J[1]&16384&&(re.$$scope={dirty:J,ctx:s}),!V&&J[0]&64&&(V=!0,re.visible=s[6],Ge(()=>V=!1)),C.$set(re);const it={};J[0]&64|J[1]&16384&&(it.$$scope={dirty:J,ctx:s}),!F&&J[0]&256&&(F=!0,it.visible=s[8],Ge(()=>F=!1)),O.$set(it)},i(X){v||(U(n.$$.fragment,X),U(o.$$.fragment,X),U(c.$$.fragment,X),U(m.$$.fragment,X),U(I.$$.fragment,X),U(C.$$.fragment,X),U(O.$$.fragment,X),v=!0)},o(X){B(n.$$.fragment,X),B(o.$$.fragment,X),B(c.$$.fragment,X),B(m.$$.fragment,X),B(I.$$.fragment,X),B(C.$$.fragment,X),B(O.$$.fragment,X),v=!1},d(X){X&&L(e),X&&L(t),se(n),s[24](null),se(o),se(c),X&&L(f),se(m,X),X&&L(_),se(I,X),X&&L(S),se(C,X),X&&L(z),se(O,X),y=!1,$e(w)}}}function Uv(s,e,t){let n,r,i;At(s,Ue,re=>t(12,n=re)),At(s,ns,re=>t(40,r=re)),At(s,Ot,re=>t(13,i=re));let{word:o}=e,{stats:u}=e,{game:l}=e,{toaster:c}=e;sa("toaster",c);const h=Dn("version"),f=Ut*Fe+800;let m=i.tutorial===3,g=!1,_=!1,I=!1,k=!1,S,C;function V(){if(l.latestWord.length!==kt)c.pop("Not enough letters"),S.shake(l.guesses);else if(Us.contains(l.latestWord)){if(l.guesses>0){const re=l.checkHardMode();if(i.hard[n]){if(re.type===""){c.pop(`${Vb(re.pos+1)} letter must be ${re.char.toUpperCase()}`),S.shake(l.guesses);return}else if(re.type===""){c.pop(`Guess must contain ${re.char.toUpperCase()}`),S.shake(l.guesses);return}}else re.type!==""&&t(2,l.validHard=!1,l)}t(2,l.board.state[l.guesses]=l.guess(o),l),t(2,++l.guesses,l),r.update(l.lastState,l.lastWord),ns.set(r),l.lastWord===o?z():l.guesses===Fe&&O()}else c.pop("Not in word list"),S.shake(l.guesses)}function z(){S.bounce(l.guesses-1),t(2,l.active=!1,l),setTimeout(()=>c.pop(Go[l.guesses-1]),Ut*kt+Ut),setTimeout(y,f*1.4),pe.modes[n].historical||(u.addWin(l.guesses,pe.modes[n]),t(1,u),localStorage.setItem(`stats-${n}`,u.toString()))}function O(){t(2,l.active=!1,l),setTimeout(y,f),pe.modes[n].historical||(u.addLoss(pe.modes[n]),t(1,u),localStorage.setItem(`stats-${n}`,u.toString()))}function F(){t(6,g=!1),setTimeout(y,Ut),O()}function v(){t(4,pe.modes[n].historical=!1,pe),t(4,pe.modes[n].seed=_n(n),pe),t(2,l=new Ko(n,localStorage.getItem(`state-${n}`))),t(0,o=Us.words[Gd(0,Us.words.length,pe.modes[n].seed)]),jt(ns,r=new _r,r),t(7,_=!1),t(9,k=!1),C.reset(n)}function y(){l.active||t(7,_=!0)}function w(re){switch(re.detail.direction){case"left":jt(Ue,n=(n+1)%pe.modes.length,n),c.pop(pe.modes[n].name);break;case"right":jt(Ue,n=(n-1+pe.modes.length)%pe.modes.length,n),c.pop(pe.modes[n].name);break}}Ci(()=>{l.active||setTimeout(y,f)});function T(re){k=re,t(9,k)}const A=()=>jt(Ot,i.tutorial=1,i),P=()=>t(7,_=!0),R=()=>t(5,m=!0),he=()=>t(6,g=!0);function Q(re){Pe[re?"unshift":"push"](()=>{S=re,t(10,S)})}function fe(re){s.$$.not_equal(l.board.words,re)&&(l.board.words=re,t(2,l))}const _e=()=>jt(Ot,i.tutorial=0,i);function Y(re){s.$$.not_equal(l.board.words[l.guesses===Fe?0:l.guesses],re)&&(l.board.words[l.guesses===Fe?0:l.guesses]=re,t(2,l))}const W=()=>{i.tutorial&&jt(Ot,i.tutorial=0,i),S.hideCtx()},le=()=>{t(5,m=!1),t(7,_=!1),t(6,g=!1)};function ze(re){m=re,t(5,m)}const Ie=()=>i.tutorial===3&&jt(Ot,--i.tutorial,i);function we(re){Pe[re?"unshift":"push"](()=>{C=re,t(11,C)})}const X=()=>t(9,k=!0);function J(re){_=re,t(7,_)}const St=()=>{localStorage.clear(),c.pop("localStorage cleared")},Ce=()=>t(8,I=!0);function ht(re){g=re,t(6,g)}function Et(re){g=re,t(6,g)}function Ke(re){I=re,t(8,I)}return s.$$set=re=>{"word"in re&&t(0,o=re.word),"stats"in re&&t(1,u=re.stats),"game"in re&&t(2,l=re.game),"toaster"in re&&t(3,c=re.toaster)},[o,u,l,c,pe,m,g,_,I,k,S,C,n,i,h,V,F,v,w,T,A,P,R,he,Q,fe,_e,Y,W,le,ze,Ie,we,X,J,St,Ce,ht,Et,Ke]}class qv extends Ne{constructor(e){super(),De(this,e,Uv,$v,Se,{word:0,stats:1,game:2,toaster:3},null,[-1,-1])}}function qc(s,e,t){const n=s.slice();return n[8]=e[t],n[10]=t,n}function Bc(s){let e,t;return{c(){e=N("h3"),t=H(s[0]),D(e,"class","svelte-1kgpmtt")},m(n,r){j(n,e,r),E(e,t)},p(n,r){r&1&&ue(t,n[0])},d(n){n&&L(e)}}}function Hc(s){let e,t,n,r,i,o,u,l,c,h=Gc(s[4])+"",f,m,g,_,I,k,S=s[1].wordsCompleted+"",C,V,z,O,F,v,y=s[1].totalGuesses+"",w,T,A,P,R,he,Q=Si(s[1].totalTime)+"",fe;return{c(){e=N("div"),t=N("h3"),t.textContent="Your Results",n=$(),r=N("div"),i=N("div"),o=N("div"),o.textContent="Rank",u=$(),l=N("div"),c=H(s[4]),f=H(h),m=$(),g=N("div"),_=N("div"),_.textContent="Words Completed",I=$(),k=N("div"),C=H(S),V=$(),z=N("div"),O=N("div"),O.textContent="Total Guesses",F=$(),v=N("div"),w=H(y),T=$(),A=N("div"),P=N("div"),P.textContent="Total Time",R=$(),he=N("div"),fe=H(Q),D(t,"class","svelte-1kgpmtt"),D(o,"class","stat-label svelte-1kgpmtt"),D(l,"class","stat-value svelte-1kgpmtt"),D(i,"class","stat svelte-1kgpmtt"),D(_,"class","stat-label svelte-1kgpmtt"),D(k,"class","stat-value svelte-1kgpmtt"),D(g,"class","stat svelte-1kgpmtt"),D(O,"class","stat-label svelte-1kgpmtt"),D(v,"class","stat-value svelte-1kgpmtt"),D(z,"class","stat svelte-1kgpmtt"),D(P,"class","stat-label svelte-1kgpmtt"),D(he,"class","stat-value svelte-1kgpmtt"),D(A,"class","stat svelte-1kgpmtt"),D(r,"class","stats-grid svelte-1kgpmtt"),D(e,"class","player-stats svelte-1kgpmtt")},m(_e,Y){j(_e,e,Y),E(e,t),E(e,n),E(e,r),E(r,i),E(i,o),E(i,u),E(i,l),E(l,c),E(l,f),E(r,m),E(r,g),E(g,_),E(g,I),E(g,k),E(k,C),E(r,V),E(r,z),E(z,O),E(z,F),E(z,v),E(v,w),E(r,T),E(r,A),E(A,P),E(A,R),E(A,he),E(he,fe)},p(_e,Y){Y&16&&ue(c,_e[4]),Y&16&&h!==(h=Gc(_e[4])+"")&&ue(f,h),Y&2&&S!==(S=_e[1].wordsCompleted+"")&&ue(C,S),Y&2&&y!==(y=_e[1].totalGuesses+"")&&ue(w,y),Y&2&&Q!==(Q=Si(_e[1].totalTime)+"")&&ue(fe,Q)},d(_e){_e&&L(e)}}}function Bv(s){let e,t=s[2],n=[];for(let r=0;r<t.length;r+=1)n[r]=Wc(qc(s,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=qs()},m(r,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(r,i);j(r,e,i)},p(r,i){if(i&12){t=r[2];let o;for(o=0;o<t.length;o+=1){const u=qc(r,t,o);n[o]?n[o].p(u,i):(n[o]=Wc(u),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(r){Lt(n,r),r&&L(e)}}}function Hv(s){let e;return{c(){e=N("div"),e.innerHTML=`<p class="svelte-1kgpmtt">No players have completed this session yet.</p> 
				<p class="svelte-1kgpmtt">Be the first to make it to the leaderboard!</p>`,D(e,"class","empty-state svelte-1kgpmtt")},m(t,n){j(t,e,n)},p:ae,d(t){t&&L(e)}}}function Wv(s){let e,t=s[10]+1+"",n;return{c(){e=H("#"),n=H(t)},m(r,i){j(r,e,i),j(r,n,i)},d(r){r&&L(e),r&&L(n)}}}function Gv(s){let e;return{c(){e=H("")},m(t,n){j(t,e,n)},d(t){t&&L(e)}}}function Kv(s){let e;return{c(){e=H("")},m(t,n){j(t,e,n)},d(t){t&&L(e)}}}function Qv(s){let e;return{c(){e=H("")},m(t,n){j(t,e,n)},d(t){t&&L(e)}}}function Wc(s){let e,t,n,r,i=s[8].playerName+"",o,u,l,c=s[8].wordsCompleted+"",h,f,m,g=s[8].totalGuesses+"",_,I,k,S=Si(s[8].totalTime)+"",C,V;function z(v,y){return v[10]===0?Qv:v[10]===1?Kv:v[10]===2?Gv:Wv}let F=z(s)(s);return{c(){e=N("div"),t=N("div"),F.c(),n=$(),r=N("div"),o=H(i),u=$(),l=N("div"),h=H(c),f=$(),m=N("div"),_=H(g),I=$(),k=N("div"),C=H(S),V=$(),D(t,"class","rank-col svelte-1kgpmtt"),D(r,"class","name-col svelte-1kgpmtt"),D(l,"class","words-col svelte-1kgpmtt"),D(m,"class","guesses-col svelte-1kgpmtt"),D(k,"class","time-col svelte-1kgpmtt"),D(e,"class","table-row svelte-1kgpmtt"),Re(e,"current-player",s[8].playerUid===s[3]),Re(e,"top-three",s[10]<3)},m(v,y){j(v,e,y),E(e,t),F.m(t,null),E(e,n),E(e,r),E(r,o),E(e,u),E(e,l),E(l,h),E(e,f),E(e,m),E(m,_),E(e,I),E(e,k),E(k,C),E(e,V)},p(v,y){y&4&&i!==(i=v[8].playerName+"")&&ue(o,i),y&4&&c!==(c=v[8].wordsCompleted+"")&&ue(h,c),y&4&&g!==(g=v[8].totalGuesses+"")&&ue(_,g),y&4&&S!==(S=Si(v[8].totalTime)+"")&&ue(C,S),y&12&&Re(e,"current-player",v[8].playerUid===v[3])},d(v){v&&L(e),F.d()}}}function Xv(s){let e,t,n,r,i,o,u,l,c,h=s[0]&&Bc(s),f=s[1]&&Hc(s);function m(I,k){return I[2].length===0?Hv:Bv}let g=m(s),_=g(s);return{c(){e=N("div"),t=N("div"),n=N("h2"),n.textContent=" Leaderboard",r=$(),h&&h.c(),i=$(),f&&f.c(),o=$(),u=N("div"),l=N("div"),l.innerHTML=`<div class="rank-col svelte-1kgpmtt">Rank</div> 
			<div class="name-col svelte-1kgpmtt">Player</div> 
			<div class="words-col svelte-1kgpmtt">Words</div> 
			<div class="guesses-col svelte-1kgpmtt">Guesses</div> 
			<div class="time-col svelte-1kgpmtt">Time</div>`,c=$(),_.c(),D(n,"class","svelte-1kgpmtt"),D(t,"class","header svelte-1kgpmtt"),D(l,"class","table-header svelte-1kgpmtt"),D(u,"class","leaderboard-table svelte-1kgpmtt"),D(e,"class","leaderboard svelte-1kgpmtt")},m(I,k){j(I,e,k),E(e,t),E(t,n),E(t,r),h&&h.m(t,null),E(e,i),f&&f.m(e,null),E(e,o),E(e,u),E(u,l),E(u,c),_.m(u,null)},p(I,[k]){I[0]?h?h.p(I,k):(h=Bc(I),h.c(),h.m(t,null)):h&&(h.d(1),h=null),I[1]?f?f.p(I,k):(f=Hc(I),f.c(),f.m(e,o)):f&&(f.d(1),f=null),g===(g=m(I))&&_?_.p(I,k):(_.d(1),_=g(I),_&&(_.c(),_.m(u,null)))},i:ae,o:ae,d(I){I&&L(e),h&&h.d(),f&&f.d(),_.d()}}}function Si(s){const e=Math.floor(s/1e3),t=Math.floor(e/60),n=e%60;return t>0?`${t}m ${n}s`:`${n}s`}function Gc(s){return s===1?"st":s===2?"nd":s===3?"rd":"th"}function Yv(s,e,t){let n,{sessionId:r}=e,{currentPlayerEntry:i=null}=e;const u=ua({apiKey:"AIzaSyBTos_hTrK-w8v_04sv5huFokRIEPEJgmI",authDomain:"wordlesession.firebaseapp.com",projectId:"wordlesession",storageBucket:"wordlesession.firebasestorage.app",messagingSenderId:"274940936333",appId:"1:274940936333:web:3c9fc73014ab56afdaa2c4"}),l=Vd(u);let c=localStorage.getItem("playerUid"),h=[];return Ci(()=>{i||t(3,c="");const f=H_(R_(l,r),m=>{const g=[];m.forEach(_=>g.push(_.data())),g.sort((_,I)=>I.wordsCompleted!==_.wordsCompleted?I.wordsCompleted-_.wordsCompleted:_.totalGuesses!==I.totalGuesses?_.totalGuesses-I.totalGuesses:_.totalTime!==I.totalTime?_.totalTime-I.totalTime:_.completedAt-I.completedAt),t(2,h=g)});return()=>f()}),s.$$set=f=>{"sessionId"in f&&t(0,r=f.sessionId),"currentPlayerEntry"in f&&t(1,i=f.currentPlayerEntry)},s.$$.update=()=>{s.$$.dirty&6&&t(4,n=i?h.findIndex(f=>f.playerUid===i.playerUid)+1:0)},[r,i,h,c,n]}class Jv extends Ne{constructor(e){super(),De(this,e,Yv,Xv,Se,{sessionId:0,currentPlayerEntry:1})}}function Kc(s){let e,t,n,r;const i=[s1,t1,e1,Zv],o=[];function u(l,c){return l[7]?0:l[6]?1:l[1]?2:3}return e=u(s),t=o[e]=i[e](s),{c(){t.c(),n=qs()},m(l,c){o[e].m(l,c),j(l,n,c),r=!0},p(l,c){let h=e;e=u(l),e===h?o[e].p(l,c):(Je(),B(o[h],1,1,()=>{o[h]=null}),Ze(),t=o[e],t?t.p(l,c):(t=o[e]=i[e](l),t.c()),U(t,1),t.m(n.parentNode,n))},i(l){r||(U(t),r=!0)},o(l){B(t),r=!1},d(l){o[e].d(l),l&&L(n)}}}function Zv(s){let e,t,n,r;function i(l){s[16](l)}function o(l){s[17](l)}let u={stats:s[3],toaster:s[5]};return s[4]!==void 0&&(u.word=s[4]),s[0]!==void 0&&(u.game=s[0]),e=new qv({props:u}),Pe.push(()=>He(e,"word",i)),Pe.push(()=>He(e,"game",o)),{c(){ne(e.$$.fragment)},m(l,c){te(e,l,c),r=!0},p(l,c){const h={};c&8&&(h.stats=l[3]),c&32&&(h.toaster=l[5]),!t&&c&16&&(t=!0,h.word=l[4],Ge(()=>t=!1)),!n&&c&1&&(n=!0,h.game=l[0],Ge(()=>n=!1)),e.$set(h)},i(l){r||(U(e.$$.fragment,l),r=!0)},o(l){B(e.$$.fragment,l),r=!1},d(l){se(e,l)}}}function e1(s){let e,t,n,r;function i(l){s[13](l)}function o(l){s[14](l)}let u={toaster:s[5]};return s[1]!==void 0&&(u.sessionState=s[1]),s[2]!==void 0&&(u.currentPlayerEntry=s[2]),e=new Yw({props:u}),Pe.push(()=>He(e,"sessionState",i)),Pe.push(()=>He(e,"currentPlayerEntry",o)),e.$on("complete",s[15]),{c(){ne(e.$$.fragment)},m(l,c){te(e,l,c),r=!0},p(l,c){const h={};c&32&&(h.toaster=l[5]),!t&&c&2&&(t=!0,h.sessionState=l[1],Ge(()=>t=!1)),!n&&c&4&&(n=!0,h.currentPlayerEntry=l[2],Ge(()=>n=!1)),e.$set(h)},i(l){r||(U(e.$$.fragment,l),r=!0)},o(l){B(e.$$.fragment,l),r=!1},d(l){se(e,l)}}}function t1(s){var n;let e,t;return e=new sv({props:{sessionId:((n=s[1])==null?void 0:n.sessionId)||s[8].get("session")||""}}),e.$on("start",s[9]),{c(){ne(e.$$.fragment)},m(r,i){te(e,r,i),t=!0},p(r,i){var u;const o={};i&2&&(o.sessionId=((u=r[1])==null?void 0:u.sessionId)||r[8].get("session")||""),e.$set(o)},i(r){t||(U(e.$$.fragment,r),t=!0)},o(r){B(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function s1(s){var n;let e,t;return e=new Jv({props:{sessionId:((n=s[1])==null?void 0:n.sessionId)||s[8].get("session")||"",currentPlayerEntry:s[2]}}),{c(){ne(e.$$.fragment)},m(r,i){te(e,r,i),t=!0},p(r,i){var u;const o={};i&2&&(o.sessionId=((u=r[1])==null?void 0:u.sessionId)||r[8].get("session")||""),i&4&&(o.currentPlayerEntry=r[2]),e.$set(o)},i(r){t||(U(e.$$.fragment,r),t=!0)},o(r){B(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function n1(s){let e,t,n,r,i={};e=new hw({props:i}),s[12](e);let o=s[5]&&Kc(s);return{c(){ne(e.$$.fragment),t=$(),o&&o.c(),n=qs()},m(u,l){te(e,u,l),j(u,t,l),o&&o.m(u,l),j(u,n,l),r=!0},p(u,[l]){const c={};e.$set(c),u[5]?o?(o.p(u,l),l&32&&U(o,1)):(o=Kc(u),o.c(),U(o,1),o.m(n.parentNode,n)):o&&(Je(),B(o,1,1,()=>{o=null}),Ze())},i(u){r||(U(e.$$.fragment,u),U(o),r=!0)},o(u){B(e.$$.fragment,u),B(o),r=!1},d(u){s[12](null),se(e,u),u&&L(t),o&&o.d(u),u&&L(n)}}}document.title="Wordle+ | An infinite word guessing game";function r1(s){localStorage.setItem(`session-${s.sessionId}`,s.toString())}function i1(s,e,t){let n;At(s,Ue,Y=>t(18,n=Y));let{version:r}=e;sa("version",r),localStorage.setItem("version",r);let i,o,u,l,c=null,h=!1,f=!1,m=null;Ot.set(new Kd(localStorage.getItem("settings"))),Ot.subscribe(Y=>localStorage.setItem("settings",JSON.stringify(Y)));const _=ua({apiKey:"AIzaSyBTos_hTrK-w8v_04sv5huFokRIEPEJgmI",authDomain:"wordlesession.firebaseapp.com",projectId:"wordlesession",storageBucket:"wordlesession.firebasestorage.app",messagingSenderId:"274940936333",appId:"1:274940936333:web:3c9fc73014ab56afdaa2c4"}),I=Vd(_),k=new URLSearchParams(window.location.search),S=k.get("session"),C=k.get("leaderboard")==="true",V=window.location.hash.slice(1).split("/"),z=isNaN(rt[V[0]])?S?rt.session:+localStorage.getItem("mode")||pe.default:rt[V[0]];Ue.set(z),!isNaN(+V[1])&&+V[1]<Ws(z)&&n!==rt.session&&(pe.modes[z].seed=(+V[1]-1)*pe.modes[z].unit+pe.modes[z].start,pe.modes[z].historical=!0),Ue.subscribe(Y=>{if(Y===rt.session){if(S){const W=Ii(S),le=localStorage.getItem(`session-${W.id}-leaderboard`);W?C?(t(2,m=null),t(7,f=!0)):localStorage.getItem("player")?le?(t(2,m=JSON.parse(le)),window.console.log("Current player entry:",m),m.completedAt!=null?t(7,f=!0):F(W.id)):F(W.id):t(6,h=!0):t(6,h=!0)}}else t(6,h=!1),t(7,f=!1),t(1,c=null),O()});function O(){localStorage.setItem("mode",`${n}`),window.location.hash=rt[n],t(3,i=new Db(localStorage.getItem(`stats-${n}`)||n)),t(4,o=Us.words[Gd(0,Us.words.length,pe.modes[n].seed)]),pe.modes[n].historical?t(0,u=new Ko(n,localStorage.getItem(`state-${n}-h`))):t(0,u=new Ko(n,localStorage.getItem(`state-${n}`))),ns.set(new _r(u.board))}function F(Y){const W=Ii(Y);if(W){if(t(1,c=new Nb(Y,localStorage.getItem(`session-${Y}`))),ns.set(new _r(c.board)),m||t(2,m={playerName:localStorage.getItem("player")||"",playerUid:localStorage.getItem("playerUid"),sessionId:c.sessionId,totalGuesses:0,totalTime:Date.now()-c.startTime,completedAt:null,wordsCompleted:0}),c.currentWordIndex===0&&!c.currentWord){const le=W.words[0];t(1,c.currentWord=le.word.toLowerCase(),c),t(1,c.currentHint=le.hint,c),t(1,c.currentWordLength=le.length,c),t(1,c.board={words:Array(6).fill(""),state:Array.from({length:6},()=>Array(le.length).fill(""))},c)}t(6,h=!1),t(7,f=!1)}}function v(Y){const{sessionId:W,playerName:le}=Y.detail;localStorage.setItem("player",le);let ze=localStorage.getItem("playerUid");ze||(ze=crypto.randomUUID(),localStorage.setItem("playerUid",ze)),F(W)}async function y(Y){localStorage.setItem(`session-${Y.sessionId}-leaderboard`,JSON.stringify(Y)),t(2,m=Y),t(7,f=!0)}function w(Y){pe.modes[n].historical?localStorage.setItem(`state-${n}-h`,Y.toString()):localStorage.setItem(`state-${n}`,Y.toString())}async function T(Y){const W=C_(I,Y.sessionId,localStorage.getItem("playerUid"));await B_(W,Y,{merge:!0})}function A(Y){localStorage.setItem(`session-${Y.sessionId}-leaderboard`,JSON.stringify(Y)),T(Y).catch(W=>{console.error("Failed to update player data in Firestore:",W)})}function P(Y){Pe[Y?"unshift":"push"](()=>{l=Y,t(5,l)})}function R(Y){c=Y,t(1,c)}function he(Y){m=Y,t(2,m)}const Q=Y=>y(Y.detail);function fe(Y){o=Y,t(4,o)}function _e(Y){u=Y,t(0,u)}return s.$$set=Y=>{"version"in Y&&t(11,r=Y.version)},s.$$.update=()=>{s.$$.dirty&1&&u&&w(u),s.$$.dirty&2&&c&&r1(c),s.$$.dirty&4&&m&&A(m)},[u,c,m,i,o,l,h,f,k,v,y,r,P,R,he,Q,fe,_e]}class o1 extends Ne{constructor(e){super(),De(this,e,i1,n1,Se,{version:11})}}//! IF ANYTHING IN THIS FILE IS CHANGED MAKE SURE setVersion.js HAS ALSO BEEN UPDATED
new o1({target:document.body,props:{version:"1.5.2"}});
